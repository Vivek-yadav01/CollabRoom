var mR=Object.defineProperty;var jx=i=>{throw TypeError(i)};var yR=(i,e,t)=>e in i?mR(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Re=(i,e,t)=>yR(i,typeof e!="symbol"?e+"":e,t),ev=(i,e,t)=>e.has(i)||jx("Cannot "+t);var d=(i,e,t)=>(ev(i,e,"read from private field"),t?t.call(i):e.get(i)),R=(i,e,t)=>e.has(i)?jx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),_=(i,e,t,n)=>(ev(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),k=(i,e,t)=>(ev(i,e,"access private method"),t);var xn=(i,e,t,n)=>({set _(s){_(i,e,s,t)},get _(){return d(i,e,n)}});function vR(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in i)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function hb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var tv={exports:{}},Qu={},nv={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function wR(){if(Bx)return je;Bx=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function T(B,G,ue){this.props=B,this.context=G,this.refs=x,this.updater=ue||b}T.prototype.isReactComponent={},T.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=T.prototype;function P(B,G,ue){this.props=B,this.context=G,this.refs=x,this.updater=ue||b}var L=P.prototype=new A;L.constructor=P,E(L,T.prototype),L.isPureReactComponent=!0;var I=Array.isArray,O=Object.prototype.hasOwnProperty,N={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function V(B,G,ue){var Ee,ke={},we=null,me=null;if(G!=null)for(Ee in G.ref!==void 0&&(me=G.ref),G.key!==void 0&&(we=""+G.key),G)O.call(G,Ee)&&!z.hasOwnProperty(Ee)&&(ke[Ee]=G[Ee]);var Ne=arguments.length-2;if(Ne===1)ke.children=ue;else if(1<Ne){for(var ze=Array(Ne),Fe=0;Fe<Ne;Fe++)ze[Fe]=arguments[Fe+2];ke.children=ze}if(B&&B.defaultProps)for(Ee in Ne=B.defaultProps,Ne)ke[Ee]===void 0&&(ke[Ee]=Ne[Ee]);return{$$typeof:i,type:B,key:we,ref:me,props:ke,_owner:N.current}}function q(B,G){return{$$typeof:i,type:B.type,key:G,ref:B.ref,props:B.props,_owner:B._owner}}function X(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}function Z(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return G[ue]})}var xe=/\/+/g;function ce(B,G){return typeof B=="object"&&B!==null&&B.key!=null?Z(""+B.key):G.toString(36)}function oe(B,G,ue,Ee,ke){var we=typeof B;(we==="undefined"||we==="boolean")&&(B=null);var me=!1;if(B===null)me=!0;else switch(we){case"string":case"number":me=!0;break;case"object":switch(B.$$typeof){case i:case e:me=!0}}if(me)return me=B,ke=ke(me),B=Ee===""?"."+ce(me,0):Ee,I(ke)?(ue="",B!=null&&(ue=B.replace(xe,"$&/")+"/"),oe(ke,G,ue,"",function(Fe){return Fe})):ke!=null&&(X(ke)&&(ke=q(ke,ue+(!ke.key||me&&me.key===ke.key?"":(""+ke.key).replace(xe,"$&/")+"/")+B)),G.push(ke)),1;if(me=0,Ee=Ee===""?".":Ee+":",I(B))for(var Ne=0;Ne<B.length;Ne++){we=B[Ne];var ze=Ee+ce(we,Ne);me+=oe(we,G,ue,ze,ke)}else if(ze=y(B),typeof ze=="function")for(B=ze.call(B),Ne=0;!(we=B.next()).done;)we=we.value,ze=Ee+ce(we,Ne++),me+=oe(we,G,ue,ze,ke);else if(we==="object")throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return me}function ge(B,G,ue){if(B==null)return B;var Ee=[],ke=0;return oe(B,Ee,"","",function(we){return G.call(ue,we,ke++)}),Ee}function J(B){if(B._status===-1){var G=B._result;G=G(),G.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var ee={current:null},W={transition:null},re={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:W,ReactCurrentOwner:N};function ne(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:ge,forEach:function(B,G,ue){ge(B,function(){G.apply(this,arguments)},ue)},count:function(B){var G=0;return ge(B,function(){G++}),G},toArray:function(B){return ge(B,function(G){return G})||[]},only:function(B){if(!X(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},je.Component=T,je.Fragment=t,je.Profiler=s,je.PureComponent=P,je.StrictMode=n,je.Suspense=h,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,je.act=ne,je.cloneElement=function(B,G,ue){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ee=E({},B.props),ke=B.key,we=B.ref,me=B._owner;if(G!=null){if(G.ref!==void 0&&(we=G.ref,me=N.current),G.key!==void 0&&(ke=""+G.key),B.type&&B.type.defaultProps)var Ne=B.type.defaultProps;for(ze in G)O.call(G,ze)&&!z.hasOwnProperty(ze)&&(Ee[ze]=G[ze]===void 0&&Ne!==void 0?Ne[ze]:G[ze])}var ze=arguments.length-2;if(ze===1)Ee.children=ue;else if(1<ze){Ne=Array(ze);for(var Fe=0;Fe<ze;Fe++)Ne[Fe]=arguments[Fe+2];Ee.children=Ne}return{$$typeof:i,type:B.type,key:ke,ref:we,props:Ee,_owner:me}},je.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},je.createElement=V,je.createFactory=function(B){var G=V.bind(null,B);return G.type=B,G},je.createRef=function(){return{current:null}},je.forwardRef=function(B){return{$$typeof:c,render:B}},je.isValidElement=X,je.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:J}},je.memo=function(B,G){return{$$typeof:f,type:B,compare:G===void 0?null:G}},je.startTransition=function(B){var G=W.transition;W.transition={};try{B()}finally{W.transition=G}},je.unstable_act=ne,je.useCallback=function(B,G){return ee.current.useCallback(B,G)},je.useContext=function(B){return ee.current.useContext(B)},je.useDebugValue=function(){},je.useDeferredValue=function(B){return ee.current.useDeferredValue(B)},je.useEffect=function(B,G){return ee.current.useEffect(B,G)},je.useId=function(){return ee.current.useId()},je.useImperativeHandle=function(B,G,ue){return ee.current.useImperativeHandle(B,G,ue)},je.useInsertionEffect=function(B,G){return ee.current.useInsertionEffect(B,G)},je.useLayoutEffect=function(B,G){return ee.current.useLayoutEffect(B,G)},je.useMemo=function(B,G){return ee.current.useMemo(B,G)},je.useReducer=function(B,G,ue){return ee.current.useReducer(B,G,ue)},je.useRef=function(B){return ee.current.useRef(B)},je.useState=function(B){return ee.current.useState(B)},je.useSyncExternalStore=function(B,G,ue){return ee.current.useSyncExternalStore(B,G,ue)},je.useTransition=function(){return ee.current.useTransition()},je.version="18.3.1",je}var zx;function fb(){return zx||(zx=1,nv.exports=wR()),nv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function bR(){if(Hx)return Qu;Hx=1;var i=fb(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,f){var g,m={},y=null,b=null;f!==void 0&&(y=""+f),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)n.call(h,g)&&!a.hasOwnProperty(g)&&(m[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:e,type:c,key:y,ref:b,props:m,_owner:s.current}}return Qu.Fragment=t,Qu.jsx=l,Qu.jsxs=l,Qu}var Ux;function ER(){return Ux||(Ux=1,tv.exports=bR()),tv.exports}var D=ER(),dp={},rv={exports:{}},On={},iv={exports:{}},sv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function xR(){return $x||($x=1,function(i){function e(W,re){var ne=W.length;W.push(re);e:for(;0<ne;){var B=ne-1>>>1,G=W[B];if(0<s(G,re))W[B]=re,W[ne]=G,ne=B;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var re=W[0],ne=W.pop();if(ne!==re){W[0]=ne;e:for(var B=0,G=W.length,ue=G>>>1;B<ue;){var Ee=2*(B+1)-1,ke=W[Ee],we=Ee+1,me=W[we];if(0>s(ke,ne))we<G&&0>s(me,ke)?(W[B]=me,W[we]=ne,B=we):(W[B]=ke,W[Ee]=ne,B=Ee);else if(we<G&&0>s(me,ne))W[B]=me,W[we]=ne,B=we;else break e}}return re}function s(W,re){var ne=W.sortIndex-re.sortIndex;return ne!==0?ne:W.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();i.unstable_now=function(){return l.now()-c}}var h=[],f=[],g=1,m=null,y=3,b=!1,E=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(W){for(var re=t(f);re!==null;){if(re.callback===null)n(f);else if(re.startTime<=W)n(f),re.sortIndex=re.expirationTime,e(h,re);else break;re=t(f)}}function I(W){if(x=!1,L(W),!E)if(t(h)!==null)E=!0,J(O);else{var re=t(f);re!==null&&ee(I,re.startTime-W)}}function O(W,re){E=!1,x&&(x=!1,A(V),V=-1),b=!0;var ne=y;try{for(L(re),m=t(h);m!==null&&(!(m.expirationTime>re)||W&&!Z());){var B=m.callback;if(typeof B=="function"){m.callback=null,y=m.priorityLevel;var G=B(m.expirationTime<=re);re=i.unstable_now(),typeof G=="function"?m.callback=G:m===t(h)&&n(h),L(re)}else n(h);m=t(h)}if(m!==null)var ue=!0;else{var Ee=t(f);Ee!==null&&ee(I,Ee.startTime-re),ue=!1}return ue}finally{m=null,y=ne,b=!1}}var N=!1,z=null,V=-1,q=5,X=-1;function Z(){return!(i.unstable_now()-X<q)}function xe(){if(z!==null){var W=i.unstable_now();X=W;var re=!0;try{re=z(!0,W)}finally{re?ce():(N=!1,z=null)}}else N=!1}var ce;if(typeof P=="function")ce=function(){P(xe)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ge=oe.port2;oe.port1.onmessage=xe,ce=function(){ge.postMessage(null)}}else ce=function(){T(xe,0)};function J(W){z=W,N||(N=!0,ce())}function ee(W,re){V=T(function(){W(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_continueExecution=function(){E||b||(E=!0,J(O))},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return t(h)},i.unstable_next=function(W){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var ne=y;y=re;try{return W()}finally{y=ne}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ne=y;y=W;try{return re()}finally{y=ne}},i.unstable_scheduleCallback=function(W,re,ne){var B=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?B+ne:B):ne=B,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ne+G,W={id:g++,callback:re,priorityLevel:W,startTime:ne,expirationTime:G,sortIndex:-1},ne>B?(W.sortIndex=ne,e(f,W),t(h)===null&&W===t(f)&&(x?(A(V),V=-1):x=!0,ee(I,ne-B))):(W.sortIndex=G,e(h,W),E||b||(E=!0,J(O))),W},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(W){var re=y;return function(){var ne=y;y=re;try{return W.apply(this,arguments)}finally{y=ne}}}}(sv)),sv}var Vx;function SR(){return Vx||(Vx=1,iv.exports=xR()),iv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function _R(){if(Wx)return On;Wx=1;var i=fb(),e=SR();function t(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(r,o){l(r,o),l(r+"Capture",o)}function l(r,o){for(s[r]=o,r=0;r<o.length;r++)n.add(o[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function y(r){return h.call(m,r)?!0:h.call(g,r)?!1:f.test(r)?m[r]=!0:(g[r]=!0,!1)}function b(r,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function E(r,o,u,p){if(o===null||typeof o>"u"||b(r,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(r,o,u,p,v,w,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=r,this.type=o,this.sanitizeURL=w,this.removeEmptyString=C}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){T[r]=new x(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];T[o]=new x(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){T[r]=new x(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){T[r]=new x(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){T[r]=new x(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){T[r]=new x(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){T[r]=new x(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){T[r]=new x(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){T[r]=new x(r,5,!1,r.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(A,P);T[o]=new x(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(A,P);T[o]=new x(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(A,P);T[o]=new x(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){T[r]=new x(r,1,!1,r.toLowerCase(),null,!1,!1)}),T.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){T[r]=new x(r,1,!1,r.toLowerCase(),null,!0,!0)});function L(r,o,u,p){var v=T.hasOwnProperty(o)?T[o]:null;(v!==null?v.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(E(o,u,v,p)&&(u=null),p||v===null?y(o)&&(u===null?r.removeAttribute(o):r.setAttribute(o,""+u)):v.mustUseProperty?r[v.propertyName]=u===null?v.type===3?!1:"":u:(o=v.attributeName,p=v.attributeNamespace,u===null?r.removeAttribute(o):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,p?r.setAttributeNS(p,o,u):r.setAttribute(o,u))))}var I=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),N=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Z=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),W=Symbol.iterator;function re(r){return r===null||typeof r!="object"?null:(r=W&&r[W]||r["@@iterator"],typeof r=="function"?r:null)}var ne=Object.assign,B;function G(r){if(B===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+r}var ue=!1;function Ee(r,o){if(!r||ue)return"";ue=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch($){var p=$}Reflect.construct(r,[],o)}else{try{o.call()}catch($){p=$}r.call(o.prototype)}else{try{throw Error()}catch($){p=$}r()}}catch($){if($&&p&&typeof $.stack=="string"){for(var v=$.stack.split(`
`),w=p.stack.split(`
`),C=v.length-1,M=w.length-1;1<=C&&0<=M&&v[C]!==w[M];)M--;for(;1<=C&&0<=M;C--,M--)if(v[C]!==w[M]){if(C!==1||M!==1)do if(C--,M--,0>M||v[C]!==w[M]){var F=`
`+v[C].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=C&&0<=M);break}}}finally{ue=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?G(r):""}function ke(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=Ee(r.type,!1),r;case 11:return r=Ee(r.type.render,!1),r;case 1:return r=Ee(r.type,!0),r;default:return""}}function we(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case N:return"Portal";case q:return"Profiler";case V:return"StrictMode";case ce:return"Suspense";case oe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Z:return(r.displayName||"Context")+".Consumer";case X:return(r._context.displayName||"Context")+".Provider";case xe:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ge:return o=r.displayName||null,o!==null?o:we(r.type)||"Memo";case J:o=r._payload,r=r._init;try{return we(r(o))}catch{}}return null}function me(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(o);case 8:return o===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ne(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ze(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Fe(r){var o=ze(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),p=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,w=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(C){p=""+C,w.call(this,C)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(C){p=""+C},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Qr(r){r._valueTracker||(r._valueTracker=Fe(r))}function Cs(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return r&&(p=ze(r)?r.checked?"true":"false":r.value),r=p,r!==u?(o.setValue(r),!0):!1}function qe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function lt(r,o){var u=o.checked;return ne({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function Mt(r,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=Ne(o.value!=null?o.value:u),r._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function xt(r,o){o=o.checked,o!=null&&L(r,"checked",o,!1)}function Jr(r,o){xt(r,o);var u=Ne(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?hu(r,o.type,u):o.hasOwnProperty("defaultValue")&&hu(r,o.type,Ne(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function ks(r,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,u||o===r.value||(r.value=o),r.defaultValue=o}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function hu(r,o,u){(o!=="number"||qe(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var Fo=Array.isArray;function Ar(r,o,u,p){if(r=r.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<r.length;u++)v=o.hasOwnProperty("$"+r[u].value),r[u].selected!==v&&(r[u].selected=v),v&&p&&(r[u].defaultSelected=!0)}else{for(u=""+Ne(u),o=null,v=0;v<r.length;v++){if(r[v].value===u){r[v].selected=!0,p&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function fu(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Zh(r,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Fo(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}r._wrapperState={initialValue:Ne(u)}}function ef(r,o){var u=Ne(o.value),p=Ne(o.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),o.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),p!=null&&(r.defaultValue=""+p)}function tf(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function nf(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zr(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?nf(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Mi,jo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,v){MSApp.execUnsafeLocalFunction(function(){return r(o,u,p,v)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Mi.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function Ii(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bk=["Webkit","ms","Moz","O"];Object.keys(pu).forEach(function(r){bk.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),pu[o]=pu[r]})});function Zb(r,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||pu.hasOwnProperty(r)&&pu[r]?(""+o).trim():o+"px"}function e0(r,o){r=r.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,v=Zb(u,o[u],p);u==="float"&&(u="cssFloat"),p?r.setProperty(u,v):r[u]=v}}var Ek=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hm(r,o){if(o){if(Ek[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function fm(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pm=null;function gm(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mm=null,ml=null,yl=null;function t0(r){if(r=Ou(r)){if(typeof mm!="function")throw Error(t(280));var o=r.stateNode;o&&(o=Cf(o),mm(r.stateNode,r.type,o))}}function n0(r){ml?yl?yl.push(r):yl=[r]:ml=r}function r0(){if(ml){var r=ml,o=yl;if(yl=ml=null,t0(r),o)for(r=0;r<o.length;r++)t0(o[r])}}function i0(r,o){return r(o)}function s0(){}var ym=!1;function o0(r,o,u){if(ym)return r(o,u);ym=!0;try{return i0(r,o,u)}finally{ym=!1,(ml!==null||yl!==null)&&(s0(),r0())}}function gu(r,o){var u=r.stateNode;if(u===null)return null;var p=Cf(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var vm=!1;if(c)try{var mu={};Object.defineProperty(mu,"passive",{get:function(){vm=!0}}),window.addEventListener("test",mu,mu),window.removeEventListener("test",mu,mu)}catch{vm=!1}function xk(r,o,u,p,v,w,C,M,F){var $=Array.prototype.slice.call(arguments,3);try{o.apply(u,$)}catch(K){this.onError(K)}}var yu=!1,rf=null,sf=!1,wm=null,Sk={onError:function(r){yu=!0,rf=r}};function _k(r,o,u,p,v,w,C,M,F){yu=!1,rf=null,xk.apply(Sk,arguments)}function Ak(r,o,u,p,v,w,C,M,F){if(_k.apply(this,arguments),yu){if(yu){var $=rf;yu=!1,rf=null}else throw Error(t(198));sf||(sf=!0,wm=$)}}function Bo(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function a0(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function l0(r){if(Bo(r)!==r)throw Error(t(188))}function Ck(r){var o=r.alternate;if(!o){if(o=Bo(r),o===null)throw Error(t(188));return o!==r?null:r}for(var u=r,p=o;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return l0(v),r;if(w===p)return l0(v),o;w=w.sibling}throw Error(t(188))}if(u.return!==p.return)u=v,p=w;else{for(var C=!1,M=v.child;M;){if(M===u){C=!0,u=v,p=w;break}if(M===p){C=!0,p=v,u=w;break}M=M.sibling}if(!C){for(M=w.child;M;){if(M===u){C=!0,u=w,p=v;break}if(M===p){C=!0,p=w,u=v;break}M=M.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?r:o}function c0(r){return r=Ck(r),r!==null?u0(r):null}function u0(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=u0(r);if(o!==null)return o;r=r.sibling}return null}var d0=e.unstable_scheduleCallback,h0=e.unstable_cancelCallback,kk=e.unstable_shouldYield,Tk=e.unstable_requestPaint,St=e.unstable_now,Rk=e.unstable_getCurrentPriorityLevel,bm=e.unstable_ImmediatePriority,f0=e.unstable_UserBlockingPriority,of=e.unstable_NormalPriority,Pk=e.unstable_LowPriority,p0=e.unstable_IdlePriority,af=null,ei=null;function Lk(r){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(af,r,void 0,(r.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:Nk,Mk=Math.log,Ik=Math.LN2;function Nk(r){return r>>>=0,r===0?32:31-(Mk(r)/Ik|0)|0}var lf=64,cf=4194304;function vu(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function uf(r,o){var u=r.pendingLanes;if(u===0)return 0;var p=0,v=r.suspendedLanes,w=r.pingedLanes,C=u&268435455;if(C!==0){var M=C&~v;M!==0?p=vu(M):(w&=C,w!==0&&(p=vu(w)))}else C=u&~v,C!==0?p=vu(C):w!==0&&(p=vu(w));if(p===0)return 0;if(o!==0&&o!==p&&!(o&v)&&(v=p&-p,w=o&-o,v>=w||v===16&&(w&4194240)!==0))return o;if(p&4&&(p|=u&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=p;0<o;)u=31-Cr(o),v=1<<u,p|=r[u],o&=~v;return p}function Dk(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ok(r,o){for(var u=r.suspendedLanes,p=r.pingedLanes,v=r.expirationTimes,w=r.pendingLanes;0<w;){var C=31-Cr(w),M=1<<C,F=v[C];F===-1?(!(M&u)||M&p)&&(v[C]=Dk(M,o)):F<=o&&(r.expiredLanes|=M),w&=~M}}function Em(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function g0(){var r=lf;return lf<<=1,!(lf&4194240)&&(lf=64),r}function xm(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function wu(r,o,u){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Cr(o),r[o]=u}function Fk(r,o){var u=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<u;){var v=31-Cr(u),w=1<<v;o[v]=0,p[v]=-1,r[v]=-1,u&=~w}}function Sm(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var p=31-Cr(u),v=1<<p;v&o|r[p]&o&&(r[p]|=o),u&=~v}}var Ke=0;function m0(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var y0,_m,v0,w0,b0,Am=!1,df=[],Ts=null,Rs=null,Ps=null,bu=new Map,Eu=new Map,Ls=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E0(r,o){switch(r){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":bu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(o.pointerId)}}function xu(r,o,u,p,v,w){return r===null||r.nativeEvent!==w?(r={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[v]},o!==null&&(o=Ou(o),o!==null&&_m(o)),r):(r.eventSystemFlags|=p,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function Bk(r,o,u,p,v){switch(o){case"focusin":return Ts=xu(Ts,r,o,u,p,v),!0;case"dragenter":return Rs=xu(Rs,r,o,u,p,v),!0;case"mouseover":return Ps=xu(Ps,r,o,u,p,v),!0;case"pointerover":var w=v.pointerId;return bu.set(w,xu(bu.get(w)||null,r,o,u,p,v)),!0;case"gotpointercapture":return w=v.pointerId,Eu.set(w,xu(Eu.get(w)||null,r,o,u,p,v)),!0}return!1}function x0(r){var o=zo(r.target);if(o!==null){var u=Bo(o);if(u!==null){if(o=u.tag,o===13){if(o=a0(u),o!==null){r.blockedOn=o,b0(r.priority,function(){v0(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hf(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=km(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var p=new u.constructor(u.type,u);pm=p,u.target.dispatchEvent(p),pm=null}else return o=Ou(u),o!==null&&_m(o),r.blockedOn=u,!1;o.shift()}return!0}function S0(r,o,u){hf(r)&&u.delete(o)}function zk(){Am=!1,Ts!==null&&hf(Ts)&&(Ts=null),Rs!==null&&hf(Rs)&&(Rs=null),Ps!==null&&hf(Ps)&&(Ps=null),bu.forEach(S0),Eu.forEach(S0)}function Su(r,o){r.blockedOn===o&&(r.blockedOn=null,Am||(Am=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zk)))}function _u(r){function o(v){return Su(v,r)}if(0<df.length){Su(df[0],r);for(var u=1;u<df.length;u++){var p=df[u];p.blockedOn===r&&(p.blockedOn=null)}}for(Ts!==null&&Su(Ts,r),Rs!==null&&Su(Rs,r),Ps!==null&&Su(Ps,r),bu.forEach(o),Eu.forEach(o),u=0;u<Ls.length;u++)p=Ls[u],p.blockedOn===r&&(p.blockedOn=null);for(;0<Ls.length&&(u=Ls[0],u.blockedOn===null);)x0(u),u.blockedOn===null&&Ls.shift()}var vl=I.ReactCurrentBatchConfig,ff=!0;function Hk(r,o,u,p){var v=Ke,w=vl.transition;vl.transition=null;try{Ke=1,Cm(r,o,u,p)}finally{Ke=v,vl.transition=w}}function Uk(r,o,u,p){var v=Ke,w=vl.transition;vl.transition=null;try{Ke=4,Cm(r,o,u,p)}finally{Ke=v,vl.transition=w}}function Cm(r,o,u,p){if(ff){var v=km(r,o,u,p);if(v===null)Vm(r,o,p,pf,u),E0(r,p);else if(Bk(v,r,o,u,p))p.stopPropagation();else if(E0(r,p),o&4&&-1<jk.indexOf(r)){for(;v!==null;){var w=Ou(v);if(w!==null&&y0(w),w=km(r,o,u,p),w===null&&Vm(r,o,p,pf,u),w===v)break;v=w}v!==null&&p.stopPropagation()}else Vm(r,o,p,null,u)}}var pf=null;function km(r,o,u,p){if(pf=null,r=gm(p),r=zo(r),r!==null)if(o=Bo(r),o===null)r=null;else if(u=o.tag,u===13){if(r=a0(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return pf=r,null}function _0(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rk()){case bm:return 1;case f0:return 4;case of:case Pk:return 16;case p0:return 536870912;default:return 16}default:return 16}}var Ms=null,Tm=null,gf=null;function A0(){if(gf)return gf;var r,o=Tm,u=o.length,p,v="value"in Ms?Ms.value:Ms.textContent,w=v.length;for(r=0;r<u&&o[r]===v[r];r++);var C=u-r;for(p=1;p<=C&&o[u-p]===v[w-p];p++);return gf=v.slice(r,1<p?1-p:void 0)}function mf(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function yf(){return!0}function C0(){return!1}function Vn(r){function o(u,p,v,w,C){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(u=r[M],this[M]=u?u(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?yf:C0,this.isPropagationStopped=C0,this}return ne(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=yf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=yf)},persist:function(){},isPersistent:yf}),o}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rm=Vn(wl),Au=ne({},wl,{view:0,detail:0}),$k=Vn(Au),Pm,Lm,Cu,vf=ne({},Au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Cu&&(Cu&&r.type==="mousemove"?(Pm=r.screenX-Cu.screenX,Lm=r.screenY-Cu.screenY):Lm=Pm=0,Cu=r),Pm)},movementY:function(r){return"movementY"in r?r.movementY:Lm}}),k0=Vn(vf),Vk=ne({},vf,{dataTransfer:0}),Wk=Vn(Vk),Gk=ne({},Au,{relatedTarget:0}),Mm=Vn(Gk),qk=ne({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),Xk=Vn(qk),Yk=ne({},wl,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Kk=Vn(Yk),Qk=ne({},wl,{data:0}),T0=Vn(Qk),Jk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tT(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=eT[r])?!!o[r]:!1}function Im(){return tT}var nT=ne({},Au,{key:function(r){if(r.key){var o=Jk[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=mf(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Zk[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(r){return r.type==="keypress"?mf(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?mf(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),rT=Vn(nT),iT=ne({},vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R0=Vn(iT),sT=ne({},Au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),oT=Vn(sT),aT=ne({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),lT=Vn(aT),cT=ne({},vf,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),uT=Vn(cT),dT=[9,13,27,32],Nm=c&&"CompositionEvent"in window,ku=null;c&&"documentMode"in document&&(ku=document.documentMode);var hT=c&&"TextEvent"in window&&!ku,P0=c&&(!Nm||ku&&8<ku&&11>=ku),L0=" ",M0=!1;function I0(r,o){switch(r){case"keyup":return dT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var bl=!1;function fT(r,o){switch(r){case"compositionend":return N0(o);case"keypress":return o.which!==32?null:(M0=!0,L0);case"textInput":return r=o.data,r===L0&&M0?null:r;default:return null}}function pT(r,o){if(bl)return r==="compositionend"||!Nm&&I0(r,o)?(r=A0(),gf=Tm=Ms=null,bl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return P0&&o.locale!=="ko"?null:o.data;default:return null}}var gT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!gT[r.type]:o==="textarea"}function O0(r,o,u,p){n0(p),o=Sf(o,"onChange"),0<o.length&&(u=new Rm("onChange","change",null,u,p),r.push({event:u,listeners:o}))}var Tu=null,Ru=null;function mT(r){eE(r,0)}function wf(r){var o=Al(r);if(Cs(o))return r}function yT(r,o){if(r==="change")return o}var F0=!1;if(c){var Dm;if(c){var Om="oninput"in document;if(!Om){var j0=document.createElement("div");j0.setAttribute("oninput","return;"),Om=typeof j0.oninput=="function"}Dm=Om}else Dm=!1;F0=Dm&&(!document.documentMode||9<document.documentMode)}function B0(){Tu&&(Tu.detachEvent("onpropertychange",z0),Ru=Tu=null)}function z0(r){if(r.propertyName==="value"&&wf(Ru)){var o=[];O0(o,Ru,r,gm(r)),o0(mT,o)}}function vT(r,o,u){r==="focusin"?(B0(),Tu=o,Ru=u,Tu.attachEvent("onpropertychange",z0)):r==="focusout"&&B0()}function wT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wf(Ru)}function bT(r,o){if(r==="click")return wf(o)}function ET(r,o){if(r==="input"||r==="change")return wf(o)}function xT(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var kr=typeof Object.is=="function"?Object.is:xT;function Pu(r,o){if(kr(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!h.call(o,v)||!kr(r[v],o[v]))return!1}return!0}function H0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function U0(r,o){var u=H0(r);r=0;for(var p;u;){if(u.nodeType===3){if(p=r+u.textContent.length,r<=o&&p>=o)return{node:u,offset:o-r};r=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=H0(u)}}function $0(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?$0(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function V0(){for(var r=window,o=qe();o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=qe(r.document)}return o}function Fm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function ST(r){var o=V0(),u=r.focusedElem,p=r.selectionRange;if(o!==u&&u&&u.ownerDocument&&$0(u.ownerDocument.documentElement,u)){if(p!==null&&Fm(u)){if(o=p.start,r=p.end,r===void 0&&(r=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(r,u.value.length);else if(r=(o=u.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var v=u.textContent.length,w=Math.min(p.start,v);p=p.end===void 0?w:Math.min(p.end,v),!r.extend&&w>p&&(v=p,p=w,w=v),v=U0(u,w);var C=U0(u,p);v&&C&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==C.node||r.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),r.removeAllRanges(),w>p?(r.addRange(o),r.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),r.addRange(o)))}}for(o=[],r=u;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)r=o[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var _T=c&&"documentMode"in document&&11>=document.documentMode,El=null,jm=null,Lu=null,Bm=!1;function W0(r,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bm||El==null||El!==qe(p)||(p=El,"selectionStart"in p&&Fm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Lu&&Pu(Lu,p)||(Lu=p,p=Sf(jm,"onSelect"),0<p.length&&(o=new Rm("onSelect","select",null,o,u),r.push({event:o,listeners:p}),o.target=El)))}function bf(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var xl={animationend:bf("Animation","AnimationEnd"),animationiteration:bf("Animation","AnimationIteration"),animationstart:bf("Animation","AnimationStart"),transitionend:bf("Transition","TransitionEnd")},zm={},G0={};c&&(G0=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Ef(r){if(zm[r])return zm[r];if(!xl[r])return r;var o=xl[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in G0)return zm[r]=o[u];return r}var q0=Ef("animationend"),X0=Ef("animationiteration"),Y0=Ef("animationstart"),K0=Ef("transitionend"),Q0=new Map,J0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(r,o){Q0.set(r,o),a(o,[r])}for(var Hm=0;Hm<J0.length;Hm++){var Um=J0[Hm],AT=Um.toLowerCase(),CT=Um[0].toUpperCase()+Um.slice(1);Is(AT,"on"+CT)}Is(q0,"onAnimationEnd"),Is(X0,"onAnimationIteration"),Is(Y0,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(K0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mu));function Z0(r,o,u){var p=r.type||"unknown-event";r.currentTarget=u,Ak(p,o,void 0,r),r.currentTarget=null}function eE(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var p=r[u],v=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var C=p.length-1;0<=C;C--){var M=p[C],F=M.instance,$=M.currentTarget;if(M=M.listener,F!==w&&v.isPropagationStopped())break e;Z0(v,M,$),w=F}else for(C=0;C<p.length;C++){if(M=p[C],F=M.instance,$=M.currentTarget,M=M.listener,F!==w&&v.isPropagationStopped())break e;Z0(v,M,$),w=F}}}if(sf)throw r=wm,sf=!1,wm=null,r}function st(r,o){var u=o[Km];u===void 0&&(u=o[Km]=new Set);var p=r+"__bubble";u.has(p)||(tE(o,r,2,!1),u.add(p))}function $m(r,o,u){var p=0;o&&(p|=4),tE(u,r,p,o)}var xf="_reactListening"+Math.random().toString(36).slice(2);function Iu(r){if(!r[xf]){r[xf]=!0,n.forEach(function(u){u!=="selectionchange"&&(kT.has(u)||$m(u,!1,r),$m(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[xf]||(o[xf]=!0,$m("selectionchange",!1,o))}}function tE(r,o,u,p){switch(_0(o)){case 1:var v=Hk;break;case 4:v=Uk;break;default:v=Cm}u=v.bind(null,o,u,r),v=void 0,!vm||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?r.addEventListener(o,u,{capture:!0,passive:v}):r.addEventListener(o,u,!0):v!==void 0?r.addEventListener(o,u,{passive:v}):r.addEventListener(o,u,!1)}function Vm(r,o,u,p,v){var w=p;if(!(o&1)&&!(o&2)&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var M=p.stateNode.containerInfo;if(M===v||M.nodeType===8&&M.parentNode===v)break;if(C===4)for(C=p.return;C!==null;){var F=C.tag;if((F===3||F===4)&&(F=C.stateNode.containerInfo,F===v||F.nodeType===8&&F.parentNode===v))return;C=C.return}for(;M!==null;){if(C=zo(M),C===null)return;if(F=C.tag,F===5||F===6){p=w=C;continue e}M=M.parentNode}}p=p.return}o0(function(){var $=w,K=gm(u),Q=[];e:{var Y=Q0.get(r);if(Y!==void 0){var ae=Rm,he=r;switch(r){case"keypress":if(mf(u)===0)break e;case"keydown":case"keyup":ae=rT;break;case"focusin":he="focus",ae=Mm;break;case"focusout":he="blur",ae=Mm;break;case"beforeblur":case"afterblur":ae=Mm;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=k0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=oT;break;case q0:case X0:case Y0:ae=Xk;break;case K0:ae=lT;break;case"scroll":ae=$k;break;case"wheel":ae=uT;break;case"copy":case"cut":case"paste":ae=Kk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=R0}var ye=(o&4)!==0,_t=!ye&&r==="scroll",H=ye?Y!==null?Y+"Capture":null:Y;ye=[];for(var j=$,U;j!==null;){U=j;var te=U.stateNode;if(U.tag===5&&te!==null&&(U=te,H!==null&&(te=gu(j,H),te!=null&&ye.push(Nu(j,te,U)))),_t)break;j=j.return}0<ye.length&&(Y=new ae(Y,he,null,u,K),Q.push({event:Y,listeners:ye}))}}if(!(o&7)){e:{if(Y=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",Y&&u!==pm&&(he=u.relatedTarget||u.fromElement)&&(zo(he)||he[Ni]))break e;if((ae||Y)&&(Y=K.window===K?K:(Y=K.ownerDocument)?Y.defaultView||Y.parentWindow:window,ae?(he=u.relatedTarget||u.toElement,ae=$,he=he?zo(he):null,he!==null&&(_t=Bo(he),he!==_t||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=$),ae!==he)){if(ye=k0,te="onMouseLeave",H="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(ye=R0,te="onPointerLeave",H="onPointerEnter",j="pointer"),_t=ae==null?Y:Al(ae),U=he==null?Y:Al(he),Y=new ye(te,j+"leave",ae,u,K),Y.target=_t,Y.relatedTarget=U,te=null,zo(K)===$&&(ye=new ye(H,j+"enter",he,u,K),ye.target=U,ye.relatedTarget=_t,te=ye),_t=te,ae&&he)t:{for(ye=ae,H=he,j=0,U=ye;U;U=Sl(U))j++;for(U=0,te=H;te;te=Sl(te))U++;for(;0<j-U;)ye=Sl(ye),j--;for(;0<U-j;)H=Sl(H),U--;for(;j--;){if(ye===H||H!==null&&ye===H.alternate)break t;ye=Sl(ye),H=Sl(H)}ye=null}else ye=null;ae!==null&&nE(Q,Y,ae,ye,!1),he!==null&&_t!==null&&nE(Q,_t,he,ye,!0)}}e:{if(Y=$?Al($):window,ae=Y.nodeName&&Y.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Y.type==="file")var ve=yT;else if(D0(Y))if(F0)ve=ET;else{ve=wT;var Ae=vT}else(ae=Y.nodeName)&&ae.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(ve=bT);if(ve&&(ve=ve(r,$))){O0(Q,ve,u,K);break e}Ae&&Ae(r,Y,$),r==="focusout"&&(Ae=Y._wrapperState)&&Ae.controlled&&Y.type==="number"&&hu(Y,"number",Y.value)}switch(Ae=$?Al($):window,r){case"focusin":(D0(Ae)||Ae.contentEditable==="true")&&(El=Ae,jm=$,Lu=null);break;case"focusout":Lu=jm=El=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,W0(Q,u,K);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":W0(Q,u,K)}var Ce;if(Nm)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else bl?I0(r,u)&&(Te="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Te="onCompositionStart");Te&&(P0&&u.locale!=="ko"&&(bl||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&bl&&(Ce=A0()):(Ms=K,Tm="value"in Ms?Ms.value:Ms.textContent,bl=!0)),Ae=Sf($,Te),0<Ae.length&&(Te=new T0(Te,r,null,u,K),Q.push({event:Te,listeners:Ae}),Ce?Te.data=Ce:(Ce=N0(u),Ce!==null&&(Te.data=Ce)))),(Ce=hT?fT(r,u):pT(r,u))&&($=Sf($,"onBeforeInput"),0<$.length&&(K=new T0("onBeforeInput","beforeinput",null,u,K),Q.push({event:K,listeners:$}),K.data=Ce))}eE(Q,o)})}function Nu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Sf(r,o){for(var u=o+"Capture",p=[];r!==null;){var v=r,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=gu(r,u),w!=null&&p.unshift(Nu(r,w,v)),w=gu(r,o),w!=null&&p.push(Nu(r,w,v))),r=r.return}return p}function Sl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function nE(r,o,u,p,v){for(var w=o._reactName,C=[];u!==null&&u!==p;){var M=u,F=M.alternate,$=M.stateNode;if(F!==null&&F===p)break;M.tag===5&&$!==null&&(M=$,v?(F=gu(u,w),F!=null&&C.unshift(Nu(u,F,M))):v||(F=gu(u,w),F!=null&&C.push(Nu(u,F,M)))),u=u.return}C.length!==0&&r.push({event:o,listeners:C})}var TT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function rE(r){return(typeof r=="string"?r:""+r).replace(TT,`
`).replace(RT,"")}function _f(r,o,u){if(o=rE(o),rE(r)!==o&&u)throw Error(t(425))}function Af(){}var Wm=null,Gm=null;function qm(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xm=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,iE=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof iE<"u"?function(r){return iE.resolve(null).then(r).catch(MT)}:Xm;function MT(r){setTimeout(function(){throw r})}function Ym(r,o){var u=o,p=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(p===0){r.removeChild(v),_u(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=v}while(u);_u(o)}function Ns(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function sE(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}var _l=Math.random().toString(36).slice(2),ti="__reactFiber$"+_l,Du="__reactProps$"+_l,Ni="__reactContainer$"+_l,Km="__reactEvents$"+_l,IT="__reactListeners$"+_l,NT="__reactHandles$"+_l;function zo(r){var o=r[ti];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Ni]||u[ti]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=sE(r);r!==null;){if(u=r[ti])return u;r=sE(r)}return o}r=u,u=r.parentNode}return null}function Ou(r){return r=r[ti]||r[Ni],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Al(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Cf(r){return r[Du]||null}var Qm=[],Cl=-1;function Ds(r){return{current:r}}function ot(r){0>Cl||(r.current=Qm[Cl],Qm[Cl]=null,Cl--)}function rt(r,o){Cl++,Qm[Cl]=r.current,r.current=o}var Os={},an=Ds(Os),Ln=Ds(!1),Ho=Os;function kl(r,o){var u=r.type.contextTypes;if(!u)return Os;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in u)v[w]=o[w];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=v),v}function Mn(r){return r=r.childContextTypes,r!=null}function kf(){ot(Ln),ot(an)}function oE(r,o,u){if(an.current!==Os)throw Error(t(168));rt(an,o),rt(Ln,u)}function aE(r,o,u){var p=r.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var v in p)if(!(v in o))throw Error(t(108,me(r)||"Unknown",v));return ne({},u,p)}function Tf(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Os,Ho=an.current,rt(an,r),rt(Ln,Ln.current),!0}function lE(r,o,u){var p=r.stateNode;if(!p)throw Error(t(169));u?(r=aE(r,o,Ho),p.__reactInternalMemoizedMergedChildContext=r,ot(Ln),ot(an),rt(an,r)):ot(Ln),rt(Ln,u)}var Di=null,Rf=!1,Jm=!1;function cE(r){Di===null?Di=[r]:Di.push(r)}function DT(r){Rf=!0,cE(r)}function Fs(){if(!Jm&&Di!==null){Jm=!0;var r=0,o=Ke;try{var u=Di;for(Ke=1;r<u.length;r++){var p=u[r];do p=p(!0);while(p!==null)}Di=null,Rf=!1}catch(v){throw Di!==null&&(Di=Di.slice(r+1)),d0(bm,Fs),v}finally{Ke=o,Jm=!1}}return null}var Tl=[],Rl=0,Pf=null,Lf=0,or=[],ar=0,Uo=null,Oi=1,Fi="";function $o(r,o){Tl[Rl++]=Lf,Tl[Rl++]=Pf,Pf=r,Lf=o}function uE(r,o,u){or[ar++]=Oi,or[ar++]=Fi,or[ar++]=Uo,Uo=r;var p=Oi;r=Fi;var v=32-Cr(p)-1;p&=~(1<<v),u+=1;var w=32-Cr(o)+v;if(30<w){var C=v-v%5;w=(p&(1<<C)-1).toString(32),p>>=C,v-=C,Oi=1<<32-Cr(o)+v|u<<v|p,Fi=w+r}else Oi=1<<w|u<<v|p,Fi=r}function Zm(r){r.return!==null&&($o(r,1),uE(r,1,0))}function ey(r){for(;r===Pf;)Pf=Tl[--Rl],Tl[Rl]=null,Lf=Tl[--Rl],Tl[Rl]=null;for(;r===Uo;)Uo=or[--ar],or[ar]=null,Fi=or[--ar],or[ar]=null,Oi=or[--ar],or[ar]=null}var Wn=null,Gn=null,ct=!1,Tr=null;function dE(r,o){var u=dr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=r,o=r.deletions,o===null?(r.deletions=[u],r.flags|=16):o.push(u)}function hE(r,o){switch(r.tag){case 5:var u=r.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Wn=r,Gn=Ns(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Wn=r,Gn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Uo!==null?{id:Oi,overflow:Fi}:null,r.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=dr(18,null,null,0),u.stateNode=o,u.return=r,r.child=u,Wn=r,Gn=null,!0):!1;default:return!1}}function ty(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ny(r){if(ct){var o=Gn;if(o){var u=o;if(!hE(r,o)){if(ty(r))throw Error(t(418));o=Ns(u.nextSibling);var p=Wn;o&&hE(r,o)?dE(p,u):(r.flags=r.flags&-4097|2,ct=!1,Wn=r)}}else{if(ty(r))throw Error(t(418));r.flags=r.flags&-4097|2,ct=!1,Wn=r}}}function fE(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Wn=r}function Mf(r){if(r!==Wn)return!1;if(!ct)return fE(r),ct=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!qm(r.type,r.memoizedProps)),o&&(o=Gn)){if(ty(r))throw pE(),Error(t(418));for(;o;)dE(r,o),o=Ns(o.nextSibling)}if(fE(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(o===0){Gn=Ns(r.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}r=r.nextSibling}Gn=null}}else Gn=Wn?Ns(r.stateNode.nextSibling):null;return!0}function pE(){for(var r=Gn;r;)r=Ns(r.nextSibling)}function Pl(){Gn=Wn=null,ct=!1}function ry(r){Tr===null?Tr=[r]:Tr.push(r)}var OT=I.ReactCurrentBatchConfig;function Fu(r,o,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,r));var v=p,w=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(C){var M=v.refs;C===null?delete M[w]:M[w]=C},o._stringRef=w,o)}if(typeof r!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,r))}return r}function If(r,o){throw r=Object.prototype.toString.call(o),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function gE(r){var o=r._init;return o(r._payload)}function mE(r){function o(H,j){if(r){var U=H.deletions;U===null?(H.deletions=[j],H.flags|=16):U.push(j)}}function u(H,j){if(!r)return null;for(;j!==null;)o(H,j),j=j.sibling;return null}function p(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function v(H,j){return H=Ws(H,j),H.index=0,H.sibling=null,H}function w(H,j,U){return H.index=U,r?(U=H.alternate,U!==null?(U=U.index,U<j?(H.flags|=2,j):U):(H.flags|=2,j)):(H.flags|=1048576,j)}function C(H){return r&&H.alternate===null&&(H.flags|=2),H}function M(H,j,U,te){return j===null||j.tag!==6?(j=Xy(U,H.mode,te),j.return=H,j):(j=v(j,U),j.return=H,j)}function F(H,j,U,te){var ve=U.type;return ve===z?K(H,j,U.props.children,te,U.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===J&&gE(ve)===j.type)?(te=v(j,U.props),te.ref=Fu(H,j,U),te.return=H,te):(te=rp(U.type,U.key,U.props,null,H.mode,te),te.ref=Fu(H,j,U),te.return=H,te)}function $(H,j,U,te){return j===null||j.tag!==4||j.stateNode.containerInfo!==U.containerInfo||j.stateNode.implementation!==U.implementation?(j=Yy(U,H.mode,te),j.return=H,j):(j=v(j,U.children||[]),j.return=H,j)}function K(H,j,U,te,ve){return j===null||j.tag!==7?(j=Qo(U,H.mode,te,ve),j.return=H,j):(j=v(j,U),j.return=H,j)}function Q(H,j,U){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Xy(""+j,H.mode,U),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case O:return U=rp(j.type,j.key,j.props,null,H.mode,U),U.ref=Fu(H,null,j),U.return=H,U;case N:return j=Yy(j,H.mode,U),j.return=H,j;case J:var te=j._init;return Q(H,te(j._payload),U)}if(Fo(j)||re(j))return j=Qo(j,H.mode,U,null),j.return=H,j;If(H,j)}return null}function Y(H,j,U,te){var ve=j!==null?j.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ve!==null?null:M(H,j,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case O:return U.key===ve?F(H,j,U,te):null;case N:return U.key===ve?$(H,j,U,te):null;case J:return ve=U._init,Y(H,j,ve(U._payload),te)}if(Fo(U)||re(U))return ve!==null?null:K(H,j,U,te,null);If(H,U)}return null}function ae(H,j,U,te,ve){if(typeof te=="string"&&te!==""||typeof te=="number")return H=H.get(U)||null,M(j,H,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case O:return H=H.get(te.key===null?U:te.key)||null,F(j,H,te,ve);case N:return H=H.get(te.key===null?U:te.key)||null,$(j,H,te,ve);case J:var Ae=te._init;return ae(H,j,U,Ae(te._payload),ve)}if(Fo(te)||re(te))return H=H.get(U)||null,K(j,H,te,ve,null);If(j,te)}return null}function he(H,j,U,te){for(var ve=null,Ae=null,Ce=j,Te=j=0,Vt=null;Ce!==null&&Te<U.length;Te++){Ce.index>Te?(Vt=Ce,Ce=null):Vt=Ce.sibling;var Ge=Y(H,Ce,U[Te],te);if(Ge===null){Ce===null&&(Ce=Vt);break}r&&Ce&&Ge.alternate===null&&o(H,Ce),j=w(Ge,j,Te),Ae===null?ve=Ge:Ae.sibling=Ge,Ae=Ge,Ce=Vt}if(Te===U.length)return u(H,Ce),ct&&$o(H,Te),ve;if(Ce===null){for(;Te<U.length;Te++)Ce=Q(H,U[Te],te),Ce!==null&&(j=w(Ce,j,Te),Ae===null?ve=Ce:Ae.sibling=Ce,Ae=Ce);return ct&&$o(H,Te),ve}for(Ce=p(H,Ce);Te<U.length;Te++)Vt=ae(Ce,H,Te,U[Te],te),Vt!==null&&(r&&Vt.alternate!==null&&Ce.delete(Vt.key===null?Te:Vt.key),j=w(Vt,j,Te),Ae===null?ve=Vt:Ae.sibling=Vt,Ae=Vt);return r&&Ce.forEach(function(Gs){return o(H,Gs)}),ct&&$o(H,Te),ve}function ye(H,j,U,te){var ve=re(U);if(typeof ve!="function")throw Error(t(150));if(U=ve.call(U),U==null)throw Error(t(151));for(var Ae=ve=null,Ce=j,Te=j=0,Vt=null,Ge=U.next();Ce!==null&&!Ge.done;Te++,Ge=U.next()){Ce.index>Te?(Vt=Ce,Ce=null):Vt=Ce.sibling;var Gs=Y(H,Ce,Ge.value,te);if(Gs===null){Ce===null&&(Ce=Vt);break}r&&Ce&&Gs.alternate===null&&o(H,Ce),j=w(Gs,j,Te),Ae===null?ve=Gs:Ae.sibling=Gs,Ae=Gs,Ce=Vt}if(Ge.done)return u(H,Ce),ct&&$o(H,Te),ve;if(Ce===null){for(;!Ge.done;Te++,Ge=U.next())Ge=Q(H,Ge.value,te),Ge!==null&&(j=w(Ge,j,Te),Ae===null?ve=Ge:Ae.sibling=Ge,Ae=Ge);return ct&&$o(H,Te),ve}for(Ce=p(H,Ce);!Ge.done;Te++,Ge=U.next())Ge=ae(Ce,H,Te,Ge.value,te),Ge!==null&&(r&&Ge.alternate!==null&&Ce.delete(Ge.key===null?Te:Ge.key),j=w(Ge,j,Te),Ae===null?ve=Ge:Ae.sibling=Ge,Ae=Ge);return r&&Ce.forEach(function(gR){return o(H,gR)}),ct&&$o(H,Te),ve}function _t(H,j,U,te){if(typeof U=="object"&&U!==null&&U.type===z&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case O:e:{for(var ve=U.key,Ae=j;Ae!==null;){if(Ae.key===ve){if(ve=U.type,ve===z){if(Ae.tag===7){u(H,Ae.sibling),j=v(Ae,U.props.children),j.return=H,H=j;break e}}else if(Ae.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===J&&gE(ve)===Ae.type){u(H,Ae.sibling),j=v(Ae,U.props),j.ref=Fu(H,Ae,U),j.return=H,H=j;break e}u(H,Ae);break}else o(H,Ae);Ae=Ae.sibling}U.type===z?(j=Qo(U.props.children,H.mode,te,U.key),j.return=H,H=j):(te=rp(U.type,U.key,U.props,null,H.mode,te),te.ref=Fu(H,j,U),te.return=H,H=te)}return C(H);case N:e:{for(Ae=U.key;j!==null;){if(j.key===Ae)if(j.tag===4&&j.stateNode.containerInfo===U.containerInfo&&j.stateNode.implementation===U.implementation){u(H,j.sibling),j=v(j,U.children||[]),j.return=H,H=j;break e}else{u(H,j);break}else o(H,j);j=j.sibling}j=Yy(U,H.mode,te),j.return=H,H=j}return C(H);case J:return Ae=U._init,_t(H,j,Ae(U._payload),te)}if(Fo(U))return he(H,j,U,te);if(re(U))return ye(H,j,U,te);If(H,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,j!==null&&j.tag===6?(u(H,j.sibling),j=v(j,U),j.return=H,H=j):(u(H,j),j=Xy(U,H.mode,te),j.return=H,H=j),C(H)):u(H,j)}return _t}var Ll=mE(!0),yE=mE(!1),Nf=Ds(null),Df=null,Ml=null,iy=null;function sy(){iy=Ml=Df=null}function oy(r){var o=Nf.current;ot(Nf),r._currentValue=o}function ay(r,o,u){for(;r!==null;){var p=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),r===u)break;r=r.return}}function Il(r,o){Df=r,iy=Ml=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&o&&(In=!0),r.firstContext=null)}function lr(r){var o=r._currentValue;if(iy!==r)if(r={context:r,memoizedValue:o,next:null},Ml===null){if(Df===null)throw Error(t(308));Ml=r,Df.dependencies={lanes:0,firstContext:r}}else Ml=Ml.next=r;return o}var Vo=null;function ly(r){Vo===null?Vo=[r]:Vo.push(r)}function vE(r,o,u,p){var v=o.interleaved;return v===null?(u.next=u,ly(o)):(u.next=v.next,v.next=u),o.interleaved=u,ji(r,p)}function ji(r,o){r.lanes|=o;var u=r.alternate;for(u!==null&&(u.lanes|=o),u=r,r=r.return;r!==null;)r.childLanes|=o,u=r.alternate,u!==null&&(u.childLanes|=o),u=r,r=r.return;return u.tag===3?u.stateNode:null}var js=!1;function cy(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wE(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Bi(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function Bs(r,o,u){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,We&2){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,ji(r,u)}return v=p.interleaved,v===null?(o.next=o,ly(p)):(o.next=v.next,v.next=o),p.interleaved=o,ji(r,u)}function Of(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=r.pendingLanes,u|=p,o.lanes=u,Sm(r,u)}}function bE(r,o){var u=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?v=w=C:w=w.next=C,u=u.next}while(u!==null);w===null?v=w=o:w=w.next=o}else v=w=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:p.shared,effects:p.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}function Ff(r,o,u,p){var v=r.updateQueue;js=!1;var w=v.firstBaseUpdate,C=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var F=M,$=F.next;F.next=null,C===null?w=$:C.next=$,C=F;var K=r.alternate;K!==null&&(K=K.updateQueue,M=K.lastBaseUpdate,M!==C&&(M===null?K.firstBaseUpdate=$:M.next=$,K.lastBaseUpdate=F))}if(w!==null){var Q=v.baseState;C=0,K=$=F=null,M=w;do{var Y=M.lane,ae=M.eventTime;if((p&Y)===Y){K!==null&&(K=K.next={eventTime:ae,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var he=r,ye=M;switch(Y=o,ae=u,ye.tag){case 1:if(he=ye.payload,typeof he=="function"){Q=he.call(ae,Q,Y);break e}Q=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,Y=typeof he=="function"?he.call(ae,Q,Y):he,Y==null)break e;Q=ne({},Q,Y);break e;case 2:js=!0}}M.callback!==null&&M.lane!==0&&(r.flags|=64,Y=v.effects,Y===null?v.effects=[M]:Y.push(M))}else ae={eventTime:ae,lane:Y,tag:M.tag,payload:M.payload,callback:M.callback,next:null},K===null?($=K=ae,F=Q):K=K.next=ae,C|=Y;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;Y=M,M=Y.next,Y.next=null,v.lastBaseUpdate=Y,v.shared.pending=null}}while(!0);if(K===null&&(F=Q),v.baseState=F,v.firstBaseUpdate=$,v.lastBaseUpdate=K,o=v.shared.interleaved,o!==null){v=o;do C|=v.lane,v=v.next;while(v!==o)}else w===null&&(v.shared.lanes=0);qo|=C,r.lanes=C,r.memoizedState=Q}}function EE(r,o,u){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var p=r[o],v=p.callback;if(v!==null){if(p.callback=null,p=u,typeof v!="function")throw Error(t(191,v));v.call(p)}}}var ju={},ni=Ds(ju),Bu=Ds(ju),zu=Ds(ju);function Wo(r){if(r===ju)throw Error(t(174));return r}function uy(r,o){switch(rt(zu,o),rt(Bu,r),rt(ni,ju),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Zr(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=Zr(o,r)}ot(ni),rt(ni,o)}function Nl(){ot(ni),ot(Bu),ot(zu)}function xE(r){Wo(zu.current);var o=Wo(ni.current),u=Zr(o,r.type);o!==u&&(rt(Bu,r),rt(ni,u))}function dy(r){Bu.current===r&&(ot(ni),ot(Bu))}var dt=Ds(0);function jf(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var hy=[];function fy(){for(var r=0;r<hy.length;r++)hy[r]._workInProgressVersionPrimary=null;hy.length=0}var Bf=I.ReactCurrentDispatcher,py=I.ReactCurrentBatchConfig,Go=0,ht=null,It=null,Ut=null,zf=!1,Hu=!1,Uu=0,FT=0;function ln(){throw Error(t(321))}function gy(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!kr(r[u],o[u]))return!1;return!0}function my(r,o,u,p,v,w){if(Go=w,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Bf.current=r===null||r.memoizedState===null?HT:UT,r=u(p,v),Hu){w=0;do{if(Hu=!1,Uu=0,25<=w)throw Error(t(301));w+=1,Ut=It=null,o.updateQueue=null,Bf.current=$T,r=u(p,v)}while(Hu)}if(Bf.current=$f,o=It!==null&&It.next!==null,Go=0,Ut=It=ht=null,zf=!1,o)throw Error(t(300));return r}function yy(){var r=Uu!==0;return Uu=0,r}function ri(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ht.memoizedState=Ut=r:Ut=Ut.next=r,Ut}function cr(){if(It===null){var r=ht.alternate;r=r!==null?r.memoizedState:null}else r=It.next;var o=Ut===null?ht.memoizedState:Ut.next;if(o!==null)Ut=o,It=r;else{if(r===null)throw Error(t(310));It=r,r={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Ut===null?ht.memoizedState=Ut=r:Ut=Ut.next=r}return Ut}function $u(r,o){return typeof o=="function"?o(r):o}function vy(r){var o=cr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var p=It,v=p.baseQueue,w=u.pending;if(w!==null){if(v!==null){var C=v.next;v.next=w.next,w.next=C}p.baseQueue=v=w,u.pending=null}if(v!==null){w=v.next,p=p.baseState;var M=C=null,F=null,$=w;do{var K=$.lane;if((Go&K)===K)F!==null&&(F=F.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),p=$.hasEagerState?$.eagerState:r(p,$.action);else{var Q={lane:K,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};F===null?(M=F=Q,C=p):F=F.next=Q,ht.lanes|=K,qo|=K}$=$.next}while($!==null&&$!==w);F===null?C=p:F.next=M,kr(p,o.memoizedState)||(In=!0),o.memoizedState=p,o.baseState=C,o.baseQueue=F,u.lastRenderedState=p}if(r=u.interleaved,r!==null){v=r;do w=v.lane,ht.lanes|=w,qo|=w,v=v.next;while(v!==r)}else v===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function wy(r){var o=cr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var p=u.dispatch,v=u.pending,w=o.memoizedState;if(v!==null){u.pending=null;var C=v=v.next;do w=r(w,C.action),C=C.next;while(C!==v);kr(w,o.memoizedState)||(In=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,p]}function SE(){}function _E(r,o){var u=ht,p=cr(),v=o(),w=!kr(p.memoizedState,v);if(w&&(p.memoizedState=v,In=!0),p=p.queue,by(kE.bind(null,u,p,r),[r]),p.getSnapshot!==o||w||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,Vu(9,CE.bind(null,u,p,v,o),void 0,null),$t===null)throw Error(t(349));Go&30||AE(u,o,v)}return v}function AE(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function CE(r,o,u,p){o.value=u,o.getSnapshot=p,TE(o)&&RE(r)}function kE(r,o,u){return u(function(){TE(o)&&RE(r)})}function TE(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!kr(r,u)}catch{return!0}}function RE(r){var o=ji(r,1);o!==null&&Mr(o,r,1,-1)}function PE(r){var o=ri();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:r},o.queue=r,r=r.dispatch=zT.bind(null,ht,r),[o.memoizedState,r]}function Vu(r,o,u,p){return r={tag:r,create:o,destroy:u,deps:p,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=r.next=r):(u=o.lastEffect,u===null?o.lastEffect=r.next=r:(p=u.next,u.next=r,r.next=p,o.lastEffect=r)),r}function LE(){return cr().memoizedState}function Hf(r,o,u,p){var v=ri();ht.flags|=r,v.memoizedState=Vu(1|o,u,void 0,p===void 0?null:p)}function Uf(r,o,u,p){var v=cr();p=p===void 0?null:p;var w=void 0;if(It!==null){var C=It.memoizedState;if(w=C.destroy,p!==null&&gy(p,C.deps)){v.memoizedState=Vu(o,u,w,p);return}}ht.flags|=r,v.memoizedState=Vu(1|o,u,w,p)}function ME(r,o){return Hf(8390656,8,r,o)}function by(r,o){return Uf(2048,8,r,o)}function IE(r,o){return Uf(4,2,r,o)}function NE(r,o){return Uf(4,4,r,o)}function DE(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function OE(r,o,u){return u=u!=null?u.concat([r]):null,Uf(4,4,DE.bind(null,o,r),u)}function Ey(){}function FE(r,o){var u=cr();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&gy(o,p[1])?p[0]:(u.memoizedState=[r,o],r)}function jE(r,o){var u=cr();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&gy(o,p[1])?p[0]:(r=r(),u.memoizedState=[r,o],r)}function BE(r,o,u){return Go&21?(kr(u,o)||(u=g0(),ht.lanes|=u,qo|=u,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,In=!0),r.memoizedState=u)}function jT(r,o){var u=Ke;Ke=u!==0&&4>u?u:4,r(!0);var p=py.transition;py.transition={};try{r(!1),o()}finally{Ke=u,py.transition=p}}function zE(){return cr().memoizedState}function BT(r,o,u){var p=$s(r);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},HE(r))UE(o,u);else if(u=vE(r,o,u,p),u!==null){var v=En();Mr(u,r,p,v),$E(u,o,p)}}function zT(r,o,u){var p=$s(r),v={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(HE(r))UE(o,v);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var C=o.lastRenderedState,M=w(C,u);if(v.hasEagerState=!0,v.eagerState=M,kr(M,C)){var F=o.interleaved;F===null?(v.next=v,ly(o)):(v.next=F.next,F.next=v),o.interleaved=v;return}}catch{}finally{}u=vE(r,o,v,p),u!==null&&(v=En(),Mr(u,r,p,v),$E(u,o,p))}}function HE(r){var o=r.alternate;return r===ht||o!==null&&o===ht}function UE(r,o){Hu=zf=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function $E(r,o,u){if(u&4194240){var p=o.lanes;p&=r.pendingLanes,u|=p,o.lanes=u,Sm(r,u)}}var $f={readContext:lr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},HT={readContext:lr,useCallback:function(r,o){return ri().memoizedState=[r,o===void 0?null:o],r},useContext:lr,useEffect:ME,useImperativeHandle:function(r,o,u){return u=u!=null?u.concat([r]):null,Hf(4194308,4,DE.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Hf(4194308,4,r,o)},useInsertionEffect:function(r,o){return Hf(4,2,r,o)},useMemo:function(r,o){var u=ri();return o=o===void 0?null:o,r=r(),u.memoizedState=[r,o],r},useReducer:function(r,o,u){var p=ri();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},p.queue=r,r=r.dispatch=BT.bind(null,ht,r),[p.memoizedState,r]},useRef:function(r){var o=ri();return r={current:r},o.memoizedState=r},useState:PE,useDebugValue:Ey,useDeferredValue:function(r){return ri().memoizedState=r},useTransition:function(){var r=PE(!1),o=r[0];return r=jT.bind(null,r[1]),ri().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,u){var p=ht,v=ri();if(ct){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),$t===null)throw Error(t(349));Go&30||AE(p,o,u)}v.memoizedState=u;var w={value:u,getSnapshot:o};return v.queue=w,ME(kE.bind(null,p,w,r),[r]),p.flags|=2048,Vu(9,CE.bind(null,p,w,u,o),void 0,null),u},useId:function(){var r=ri(),o=$t.identifierPrefix;if(ct){var u=Fi,p=Oi;u=(p&~(1<<32-Cr(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=Uu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=FT++,o=":"+o+"r"+u.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},UT={readContext:lr,useCallback:FE,useContext:lr,useEffect:by,useImperativeHandle:OE,useInsertionEffect:IE,useLayoutEffect:NE,useMemo:jE,useReducer:vy,useRef:LE,useState:function(){return vy($u)},useDebugValue:Ey,useDeferredValue:function(r){var o=cr();return BE(o,It.memoizedState,r)},useTransition:function(){var r=vy($u)[0],o=cr().memoizedState;return[r,o]},useMutableSource:SE,useSyncExternalStore:_E,useId:zE,unstable_isNewReconciler:!1},$T={readContext:lr,useCallback:FE,useContext:lr,useEffect:by,useImperativeHandle:OE,useInsertionEffect:IE,useLayoutEffect:NE,useMemo:jE,useReducer:wy,useRef:LE,useState:function(){return wy($u)},useDebugValue:Ey,useDeferredValue:function(r){var o=cr();return It===null?o.memoizedState=r:BE(o,It.memoizedState,r)},useTransition:function(){var r=wy($u)[0],o=cr().memoizedState;return[r,o]},useMutableSource:SE,useSyncExternalStore:_E,useId:zE,unstable_isNewReconciler:!1};function Rr(r,o){if(r&&r.defaultProps){o=ne({},o),r=r.defaultProps;for(var u in r)o[u]===void 0&&(o[u]=r[u]);return o}return o}function xy(r,o,u,p){o=r.memoizedState,u=u(p,o),u=u==null?o:ne({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Vf={isMounted:function(r){return(r=r._reactInternals)?Bo(r)===r:!1},enqueueSetState:function(r,o,u){r=r._reactInternals;var p=En(),v=$s(r),w=Bi(p,v);w.payload=o,u!=null&&(w.callback=u),o=Bs(r,w,v),o!==null&&(Mr(o,r,v,p),Of(o,r,v))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var p=En(),v=$s(r),w=Bi(p,v);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=Bs(r,w,v),o!==null&&(Mr(o,r,v,p),Of(o,r,v))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=En(),p=$s(r),v=Bi(u,p);v.tag=2,o!=null&&(v.callback=o),o=Bs(r,v,p),o!==null&&(Mr(o,r,p,u),Of(o,r,p))}};function VE(r,o,u,p,v,w,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,w,C):o.prototype&&o.prototype.isPureReactComponent?!Pu(u,p)||!Pu(v,w):!0}function WE(r,o,u){var p=!1,v=Os,w=o.contextType;return typeof w=="object"&&w!==null?w=lr(w):(v=Mn(o)?Ho:an.current,p=o.contextTypes,w=(p=p!=null)?kl(r,v):Os),o=new o(u,w),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Vf,r.stateNode=o,o._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=w),o}function GE(r,o,u,p){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==r&&Vf.enqueueReplaceState(o,o.state,null)}function Sy(r,o,u,p){var v=r.stateNode;v.props=u,v.state=r.memoizedState,v.refs={},cy(r);var w=o.contextType;typeof w=="object"&&w!==null?v.context=lr(w):(w=Mn(o)?Ho:an.current,v.context=kl(r,w)),v.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(xy(r,o,w,u),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&Vf.enqueueReplaceState(v,v.state,null),Ff(r,u,v,p),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function Dl(r,o){try{var u="",p=o;do u+=ke(p),p=p.return;while(p);var v=u}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:r,source:o,stack:v,digest:null}}function _y(r,o,u){return{value:r,source:null,stack:u??null,digest:o??null}}function Ay(r,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var VT=typeof WeakMap=="function"?WeakMap:Map;function qE(r,o,u){u=Bi(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){Qf||(Qf=!0,zy=p),Ay(r,o)},u}function XE(r,o,u){u=Bi(-1,u),u.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var v=o.value;u.payload=function(){return p(v)},u.callback=function(){Ay(r,o)}}var w=r.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Ay(r,o),typeof p!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),u}function YE(r,o,u){var p=r.pingCache;if(p===null){p=r.pingCache=new VT;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(v.add(u),r=iR.bind(null,r,o,u),o.then(r,r))}function KE(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function QE(r,o,u,p,v){return r.mode&1?(r.flags|=65536,r.lanes=v,r):(r===o?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Bi(-1,1),o.tag=2,Bs(u,o,1))),u.lanes|=1),r)}var WT=I.ReactCurrentOwner,In=!1;function bn(r,o,u,p){o.child=r===null?yE(o,null,u,p):Ll(o,r.child,u,p)}function JE(r,o,u,p,v){u=u.render;var w=o.ref;return Il(o,v),p=my(r,o,u,p,w,v),u=yy(),r!==null&&!In?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~v,zi(r,o,v)):(ct&&u&&Zm(o),o.flags|=1,bn(r,o,p,v),o.child)}function ZE(r,o,u,p,v){if(r===null){var w=u.type;return typeof w=="function"&&!qy(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,ex(r,o,w,p,v)):(r=rp(u.type,null,p,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(w=r.child,!(r.lanes&v)){var C=w.memoizedProps;if(u=u.compare,u=u!==null?u:Pu,u(C,p)&&r.ref===o.ref)return zi(r,o,v)}return o.flags|=1,r=Ws(w,p),r.ref=o.ref,r.return=o,o.child=r}function ex(r,o,u,p,v){if(r!==null){var w=r.memoizedProps;if(Pu(w,p)&&r.ref===o.ref)if(In=!1,o.pendingProps=p=w,(r.lanes&v)!==0)r.flags&131072&&(In=!0);else return o.lanes=r.lanes,zi(r,o,v)}return Cy(r,o,u,p,v)}function tx(r,o,u){var p=o.pendingProps,v=p.children,w=r!==null?r.memoizedState:null;if(p.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Fl,qn),qn|=u;else{if(!(u&1073741824))return r=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,rt(Fl,qn),qn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,rt(Fl,qn),qn|=p}else w!==null?(p=w.baseLanes|u,o.memoizedState=null):p=u,rt(Fl,qn),qn|=p;return bn(r,o,v,u),o.child}function nx(r,o){var u=o.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Cy(r,o,u,p,v){var w=Mn(u)?Ho:an.current;return w=kl(o,w),Il(o,v),u=my(r,o,u,p,w,v),p=yy(),r!==null&&!In?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~v,zi(r,o,v)):(ct&&p&&Zm(o),o.flags|=1,bn(r,o,u,v),o.child)}function rx(r,o,u,p,v){if(Mn(u)){var w=!0;Tf(o)}else w=!1;if(Il(o,v),o.stateNode===null)Gf(r,o),WE(o,u,p),Sy(o,u,p,v),p=!0;else if(r===null){var C=o.stateNode,M=o.memoizedProps;C.props=M;var F=C.context,$=u.contextType;typeof $=="object"&&$!==null?$=lr($):($=Mn(u)?Ho:an.current,$=kl(o,$));var K=u.getDerivedStateFromProps,Q=typeof K=="function"||typeof C.getSnapshotBeforeUpdate=="function";Q||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M!==p||F!==$)&&GE(o,C,p,$),js=!1;var Y=o.memoizedState;C.state=Y,Ff(o,p,C,v),F=o.memoizedState,M!==p||Y!==F||Ln.current||js?(typeof K=="function"&&(xy(o,u,K,p),F=o.memoizedState),(M=js||VE(o,u,M,p,Y,F,$))?(Q||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=F),C.props=p,C.state=F,C.context=$,p=M):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{C=o.stateNode,wE(r,o),M=o.memoizedProps,$=o.type===o.elementType?M:Rr(o.type,M),C.props=$,Q=o.pendingProps,Y=C.context,F=u.contextType,typeof F=="object"&&F!==null?F=lr(F):(F=Mn(u)?Ho:an.current,F=kl(o,F));var ae=u.getDerivedStateFromProps;(K=typeof ae=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M!==Q||Y!==F)&&GE(o,C,p,F),js=!1,Y=o.memoizedState,C.state=Y,Ff(o,p,C,v);var he=o.memoizedState;M!==Q||Y!==he||Ln.current||js?(typeof ae=="function"&&(xy(o,u,ae,p),he=o.memoizedState),($=js||VE(o,u,$,p,Y,he,F)||!1)?(K||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,he,F),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,he,F)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||M===r.memoizedProps&&Y===r.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&Y===r.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=he),C.props=p,C.state=he,C.context=F,p=$):(typeof C.componentDidUpdate!="function"||M===r.memoizedProps&&Y===r.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&Y===r.memoizedState||(o.flags|=1024),p=!1)}return ky(r,o,u,p,w,v)}function ky(r,o,u,p,v,w){nx(r,o);var C=(o.flags&128)!==0;if(!p&&!C)return v&&lE(o,u,!1),zi(r,o,w);p=o.stateNode,WT.current=o;var M=C&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,r!==null&&C?(o.child=Ll(o,r.child,null,w),o.child=Ll(o,null,M,w)):bn(r,o,M,w),o.memoizedState=p.state,v&&lE(o,u,!0),o.child}function ix(r){var o=r.stateNode;o.pendingContext?oE(r,o.pendingContext,o.pendingContext!==o.context):o.context&&oE(r,o.context,!1),uy(r,o.containerInfo)}function sx(r,o,u,p,v){return Pl(),ry(v),o.flags|=256,bn(r,o,u,p),o.child}var Ty={dehydrated:null,treeContext:null,retryLane:0};function Ry(r){return{baseLanes:r,cachePool:null,transitions:null}}function ox(r,o,u){var p=o.pendingProps,v=dt.current,w=!1,C=(o.flags&128)!==0,M;if((M=C)||(M=r!==null&&r.memoizedState===null?!1:(v&2)!==0),M?(w=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),rt(dt,v&1),r===null)return ny(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(o.mode&1?r.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(C=p.children,r=p.fallback,w?(p=o.mode,w=o.child,C={mode:"hidden",children:C},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=C):w=ip(C,p,0,null),r=Qo(r,p,u,null),w.return=o,r.return=o,w.sibling=r,o.child=w,o.child.memoizedState=Ry(u),o.memoizedState=Ty,r):Py(o,C));if(v=r.memoizedState,v!==null&&(M=v.dehydrated,M!==null))return GT(r,o,C,p,M,v,u);if(w){w=p.fallback,C=o.mode,v=r.child,M=v.sibling;var F={mode:"hidden",children:p.children};return!(C&1)&&o.child!==v?(p=o.child,p.childLanes=0,p.pendingProps=F,o.deletions=null):(p=Ws(v,F),p.subtreeFlags=v.subtreeFlags&14680064),M!==null?w=Ws(M,w):(w=Qo(w,C,u,null),w.flags|=2),w.return=o,p.return=o,p.sibling=w,o.child=p,p=w,w=o.child,C=r.child.memoizedState,C=C===null?Ry(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=r.childLanes&~u,o.memoizedState=Ty,p}return w=r.child,r=w.sibling,p=Ws(w,{mode:"visible",children:p.children}),!(o.mode&1)&&(p.lanes=u),p.return=o,p.sibling=null,r!==null&&(u=o.deletions,u===null?(o.deletions=[r],o.flags|=16):u.push(r)),o.child=p,o.memoizedState=null,p}function Py(r,o){return o=ip({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Wf(r,o,u,p){return p!==null&&ry(p),Ll(o,r.child,null,u),r=Py(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function GT(r,o,u,p,v,w,C){if(u)return o.flags&256?(o.flags&=-257,p=_y(Error(t(422))),Wf(r,o,C,p)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(w=p.fallback,v=o.mode,p=ip({mode:"visible",children:p.children},v,0,null),w=Qo(w,v,C,null),w.flags|=2,p.return=o,w.return=o,p.sibling=w,o.child=p,o.mode&1&&Ll(o,r.child,null,C),o.child.memoizedState=Ry(C),o.memoizedState=Ty,w);if(!(o.mode&1))return Wf(r,o,C,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var M=p.dgst;return p=M,w=Error(t(419)),p=_y(w,p,void 0),Wf(r,o,C,p)}if(M=(C&r.childLanes)!==0,In||M){if(p=$t,p!==null){switch(C&-C){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(p.suspendedLanes|C)?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,ji(r,v),Mr(p,r,v,-1))}return Gy(),p=_y(Error(t(421))),Wf(r,o,C,p)}return v.data==="$?"?(o.flags|=128,o.child=r.child,o=sR.bind(null,r),v._reactRetry=o,null):(r=w.treeContext,Gn=Ns(v.nextSibling),Wn=o,ct=!0,Tr=null,r!==null&&(or[ar++]=Oi,or[ar++]=Fi,or[ar++]=Uo,Oi=r.id,Fi=r.overflow,Uo=o),o=Py(o,p.children),o.flags|=4096,o)}function ax(r,o,u){r.lanes|=o;var p=r.alternate;p!==null&&(p.lanes|=o),ay(r.return,o,u)}function Ly(r,o,u,p,v){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=v)}function lx(r,o,u){var p=o.pendingProps,v=p.revealOrder,w=p.tail;if(bn(r,o,p.children,u),p=dt.current,p&2)p=p&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ax(r,u,o);else if(r.tag===19)ax(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(rt(dt,p),!(o.mode&1))o.memoizedState=null;else switch(v){case"forwards":for(u=o.child,v=null;u!==null;)r=u.alternate,r!==null&&jf(r)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Ly(o,!1,v,u,w);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&jf(r)===null){o.child=v;break}r=v.sibling,v.sibling=u,u=v,v=r}Ly(o,!0,u,null,w);break;case"together":Ly(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Gf(r,o){!(o.mode&1)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function zi(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),qo|=o.lanes,!(u&o.childLanes))return null;if(r!==null&&o.child!==r.child)throw Error(t(153));if(o.child!==null){for(r=o.child,u=Ws(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=Ws(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function qT(r,o,u){switch(o.tag){case 3:ix(o),Pl();break;case 5:xE(o);break;case 1:Mn(o.type)&&Tf(o);break;case 4:uy(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,v=o.memoizedProps.value;rt(Nf,p._currentValue),p._currentValue=v;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(rt(dt,dt.current&1),o.flags|=128,null):u&o.child.childLanes?ox(r,o,u):(rt(dt,dt.current&1),r=zi(r,o,u),r!==null?r.sibling:null);rt(dt,dt.current&1);break;case 19:if(p=(u&o.childLanes)!==0,r.flags&128){if(p)return lx(r,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),rt(dt,dt.current),p)break;return null;case 22:case 23:return o.lanes=0,tx(r,o,u)}return zi(r,o,u)}var cx,My,ux,dx;cx=function(r,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},My=function(){},ux=function(r,o,u,p){var v=r.memoizedProps;if(v!==p){r=o.stateNode,Wo(ni.current);var w=null;switch(u){case"input":v=lt(r,v),p=lt(r,p),w=[];break;case"select":v=ne({},v,{value:void 0}),p=ne({},p,{value:void 0}),w=[];break;case"textarea":v=fu(r,v),p=fu(r,p),w=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=Af)}hm(u,p);var C;u=null;for($ in v)if(!p.hasOwnProperty($)&&v.hasOwnProperty($)&&v[$]!=null)if($==="style"){var M=v[$];for(C in M)M.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(s.hasOwnProperty($)?w||(w=[]):(w=w||[]).push($,null));for($ in p){var F=p[$];if(M=v!=null?v[$]:void 0,p.hasOwnProperty($)&&F!==M&&(F!=null||M!=null))if($==="style")if(M){for(C in M)!M.hasOwnProperty(C)||F&&F.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in F)F.hasOwnProperty(C)&&M[C]!==F[C]&&(u||(u={}),u[C]=F[C])}else u||(w||(w=[]),w.push($,u)),u=F;else $==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,M=M?M.__html:void 0,F!=null&&M!==F&&(w=w||[]).push($,F)):$==="children"?typeof F!="string"&&typeof F!="number"||(w=w||[]).push($,""+F):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(s.hasOwnProperty($)?(F!=null&&$==="onScroll"&&st("scroll",r),w||M===F||(w=[])):(w=w||[]).push($,F))}u&&(w=w||[]).push("style",u);var $=w;(o.updateQueue=$)&&(o.flags|=4)}},dx=function(r,o,u,p){u!==p&&(o.flags|=4)};function Wu(r,o){if(!ct)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function cn(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,p=0;if(o)for(var v=r.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=p,r.childLanes=u,o}function XT(r,o,u){var p=o.pendingProps;switch(ey(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(o),null;case 1:return Mn(o.type)&&kf(),cn(o),null;case 3:return p=o.stateNode,Nl(),ot(Ln),ot(an),fy(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(Mf(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Tr!==null&&($y(Tr),Tr=null))),My(r,o),cn(o),null;case 5:dy(o);var v=Wo(zu.current);if(u=o.type,r!==null&&o.stateNode!=null)ux(r,o,u,p,v),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return cn(o),null}if(r=Wo(ni.current),Mf(o)){p=o.stateNode,u=o.type;var w=o.memoizedProps;switch(p[ti]=o,p[Du]=w,r=(o.mode&1)!==0,u){case"dialog":st("cancel",p),st("close",p);break;case"iframe":case"object":case"embed":st("load",p);break;case"video":case"audio":for(v=0;v<Mu.length;v++)st(Mu[v],p);break;case"source":st("error",p);break;case"img":case"image":case"link":st("error",p),st("load",p);break;case"details":st("toggle",p);break;case"input":Mt(p,w),st("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},st("invalid",p);break;case"textarea":Zh(p,w),st("invalid",p)}hm(u,w),v=null;for(var C in w)if(w.hasOwnProperty(C)){var M=w[C];C==="children"?typeof M=="string"?p.textContent!==M&&(w.suppressHydrationWarning!==!0&&_f(p.textContent,M,r),v=["children",M]):typeof M=="number"&&p.textContent!==""+M&&(w.suppressHydrationWarning!==!0&&_f(p.textContent,M,r),v=["children",""+M]):s.hasOwnProperty(C)&&M!=null&&C==="onScroll"&&st("scroll",p)}switch(u){case"input":Qr(p),ks(p,w,!0);break;case"textarea":Qr(p),tf(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Af)}p=v,o.updateQueue=p,p!==null&&(o.flags|=4)}else{C=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=nf(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=C.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=C.createElement(u,{is:p.is}):(r=C.createElement(u),u==="select"&&(C=r,p.multiple?C.multiple=!0:p.size&&(C.size=p.size))):r=C.createElementNS(r,u),r[ti]=o,r[Du]=p,cx(r,o,!1,!1),o.stateNode=r;e:{switch(C=fm(u,p),u){case"dialog":st("cancel",r),st("close",r),v=p;break;case"iframe":case"object":case"embed":st("load",r),v=p;break;case"video":case"audio":for(v=0;v<Mu.length;v++)st(Mu[v],r);v=p;break;case"source":st("error",r),v=p;break;case"img":case"image":case"link":st("error",r),st("load",r),v=p;break;case"details":st("toggle",r),v=p;break;case"input":Mt(r,p),v=lt(r,p),st("invalid",r);break;case"option":v=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},v=ne({},p,{value:void 0}),st("invalid",r);break;case"textarea":Zh(r,p),v=fu(r,p),st("invalid",r);break;default:v=p}hm(u,v),M=v;for(w in M)if(M.hasOwnProperty(w)){var F=M[w];w==="style"?e0(r,F):w==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&jo(r,F)):w==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&Ii(r,F):typeof F=="number"&&Ii(r,""+F):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?F!=null&&w==="onScroll"&&st("scroll",r):F!=null&&L(r,w,F,C))}switch(u){case"input":Qr(r),ks(r,p,!1);break;case"textarea":Qr(r),tf(r);break;case"option":p.value!=null&&r.setAttribute("value",""+Ne(p.value));break;case"select":r.multiple=!!p.multiple,w=p.value,w!=null?Ar(r,!!p.multiple,w,!1):p.defaultValue!=null&&Ar(r,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=Af)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return cn(o),null;case 6:if(r&&o.stateNode!=null)dx(r,o,r.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(u=Wo(zu.current),Wo(ni.current),Mf(o)){if(p=o.stateNode,u=o.memoizedProps,p[ti]=o,(w=p.nodeValue!==u)&&(r=Wn,r!==null))switch(r.tag){case 3:_f(p.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&_f(p.nodeValue,u,(r.mode&1)!==0)}w&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[ti]=o,o.stateNode=p}return cn(o),null;case 13:if(ot(dt),p=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ct&&Gn!==null&&o.mode&1&&!(o.flags&128))pE(),Pl(),o.flags|=98560,w=!1;else if(w=Mf(o),p!==null&&p.dehydrated!==null){if(r===null){if(!w)throw Error(t(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[ti]=o}else Pl(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;cn(o),w=!1}else Tr!==null&&($y(Tr),Tr=null),w=!0;if(!w)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(o.child.flags|=8192,o.mode&1&&(r===null||dt.current&1?Nt===0&&(Nt=3):Gy())),o.updateQueue!==null&&(o.flags|=4),cn(o),null);case 4:return Nl(),My(r,o),r===null&&Iu(o.stateNode.containerInfo),cn(o),null;case 10:return oy(o.type._context),cn(o),null;case 17:return Mn(o.type)&&kf(),cn(o),null;case 19:if(ot(dt),w=o.memoizedState,w===null)return cn(o),null;if(p=(o.flags&128)!==0,C=w.rendering,C===null)if(p)Wu(w,!1);else{if(Nt!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(C=jf(r),C!==null){for(o.flags|=128,Wu(w,!1),p=C.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)w=u,r=p,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=r,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,r=C.dependencies,w.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return rt(dt,dt.current&1|2),o.child}r=r.sibling}w.tail!==null&&St()>jl&&(o.flags|=128,p=!0,Wu(w,!1),o.lanes=4194304)}else{if(!p)if(r=jf(C),r!==null){if(o.flags|=128,p=!0,u=r.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Wu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!ct)return cn(o),null}else 2*St()-w.renderingStartTime>jl&&u!==1073741824&&(o.flags|=128,p=!0,Wu(w,!1),o.lanes=4194304);w.isBackwards?(C.sibling=o.child,o.child=C):(u=w.last,u!==null?u.sibling=C:o.child=C,w.last=C)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=St(),o.sibling=null,u=dt.current,rt(dt,p?u&1|2:u&1),o):(cn(o),null);case 22:case 23:return Wy(),p=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(o.flags|=8192),p&&o.mode&1?qn&1073741824&&(cn(o),o.subtreeFlags&6&&(o.flags|=8192)):cn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function YT(r,o){switch(ey(o),o.tag){case 1:return Mn(o.type)&&kf(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Nl(),ot(Ln),ot(an),fy(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 5:return dy(o),null;case 13:if(ot(dt),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Pl()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ot(dt),null;case 4:return Nl(),null;case 10:return oy(o.type._context),null;case 22:case 23:return Wy(),null;case 24:return null;default:return null}}var qf=!1,un=!1,KT=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ol(r,o){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){vt(r,o,p)}else u.current=null}function Iy(r,o,u){try{u()}catch(p){vt(r,o,p)}}var hx=!1;function QT(r,o){if(Wm=ff,r=V0(),Fm(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var C=0,M=-1,F=-1,$=0,K=0,Q=r,Y=null;t:for(;;){for(var ae;Q!==u||v!==0&&Q.nodeType!==3||(M=C+v),Q!==w||p!==0&&Q.nodeType!==3||(F=C+p),Q.nodeType===3&&(C+=Q.nodeValue.length),(ae=Q.firstChild)!==null;)Y=Q,Q=ae;for(;;){if(Q===r)break t;if(Y===u&&++$===v&&(M=C),Y===w&&++K===p&&(F=C),(ae=Q.nextSibling)!==null)break;Q=Y,Y=Q.parentNode}Q=ae}u=M===-1||F===-1?null:{start:M,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Gm={focusedElem:r,selectionRange:u},ff=!1,de=o;de!==null;)if(o=de,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,de=r;else for(;de!==null;){o=de;try{var he=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var ye=he.memoizedProps,_t=he.memoizedState,H=o.stateNode,j=H.getSnapshotBeforeUpdate(o.elementType===o.type?ye:Rr(o.type,ye),_t);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var U=o.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){vt(o,o.return,te)}if(r=o.sibling,r!==null){r.return=o.return,de=r;break}de=o.return}return he=hx,hx=!1,he}function Gu(r,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&r)===r){var w=v.destroy;v.destroy=void 0,w!==void 0&&Iy(o,u,w)}v=v.next}while(v!==p)}}function Xf(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&r)===r){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function Ny(r){var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof o=="function"?o(r):o.current=r}}function fx(r){var o=r.alternate;o!==null&&(r.alternate=null,fx(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[ti],delete o[Du],delete o[Km],delete o[IT],delete o[NT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function px(r){return r.tag===5||r.tag===3||r.tag===4}function gx(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||px(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Dy(r,o,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(r,o):u.insertBefore(r,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(r,u)):(o=u,o.appendChild(r)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Af));else if(p!==4&&(r=r.child,r!==null))for(Dy(r,o,u),r=r.sibling;r!==null;)Dy(r,o,u),r=r.sibling}function Oy(r,o,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(Oy(r,o,u),r=r.sibling;r!==null;)Oy(r,o,u),r=r.sibling}var Zt=null,Pr=!1;function zs(r,o,u){for(u=u.child;u!==null;)mx(r,o,u),u=u.sibling}function mx(r,o,u){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(af,u)}catch{}switch(u.tag){case 5:un||Ol(u,o);case 6:var p=Zt,v=Pr;Zt=null,zs(r,o,u),Zt=p,Pr=v,Zt!==null&&(Pr?(r=Zt,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Zt.removeChild(u.stateNode));break;case 18:Zt!==null&&(Pr?(r=Zt,u=u.stateNode,r.nodeType===8?Ym(r.parentNode,u):r.nodeType===1&&Ym(r,u),_u(r)):Ym(Zt,u.stateNode));break;case 4:p=Zt,v=Pr,Zt=u.stateNode.containerInfo,Pr=!0,zs(r,o,u),Zt=p,Pr=v;break;case 0:case 11:case 14:case 15:if(!un&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var w=v,C=w.destroy;w=w.tag,C!==void 0&&(w&2||w&4)&&Iy(u,o,C),v=v.next}while(v!==p)}zs(r,o,u);break;case 1:if(!un&&(Ol(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(M){vt(u,o,M)}zs(r,o,u);break;case 21:zs(r,o,u);break;case 22:u.mode&1?(un=(p=un)||u.memoizedState!==null,zs(r,o,u),un=p):zs(r,o,u);break;default:zs(r,o,u)}}function yx(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new KT),o.forEach(function(p){var v=oR.bind(null,r,p);u.has(p)||(u.add(p),p.then(v,v))})}}function Lr(r,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];try{var w=r,C=o,M=C;e:for(;M!==null;){switch(M.tag){case 5:Zt=M.stateNode,Pr=!1;break e;case 3:Zt=M.stateNode.containerInfo,Pr=!0;break e;case 4:Zt=M.stateNode.containerInfo,Pr=!0;break e}M=M.return}if(Zt===null)throw Error(t(160));mx(w,C,v),Zt=null,Pr=!1;var F=v.alternate;F!==null&&(F.return=null),v.return=null}catch($){vt(v,o,$)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)vx(o,r),o=o.sibling}function vx(r,o){var u=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Lr(o,r),ii(r),p&4){try{Gu(3,r,r.return),Xf(3,r)}catch(ye){vt(r,r.return,ye)}try{Gu(5,r,r.return)}catch(ye){vt(r,r.return,ye)}}break;case 1:Lr(o,r),ii(r),p&512&&u!==null&&Ol(u,u.return);break;case 5:if(Lr(o,r),ii(r),p&512&&u!==null&&Ol(u,u.return),r.flags&32){var v=r.stateNode;try{Ii(v,"")}catch(ye){vt(r,r.return,ye)}}if(p&4&&(v=r.stateNode,v!=null)){var w=r.memoizedProps,C=u!==null?u.memoizedProps:w,M=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{M==="input"&&w.type==="radio"&&w.name!=null&&xt(v,w),fm(M,C);var $=fm(M,w);for(C=0;C<F.length;C+=2){var K=F[C],Q=F[C+1];K==="style"?e0(v,Q):K==="dangerouslySetInnerHTML"?jo(v,Q):K==="children"?Ii(v,Q):L(v,K,Q,$)}switch(M){case"input":Jr(v,w);break;case"textarea":ef(v,w);break;case"select":var Y=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var ae=w.value;ae!=null?Ar(v,!!w.multiple,ae,!1):Y!==!!w.multiple&&(w.defaultValue!=null?Ar(v,!!w.multiple,w.defaultValue,!0):Ar(v,!!w.multiple,w.multiple?[]:"",!1))}v[Du]=w}catch(ye){vt(r,r.return,ye)}}break;case 6:if(Lr(o,r),ii(r),p&4){if(r.stateNode===null)throw Error(t(162));v=r.stateNode,w=r.memoizedProps;try{v.nodeValue=w}catch(ye){vt(r,r.return,ye)}}break;case 3:if(Lr(o,r),ii(r),p&4&&u!==null&&u.memoizedState.isDehydrated)try{_u(o.containerInfo)}catch(ye){vt(r,r.return,ye)}break;case 4:Lr(o,r),ii(r);break;case 13:Lr(o,r),ii(r),v=r.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(By=St())),p&4&&yx(r);break;case 22:if(K=u!==null&&u.memoizedState!==null,r.mode&1?(un=($=un)||K,Lr(o,r),un=$):Lr(o,r),ii(r),p&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!K&&r.mode&1)for(de=r,K=r.child;K!==null;){for(Q=de=K;de!==null;){switch(Y=de,ae=Y.child,Y.tag){case 0:case 11:case 14:case 15:Gu(4,Y,Y.return);break;case 1:Ol(Y,Y.return);var he=Y.stateNode;if(typeof he.componentWillUnmount=="function"){p=Y,u=Y.return;try{o=p,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(ye){vt(p,u,ye)}}break;case 5:Ol(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Ex(Q);continue}}ae!==null?(ae.return=Y,de=ae):Ex(Q)}K=K.sibling}e:for(K=null,Q=r;;){if(Q.tag===5){if(K===null){K=Q;try{v=Q.stateNode,$?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(M=Q.stateNode,F=Q.memoizedProps.style,C=F!=null&&F.hasOwnProperty("display")?F.display:null,M.style.display=Zb("display",C))}catch(ye){vt(r,r.return,ye)}}}else if(Q.tag===6){if(K===null)try{Q.stateNode.nodeValue=$?"":Q.memoizedProps}catch(ye){vt(r,r.return,ye)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===r)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===r)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===r)break e;K===Q&&(K=null),Q=Q.return}K===Q&&(K=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Lr(o,r),ii(r),p&4&&yx(r);break;case 21:break;default:Lr(o,r),ii(r)}}function ii(r){var o=r.flags;if(o&2){try{e:{for(var u=r.return;u!==null;){if(px(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(Ii(v,""),p.flags&=-33);var w=gx(r);Oy(r,w,v);break;case 3:case 4:var C=p.stateNode.containerInfo,M=gx(r);Dy(r,M,C);break;default:throw Error(t(161))}}catch(F){vt(r,r.return,F)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function JT(r,o,u){de=r,wx(r)}function wx(r,o,u){for(var p=(r.mode&1)!==0;de!==null;){var v=de,w=v.child;if(v.tag===22&&p){var C=v.memoizedState!==null||qf;if(!C){var M=v.alternate,F=M!==null&&M.memoizedState!==null||un;M=qf;var $=un;if(qf=C,(un=F)&&!$)for(de=v;de!==null;)C=de,F=C.child,C.tag===22&&C.memoizedState!==null?xx(v):F!==null?(F.return=C,de=F):xx(v);for(;w!==null;)de=w,wx(w),w=w.sibling;de=v,qf=M,un=$}bx(r)}else v.subtreeFlags&8772&&w!==null?(w.return=v,de=w):bx(r)}}function bx(r){for(;de!==null;){var o=de;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:un||Xf(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!un)if(u===null)p.componentDidMount();else{var v=o.elementType===o.type?u.memoizedProps:Rr(o.type,u.memoizedProps);p.componentDidUpdate(v,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&EE(o,w,p);break;case 3:var C=o.updateQueue;if(C!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}EE(o,C,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var $=o.alternate;if($!==null){var K=$.memoizedState;if(K!==null){var Q=K.dehydrated;Q!==null&&_u(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||o.flags&512&&Ny(o)}catch(Y){vt(o,o.return,Y)}}if(o===r){de=null;break}if(u=o.sibling,u!==null){u.return=o.return,de=u;break}de=o.return}}function Ex(r){for(;de!==null;){var o=de;if(o===r){de=null;break}var u=o.sibling;if(u!==null){u.return=o.return,de=u;break}de=o.return}}function xx(r){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Xf(4,o)}catch(F){vt(o,u,F)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var v=o.return;try{p.componentDidMount()}catch(F){vt(o,v,F)}}var w=o.return;try{Ny(o)}catch(F){vt(o,w,F)}break;case 5:var C=o.return;try{Ny(o)}catch(F){vt(o,C,F)}}}catch(F){vt(o,o.return,F)}if(o===r){de=null;break}var M=o.sibling;if(M!==null){M.return=o.return,de=M;break}de=o.return}}var ZT=Math.ceil,Yf=I.ReactCurrentDispatcher,Fy=I.ReactCurrentOwner,ur=I.ReactCurrentBatchConfig,We=0,$t=null,kt=null,en=0,qn=0,Fl=Ds(0),Nt=0,qu=null,qo=0,Kf=0,jy=0,Xu=null,Nn=null,By=0,jl=1/0,Hi=null,Qf=!1,zy=null,Hs=null,Jf=!1,Us=null,Zf=0,Yu=0,Hy=null,ep=-1,tp=0;function En(){return We&6?St():ep!==-1?ep:ep=St()}function $s(r){return r.mode&1?We&2&&en!==0?en&-en:OT.transition!==null?(tp===0&&(tp=g0()),tp):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:_0(r.type)),r):1}function Mr(r,o,u,p){if(50<Yu)throw Yu=0,Hy=null,Error(t(185));wu(r,u,p),(!(We&2)||r!==$t)&&(r===$t&&(!(We&2)&&(Kf|=u),Nt===4&&Vs(r,en)),Dn(r,p),u===1&&We===0&&!(o.mode&1)&&(jl=St()+500,Rf&&Fs()))}function Dn(r,o){var u=r.callbackNode;Ok(r,o);var p=uf(r,r===$t?en:0);if(p===0)u!==null&&h0(u),r.callbackNode=null,r.callbackPriority=0;else if(o=p&-p,r.callbackPriority!==o){if(u!=null&&h0(u),o===1)r.tag===0?DT(_x.bind(null,r)):cE(_x.bind(null,r)),LT(function(){!(We&6)&&Fs()}),u=null;else{switch(m0(p)){case 1:u=bm;break;case 4:u=f0;break;case 16:u=of;break;case 536870912:u=p0;break;default:u=of}u=Mx(u,Sx.bind(null,r))}r.callbackPriority=o,r.callbackNode=u}}function Sx(r,o){if(ep=-1,tp=0,We&6)throw Error(t(327));var u=r.callbackNode;if(Bl()&&r.callbackNode!==u)return null;var p=uf(r,r===$t?en:0);if(p===0)return null;if(p&30||p&r.expiredLanes||o)o=np(r,p);else{o=p;var v=We;We|=2;var w=Cx();($t!==r||en!==o)&&(Hi=null,jl=St()+500,Yo(r,o));do try{nR();break}catch(M){Ax(r,M)}while(!0);sy(),Yf.current=w,We=v,kt!==null?o=0:($t=null,en=0,o=Nt)}if(o!==0){if(o===2&&(v=Em(r),v!==0&&(p=v,o=Uy(r,v))),o===1)throw u=qu,Yo(r,0),Vs(r,p),Dn(r,St()),u;if(o===6)Vs(r,p);else{if(v=r.current.alternate,!(p&30)&&!eR(v)&&(o=np(r,p),o===2&&(w=Em(r),w!==0&&(p=w,o=Uy(r,w))),o===1))throw u=qu,Yo(r,0),Vs(r,p),Dn(r,St()),u;switch(r.finishedWork=v,r.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:Ko(r,Nn,Hi);break;case 3:if(Vs(r,p),(p&130023424)===p&&(o=By+500-St(),10<o)){if(uf(r,0)!==0)break;if(v=r.suspendedLanes,(v&p)!==p){En(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=Xm(Ko.bind(null,r,Nn,Hi),o);break}Ko(r,Nn,Hi);break;case 4:if(Vs(r,p),(p&4194240)===p)break;for(o=r.eventTimes,v=-1;0<p;){var C=31-Cr(p);w=1<<C,C=o[C],C>v&&(v=C),p&=~w}if(p=v,p=St()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*ZT(p/1960))-p,10<p){r.timeoutHandle=Xm(Ko.bind(null,r,Nn,Hi),p);break}Ko(r,Nn,Hi);break;case 5:Ko(r,Nn,Hi);break;default:throw Error(t(329))}}}return Dn(r,St()),r.callbackNode===u?Sx.bind(null,r):null}function Uy(r,o){var u=Xu;return r.current.memoizedState.isDehydrated&&(Yo(r,o).flags|=256),r=np(r,o),r!==2&&(o=Nn,Nn=u,o!==null&&$y(o)),r}function $y(r){Nn===null?Nn=r:Nn.push.apply(Nn,r)}function eR(r){for(var o=r;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var v=u[p],w=v.getSnapshot;v=v.value;try{if(!kr(w(),v))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vs(r,o){for(o&=~jy,o&=~Kf,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var u=31-Cr(o),p=1<<u;r[u]=-1,o&=~p}}function _x(r){if(We&6)throw Error(t(327));Bl();var o=uf(r,0);if(!(o&1))return Dn(r,St()),null;var u=np(r,o);if(r.tag!==0&&u===2){var p=Em(r);p!==0&&(o=p,u=Uy(r,p))}if(u===1)throw u=qu,Yo(r,0),Vs(r,o),Dn(r,St()),u;if(u===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,Ko(r,Nn,Hi),Dn(r,St()),null}function Vy(r,o){var u=We;We|=1;try{return r(o)}finally{We=u,We===0&&(jl=St()+500,Rf&&Fs())}}function Xo(r){Us!==null&&Us.tag===0&&!(We&6)&&Bl();var o=We;We|=1;var u=ur.transition,p=Ke;try{if(ur.transition=null,Ke=1,r)return r()}finally{Ke=p,ur.transition=u,We=o,!(We&6)&&Fs()}}function Wy(){qn=Fl.current,ot(Fl)}function Yo(r,o){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,PT(u)),kt!==null)for(u=kt.return;u!==null;){var p=u;switch(ey(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&kf();break;case 3:Nl(),ot(Ln),ot(an),fy();break;case 5:dy(p);break;case 4:Nl();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:oy(p.type._context);break;case 22:case 23:Wy()}u=u.return}if($t=r,kt=r=Ws(r.current,null),en=qn=o,Nt=0,qu=null,jy=Kf=qo=0,Nn=Xu=null,Vo!==null){for(o=0;o<Vo.length;o++)if(u=Vo[o],p=u.interleaved,p!==null){u.interleaved=null;var v=p.next,w=u.pending;if(w!==null){var C=w.next;w.next=v,p.next=C}u.pending=p}Vo=null}return r}function Ax(r,o){do{var u=kt;try{if(sy(),Bf.current=$f,zf){for(var p=ht.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}zf=!1}if(Go=0,Ut=It=ht=null,Hu=!1,Uu=0,Fy.current=null,u===null||u.return===null){Nt=1,qu=o,kt=null;break}e:{var w=r,C=u.return,M=u,F=o;if(o=en,M.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var $=F,K=M,Q=K.tag;if(!(K.mode&1)&&(Q===0||Q===11||Q===15)){var Y=K.alternate;Y?(K.updateQueue=Y.updateQueue,K.memoizedState=Y.memoizedState,K.lanes=Y.lanes):(K.updateQueue=null,K.memoizedState=null)}var ae=KE(C);if(ae!==null){ae.flags&=-257,QE(ae,C,M,w,o),ae.mode&1&&YE(w,$,o),o=ae,F=$;var he=o.updateQueue;if(he===null){var ye=new Set;ye.add(F),o.updateQueue=ye}else he.add(F);break e}else{if(!(o&1)){YE(w,$,o),Gy();break e}F=Error(t(426))}}else if(ct&&M.mode&1){var _t=KE(C);if(_t!==null){!(_t.flags&65536)&&(_t.flags|=256),QE(_t,C,M,w,o),ry(Dl(F,M));break e}}w=F=Dl(F,M),Nt!==4&&(Nt=2),Xu===null?Xu=[w]:Xu.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var H=qE(w,F,o);bE(w,H);break e;case 1:M=F;var j=w.type,U=w.stateNode;if(!(w.flags&128)&&(typeof j.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Hs===null||!Hs.has(U)))){w.flags|=65536,o&=-o,w.lanes|=o;var te=XE(w,M,o);bE(w,te);break e}}w=w.return}while(w!==null)}Tx(u)}catch(ve){o=ve,kt===u&&u!==null&&(kt=u=u.return);continue}break}while(!0)}function Cx(){var r=Yf.current;return Yf.current=$f,r===null?$f:r}function Gy(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),$t===null||!(qo&268435455)&&!(Kf&268435455)||Vs($t,en)}function np(r,o){var u=We;We|=2;var p=Cx();($t!==r||en!==o)&&(Hi=null,Yo(r,o));do try{tR();break}catch(v){Ax(r,v)}while(!0);if(sy(),We=u,Yf.current=p,kt!==null)throw Error(t(261));return $t=null,en=0,Nt}function tR(){for(;kt!==null;)kx(kt)}function nR(){for(;kt!==null&&!kk();)kx(kt)}function kx(r){var o=Lx(r.alternate,r,qn);r.memoizedProps=r.pendingProps,o===null?Tx(r):kt=o,Fy.current=null}function Tx(r){var o=r;do{var u=o.alternate;if(r=o.return,o.flags&32768){if(u=YT(u,o),u!==null){u.flags&=32767,kt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Nt=6,kt=null;return}}else if(u=XT(u,o,qn),u!==null){kt=u;return}if(o=o.sibling,o!==null){kt=o;return}kt=o=r}while(o!==null);Nt===0&&(Nt=5)}function Ko(r,o,u){var p=Ke,v=ur.transition;try{ur.transition=null,Ke=1,rR(r,o,u,p)}finally{ur.transition=v,Ke=p}return null}function rR(r,o,u,p){do Bl();while(Us!==null);if(We&6)throw Error(t(327));u=r.finishedWork;var v=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var w=u.lanes|u.childLanes;if(Fk(r,w),r===$t&&(kt=$t=null,en=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Jf||(Jf=!0,Mx(of,function(){return Bl(),null})),w=(u.flags&15990)!==0,u.subtreeFlags&15990||w){w=ur.transition,ur.transition=null;var C=Ke;Ke=1;var M=We;We|=4,Fy.current=null,QT(r,u),vx(u,r),ST(Gm),ff=!!Wm,Gm=Wm=null,r.current=u,JT(u),Tk(),We=M,Ke=C,ur.transition=w}else r.current=u;if(Jf&&(Jf=!1,Us=r,Zf=v),w=r.pendingLanes,w===0&&(Hs=null),Lk(u.stateNode),Dn(r,St()),o!==null)for(p=r.onRecoverableError,u=0;u<o.length;u++)v=o[u],p(v.value,{componentStack:v.stack,digest:v.digest});if(Qf)throw Qf=!1,r=zy,zy=null,r;return Zf&1&&r.tag!==0&&Bl(),w=r.pendingLanes,w&1?r===Hy?Yu++:(Yu=0,Hy=r):Yu=0,Fs(),null}function Bl(){if(Us!==null){var r=m0(Zf),o=ur.transition,u=Ke;try{if(ur.transition=null,Ke=16>r?16:r,Us===null)var p=!1;else{if(r=Us,Us=null,Zf=0,We&6)throw Error(t(331));var v=We;for(We|=4,de=r.current;de!==null;){var w=de,C=w.child;if(de.flags&16){var M=w.deletions;if(M!==null){for(var F=0;F<M.length;F++){var $=M[F];for(de=$;de!==null;){var K=de;switch(K.tag){case 0:case 11:case 15:Gu(8,K,w)}var Q=K.child;if(Q!==null)Q.return=K,de=Q;else for(;de!==null;){K=de;var Y=K.sibling,ae=K.return;if(fx(K),K===$){de=null;break}if(Y!==null){Y.return=ae,de=Y;break}de=ae}}}var he=w.alternate;if(he!==null){var ye=he.child;if(ye!==null){he.child=null;do{var _t=ye.sibling;ye.sibling=null,ye=_t}while(ye!==null)}}de=w}}if(w.subtreeFlags&2064&&C!==null)C.return=w,de=C;else e:for(;de!==null;){if(w=de,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Gu(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,de=H;break e}de=w.return}}var j=r.current;for(de=j;de!==null;){C=de;var U=C.child;if(C.subtreeFlags&2064&&U!==null)U.return=C,de=U;else e:for(C=j;de!==null;){if(M=de,M.flags&2048)try{switch(M.tag){case 0:case 11:case 15:Xf(9,M)}}catch(ve){vt(M,M.return,ve)}if(M===C){de=null;break e}var te=M.sibling;if(te!==null){te.return=M.return,de=te;break e}de=M.return}}if(We=v,Fs(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(af,r)}catch{}p=!0}return p}finally{Ke=u,ur.transition=o}}return!1}function Rx(r,o,u){o=Dl(u,o),o=qE(r,o,1),r=Bs(r,o,1),o=En(),r!==null&&(wu(r,1,o),Dn(r,o))}function vt(r,o,u){if(r.tag===3)Rx(r,r,u);else for(;o!==null;){if(o.tag===3){Rx(o,r,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Hs===null||!Hs.has(p))){r=Dl(u,r),r=XE(o,r,1),o=Bs(o,r,1),r=En(),o!==null&&(wu(o,1,r),Dn(o,r));break}}o=o.return}}function iR(r,o,u){var p=r.pingCache;p!==null&&p.delete(o),o=En(),r.pingedLanes|=r.suspendedLanes&u,$t===r&&(en&u)===u&&(Nt===4||Nt===3&&(en&130023424)===en&&500>St()-By?Yo(r,0):jy|=u),Dn(r,o)}function Px(r,o){o===0&&(r.mode&1?(o=cf,cf<<=1,!(cf&130023424)&&(cf=4194304)):o=1);var u=En();r=ji(r,o),r!==null&&(wu(r,o,u),Dn(r,u))}function sR(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),Px(r,u)}function oR(r,o){var u=0;switch(r.tag){case 13:var p=r.stateNode,v=r.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),Px(r,u)}var Lx;Lx=function(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps||Ln.current)In=!0;else{if(!(r.lanes&u)&&!(o.flags&128))return In=!1,qT(r,o,u);In=!!(r.flags&131072)}else In=!1,ct&&o.flags&1048576&&uE(o,Lf,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Gf(r,o),r=o.pendingProps;var v=kl(o,an.current);Il(o,u),v=my(null,o,p,r,v,u);var w=yy();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Mn(p)?(w=!0,Tf(o)):w=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,cy(o),v.updater=Vf,o.stateNode=v,v._reactInternals=o,Sy(o,p,r,u),o=ky(null,o,p,!0,w,u)):(o.tag=0,ct&&w&&Zm(o),bn(null,o,v,u),o=o.child),o;case 16:p=o.elementType;e:{switch(Gf(r,o),r=o.pendingProps,v=p._init,p=v(p._payload),o.type=p,v=o.tag=lR(p),r=Rr(p,r),v){case 0:o=Cy(null,o,p,r,u);break e;case 1:o=rx(null,o,p,r,u);break e;case 11:o=JE(null,o,p,r,u);break e;case 14:o=ZE(null,o,p,Rr(p.type,r),u);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Rr(p,v),Cy(r,o,p,v,u);case 1:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Rr(p,v),rx(r,o,p,v,u);case 3:e:{if(ix(o),r===null)throw Error(t(387));p=o.pendingProps,w=o.memoizedState,v=w.element,wE(r,o),Ff(o,p,null,u);var C=o.memoizedState;if(p=C.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){v=Dl(Error(t(423)),o),o=sx(r,o,p,u,v);break e}else if(p!==v){v=Dl(Error(t(424)),o),o=sx(r,o,p,u,v);break e}else for(Gn=Ns(o.stateNode.containerInfo.firstChild),Wn=o,ct=!0,Tr=null,u=yE(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Pl(),p===v){o=zi(r,o,u);break e}bn(r,o,p,u)}o=o.child}return o;case 5:return xE(o),r===null&&ny(o),p=o.type,v=o.pendingProps,w=r!==null?r.memoizedProps:null,C=v.children,qm(p,v)?C=null:w!==null&&qm(p,w)&&(o.flags|=32),nx(r,o),bn(r,o,C,u),o.child;case 6:return r===null&&ny(o),null;case 13:return ox(r,o,u);case 4:return uy(o,o.stateNode.containerInfo),p=o.pendingProps,r===null?o.child=Ll(o,null,p,u):bn(r,o,p,u),o.child;case 11:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Rr(p,v),JE(r,o,p,v,u);case 7:return bn(r,o,o.pendingProps,u),o.child;case 8:return bn(r,o,o.pendingProps.children,u),o.child;case 12:return bn(r,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,v=o.pendingProps,w=o.memoizedProps,C=v.value,rt(Nf,p._currentValue),p._currentValue=C,w!==null)if(kr(w.value,C)){if(w.children===v.children&&!Ln.current){o=zi(r,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var M=w.dependencies;if(M!==null){C=w.child;for(var F=M.firstContext;F!==null;){if(F.context===p){if(w.tag===1){F=Bi(-1,u&-u),F.tag=2;var $=w.updateQueue;if($!==null){$=$.shared;var K=$.pending;K===null?F.next=F:(F.next=K.next,K.next=F),$.pending=F}}w.lanes|=u,F=w.alternate,F!==null&&(F.lanes|=u),ay(w.return,u,o),M.lanes|=u;break}F=F.next}}else if(w.tag===10)C=w.type===o.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(t(341));C.lanes|=u,M=C.alternate,M!==null&&(M.lanes|=u),ay(C,u,o),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===o){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}bn(r,o,v.children,u),o=o.child}return o;case 9:return v=o.type,p=o.pendingProps.children,Il(o,u),v=lr(v),p=p(v),o.flags|=1,bn(r,o,p,u),o.child;case 14:return p=o.type,v=Rr(p,o.pendingProps),v=Rr(p.type,v),ZE(r,o,p,v,u);case 15:return ex(r,o,o.type,o.pendingProps,u);case 17:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Rr(p,v),Gf(r,o),o.tag=1,Mn(p)?(r=!0,Tf(o)):r=!1,Il(o,u),WE(o,p,v),Sy(o,p,v,u),ky(null,o,p,!0,r,u);case 19:return lx(r,o,u);case 22:return tx(r,o,u)}throw Error(t(156,o.tag))};function Mx(r,o){return d0(r,o)}function aR(r,o,u,p){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(r,o,u,p){return new aR(r,o,u,p)}function qy(r){return r=r.prototype,!(!r||!r.isReactComponent)}function lR(r){if(typeof r=="function")return qy(r)?1:0;if(r!=null){if(r=r.$$typeof,r===xe)return 11;if(r===ge)return 14}return 2}function Ws(r,o){var u=r.alternate;return u===null?(u=dr(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function rp(r,o,u,p,v,w){var C=2;if(p=r,typeof r=="function")qy(r)&&(C=1);else if(typeof r=="string")C=5;else e:switch(r){case z:return Qo(u.children,v,w,o);case V:C=8,v|=8;break;case q:return r=dr(12,u,o,v|2),r.elementType=q,r.lanes=w,r;case ce:return r=dr(13,u,o,v),r.elementType=ce,r.lanes=w,r;case oe:return r=dr(19,u,o,v),r.elementType=oe,r.lanes=w,r;case ee:return ip(u,v,w,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case X:C=10;break e;case Z:C=9;break e;case xe:C=11;break e;case ge:C=14;break e;case J:C=16,p=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return o=dr(C,u,o,v),o.elementType=r,o.type=p,o.lanes=w,o}function Qo(r,o,u,p){return r=dr(7,r,p,o),r.lanes=u,r}function ip(r,o,u,p){return r=dr(22,r,p,o),r.elementType=ee,r.lanes=u,r.stateNode={isHidden:!1},r}function Xy(r,o,u){return r=dr(6,r,null,o),r.lanes=u,r}function Yy(r,o,u){return o=dr(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function cR(r,o,u,p,v){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xm(0),this.expirationTimes=xm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xm(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Ky(r,o,u,p,v,w,C,M,F){return r=new cR(r,o,u,M,F),o===1?(o=1,w===!0&&(o|=8)):o=0,w=dr(3,null,null,o),r.current=w,w.stateNode=r,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(w),r}function uR(r,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:p==null?null:""+p,children:r,containerInfo:o,implementation:u}}function Ix(r){if(!r)return Os;r=r._reactInternals;e:{if(Bo(r)!==r||r.tag!==1)throw Error(t(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Mn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(r.tag===1){var u=r.type;if(Mn(u))return aE(r,u,o)}return o}function Nx(r,o,u,p,v,w,C,M,F){return r=Ky(u,p,!0,r,v,w,C,M,F),r.context=Ix(null),u=r.current,p=En(),v=$s(u),w=Bi(p,v),w.callback=o??null,Bs(u,w,v),r.current.lanes=v,wu(r,v,p),Dn(r,p),r}function sp(r,o,u,p){var v=o.current,w=En(),C=$s(v);return u=Ix(u),o.context===null?o.context=u:o.pendingContext=u,o=Bi(w,C),o.payload={element:r},p=p===void 0?null:p,p!==null&&(o.callback=p),r=Bs(v,o,C),r!==null&&(Mr(r,v,C,w),Of(r,v,C)),C}function op(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Dx(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Qy(r,o){Dx(r,o),(r=r.alternate)&&Dx(r,o)}function dR(){return null}var Ox=typeof reportError=="function"?reportError:function(r){console.error(r)};function Jy(r){this._internalRoot=r}ap.prototype.render=Jy.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(t(409));sp(r,o,null,null)},ap.prototype.unmount=Jy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Xo(function(){sp(null,r,null,null)}),o[Ni]=null}};function ap(r){this._internalRoot=r}ap.prototype.unstable_scheduleHydration=function(r){if(r){var o=w0();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Ls.length&&o!==0&&o<Ls[u].priority;u++);Ls.splice(u,0,r),u===0&&x0(r)}};function Zy(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function lp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Fx(){}function hR(r,o,u,p,v){if(v){if(typeof p=="function"){var w=p;p=function(){var $=op(C);w.call($)}}var C=Nx(o,p,r,0,null,!1,!1,"",Fx);return r._reactRootContainer=C,r[Ni]=C.current,Iu(r.nodeType===8?r.parentNode:r),Xo(),C}for(;v=r.lastChild;)r.removeChild(v);if(typeof p=="function"){var M=p;p=function(){var $=op(F);M.call($)}}var F=Ky(r,0,!1,null,null,!1,!1,"",Fx);return r._reactRootContainer=F,r[Ni]=F.current,Iu(r.nodeType===8?r.parentNode:r),Xo(function(){sp(o,F,u,p)}),F}function cp(r,o,u,p,v){var w=u._reactRootContainer;if(w){var C=w;if(typeof v=="function"){var M=v;v=function(){var F=op(C);M.call(F)}}sp(o,C,r,v)}else C=hR(u,o,r,v,p);return op(C)}y0=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var u=vu(o.pendingLanes);u!==0&&(Sm(o,u|1),Dn(o,St()),!(We&6)&&(jl=St()+500,Fs()))}break;case 13:Xo(function(){var p=ji(r,1);if(p!==null){var v=En();Mr(p,r,1,v)}}),Qy(r,1)}},_m=function(r){if(r.tag===13){var o=ji(r,134217728);if(o!==null){var u=En();Mr(o,r,134217728,u)}Qy(r,134217728)}},v0=function(r){if(r.tag===13){var o=$s(r),u=ji(r,o);if(u!==null){var p=En();Mr(u,r,o,p)}Qy(r,o)}},w0=function(){return Ke},b0=function(r,o){var u=Ke;try{return Ke=r,o()}finally{Ke=u}},mm=function(r,o,u){switch(o){case"input":if(Jr(r,u),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==r&&p.form===r.form){var v=Cf(p);if(!v)throw Error(t(90));Cs(p),Jr(p,v)}}}break;case"textarea":ef(r,u);break;case"select":o=u.value,o!=null&&Ar(r,!!u.multiple,o,!1)}},i0=Vy,s0=Xo;var fR={usingClientEntryPoint:!1,Events:[Ou,Al,Cf,n0,r0,Vy]},Ku={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pR={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=c0(r),r===null?null:r.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||dR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{af=up.inject(pR),ei=up}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fR,On.createPortal=function(r,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zy(o))throw Error(t(200));return uR(r,o,null,u)},On.createRoot=function(r,o){if(!Zy(r))throw Error(t(299));var u=!1,p="",v=Ox;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=Ky(r,1,!1,null,null,u,!1,p,v),r[Ni]=o.current,Iu(r.nodeType===8?r.parentNode:r),new Jy(o)},On.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=c0(o),r=r===null?null:r.stateNode,r},On.flushSync=function(r){return Xo(r)},On.hydrate=function(r,o,u){if(!lp(o))throw Error(t(200));return cp(null,r,o,!0,u)},On.hydrateRoot=function(r,o,u){if(!Zy(r))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,v=!1,w="",C=Ox;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),o=Nx(o,null,r,1,u??null,v,!1,w,C),r[Ni]=o.current,Iu(r),p)for(r=0;r<p.length;r++)u=p[r],v=u._getVersion,v=v(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,v]:o.mutableSourceEagerHydrationData.push(u,v);return new ap(o)},On.render=function(r,o,u){if(!lp(o))throw Error(t(200));return cp(null,r,o,!1,u)},On.unmountComponentAtNode=function(r){if(!lp(r))throw Error(t(40));return r._reactRootContainer?(Xo(function(){cp(null,null,r,!1,function(){r._reactRootContainer=null,r[Ni]=null})}),!0):!1},On.unstable_batchedUpdates=Vy,On.unstable_renderSubtreeIntoContainer=function(r,o,u,p){if(!lp(u))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return cp(r,o,u,!1,p)},On.version="18.3.1-next-f1338f8080-20240426",On}var Gx;function s_(){if(Gx)return rv.exports;Gx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rv.exports=_R(),rv.exports}var qx;function AR(){if(qx)return dp;qx=1;var i=s_();return dp.createRoot=i.createRoot,dp.hydrateRoot=i.hydrateRoot,dp}var CR=AR();const Ci=Object.create(null);Ci.open="0";Ci.close="1";Ci.ping="2";Ci.pong="3";Ci.message="4";Ci.upgrade="5";Ci.noop="6";const Tp=Object.create(null);Object.keys(Ci).forEach(i=>{Tp[Ci[i]]=i});const Tv={type:"error",data:"parser error"},o_=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",a_=typeof ArrayBuffer=="function",l_=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,pb=({type:i,data:e},t,n)=>o_&&e instanceof Blob?t?n(e):Xx(e,n):a_&&(e instanceof ArrayBuffer||l_(e))?t?n(e):Xx(new Blob([e]),n):n(Ci[i]+(e||"")),Xx=(i,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(i)};function Yx(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}let ov;function kR(i,e){if(o_&&i.data instanceof Blob)return i.data.arrayBuffer().then(Yx).then(e);if(a_&&(i.data instanceof ArrayBuffer||l_(i.data)))return e(Yx(i.data));pb(i,!1,t=>{ov||(ov=new TextEncoder),e(ov.encode(t))})}const Kx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",id=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<Kx.length;i++)id[Kx.charCodeAt(i)]=i;const TR=i=>{let e=i.length*.75,t=i.length,n,s=0,a,l,c,h;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);const f=new ArrayBuffer(e),g=new Uint8Array(f);for(n=0;n<t;n+=4)a=id[i.charCodeAt(n)],l=id[i.charCodeAt(n+1)],c=id[i.charCodeAt(n+2)],h=id[i.charCodeAt(n+3)],g[s++]=a<<2|l>>4,g[s++]=(l&15)<<4|c>>2,g[s++]=(c&3)<<6|h&63;return f},RR=typeof ArrayBuffer=="function",gb=(i,e)=>{if(typeof i!="string")return{type:"message",data:c_(i,e)};const t=i.charAt(0);return t==="b"?{type:"message",data:PR(i.substring(1),e)}:Tp[t]?i.length>1?{type:Tp[t],data:i.substring(1)}:{type:Tp[t]}:Tv},PR=(i,e)=>{if(RR){const t=TR(i);return c_(t,e)}else return{base64:!0,data:i}},c_=(i,e)=>{switch(e){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}},u_="",LR=(i,e)=>{const t=i.length,n=new Array(t);let s=0;i.forEach((a,l)=>{pb(a,!1,c=>{n[l]=c,++s===t&&e(n.join(u_))})})},MR=(i,e)=>{const t=i.split(u_),n=[];for(let s=0;s<t.length;s++){const a=gb(t[s],e);if(n.push(a),a.type==="error")break}return n};function IR(){return new TransformStream({transform(i,e){kR(i,t=>{const n=t.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}i.data&&typeof i.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}let av;function hp(i){return i.reduce((e,t)=>e+t.length,0)}function fp(i,e){if(i[0].length===e)return i.shift();const t=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)t[s]=i[0][n++],n===i[0].length&&(i.shift(),n=0);return i.length&&n<i[0].length&&(i[0]=i[0].slice(n)),t}function NR(i,e){av||(av=new TextDecoder);const t=[];let n=0,s=-1,a=!1;return new TransformStream({transform(l,c){for(t.push(l);;){if(n===0){if(hp(t)<1)break;const h=fp(t,1);a=(h[0]&128)===128,s=h[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(hp(t)<2)break;const h=fp(t,2);s=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),n=3}else if(n===2){if(hp(t)<8)break;const h=fp(t,8),f=new DataView(h.buffer,h.byteOffset,h.length),g=f.getUint32(0);if(g>Math.pow(2,21)-1){c.enqueue(Tv);break}s=g*Math.pow(2,32)+f.getUint32(4),n=3}else{if(hp(t)<s)break;const h=fp(t,s);c.enqueue(gb(a?h:av.decode(h),e)),n=0}if(s===0||s>i){c.enqueue(Tv);break}}}})}const d_=4;function Pt(i){if(i)return DR(i)}function DR(i){for(var e in Pt.prototype)i[e]=Pt.prototype[e];return i}Pt.prototype.on=Pt.prototype.addEventListener=function(i,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(e),this};Pt.prototype.once=function(i,e){function t(){this.off(i,t),e.apply(this,arguments)}return t.fn=e,this.on(i,t),this};Pt.prototype.off=Pt.prototype.removeListener=Pt.prototype.removeAllListeners=Pt.prototype.removeEventListener=function(i,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+i];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var n,s=0;s<t.length;s++)if(n=t[s],n===e||n.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+i],this};Pt.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+i],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,s=t.length;n<s;++n)t[n].apply(this,e)}return this};Pt.prototype.emitReserved=Pt.prototype.emit;Pt.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};Pt.prototype.hasListeners=function(i){return!!this.listeners(i).length};const Gg=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),vr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),OR="arraybuffer";function h_(i,...e){return e.reduce((t,n)=>(i.hasOwnProperty(n)&&(t[n]=i[n]),t),{})}const FR=vr.setTimeout,jR=vr.clearTimeout;function qg(i,e){e.useNativeTimers?(i.setTimeoutFn=FR.bind(vr),i.clearTimeoutFn=jR.bind(vr)):(i.setTimeoutFn=vr.setTimeout.bind(vr),i.clearTimeoutFn=vr.clearTimeout.bind(vr))}const BR=1.33;function zR(i){return typeof i=="string"?HR(i):Math.ceil((i.byteLength||i.size)*BR)}function HR(i){let e=0,t=0;for(let n=0,s=i.length;n<s;n++)e=i.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function f_(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function UR(i){let e="";for(let t in i)i.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(i[t]));return e}function $R(i){let e={},t=i.split("&");for(let n=0,s=t.length;n<s;n++){let a=t[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class VR extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class mb extends Pt{constructor(e){super(),this.writable=!1,qg(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new VR(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=gb(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=UR(e);return t.length?"?"+t:""}}class WR extends mb{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};MR(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,LR(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=f_()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let p_=!1;try{p_=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const GR=p_;function qR(){}class XR extends WR{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}class Ai extends Pt{constructor(e,t,n){super(),this.createRequest=e,qg(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const t=h_(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Ai.requestsCount++,Ai.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=qR,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ai.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ai.requestsCount=0;Ai.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Qx);else if(typeof addEventListener=="function"){const i="onpagehide"in vr?"pagehide":"unload";addEventListener(i,Qx,!1)}}function Qx(){for(let i in Ai.requests)Ai.requests.hasOwnProperty(i)&&Ai.requests[i].abort()}const YR=function(){const i=g_({xdomain:!1});return i&&i.responseType!==null}();class KR extends XR{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=YR&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ai(g_,this.uri(),e)}}function g_(i){const e=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||GR))return new XMLHttpRequest}catch{}if(!e)try{return new vr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const m_=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class QR extends mb{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=m_?{}:h_(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;pb(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}s&&Gg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=f_()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const lv=vr.WebSocket||vr.MozWebSocket;class JR extends QR{createSocket(e,t,n){return m_?new lv(e,t,n):t?new lv(e,t):new lv(e)}doWrite(e,t){this.ws.send(t)}}class ZR extends mb{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=NR(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),s=IR();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const a=()=>{n.read().then(({done:c,value:h})=>{c||(this.onPacket(h),a())}).catch(c=>{})};a();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;this._writer.write(n).then(()=>{s&&Gg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const eP={websocket:JR,webtransport:ZR,polling:KR},tP=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nP=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Rv(i){if(i.length>8e3)throw"URI too long";const e=i,t=i.indexOf("["),n=i.indexOf("]");t!=-1&&n!=-1&&(i=i.substring(0,t)+i.substring(t,n).replace(/:/g,";")+i.substring(n,i.length));let s=tP.exec(i||""),a={},l=14;for(;l--;)a[nP[l]]=s[l]||"";return t!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=rP(a,a.path),a.queryKey=iP(a,a.query),a}function rP(i,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function iP(i,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,a){s&&(t[s]=a)}),t}const Pv=typeof addEventListener=="function"&&typeof removeEventListener=="function",Rp=[];Pv&&addEventListener("offline",()=>{Rp.forEach(i=>i())},!1);class ko extends Pt{constructor(e,t){if(super(),this.binaryType=OR,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const n=Rv(e);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Rv(t.host).host);qg(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$R(this.opts.query)),Pv&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Rp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=d_,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ko.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",ko.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=zR(s)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Gg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,s){if(typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(ko.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Pv&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Rp.indexOf(this._offlineEventListener);n!==-1&&Rp.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}ko.protocol=d_;class sP extends ko{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;ko.priorWebsocketSuccess=!1;const s=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ko.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(g(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=t.name,this.emitReserved("upgradeError",y)}}))};function a(){n||(n=!0,g(),t.close(),t=null)}const l=m=>{const y=new Error("probe error: "+m);y.transport=t.name,a(),this.emitReserved("upgradeError",y)};function c(){l("transport closed")}function h(){l("socket closed")}function f(m){t&&m.name!==t.name&&a()}const g=()=>{t.removeListener("open",s),t.removeListener("error",l),t.removeListener("close",c),this.off("close",h),this.off("upgrading",f)};t.once("open",s),t.once("error",l),t.once("close",c),this.once("close",h),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let oP=class extends sP{constructor(e,t={}){const n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>eP[s]).filter(s=>!!s)),super(e,n)}};function aP(i,e="",t){let n=i;t=t||typeof location<"u"&&location,i==null&&(i=t.protocol+"//"+t.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=t.protocol+i:i=t.host+i),/^(https?|wss?):\/\//.test(i)||(typeof t<"u"?i=t.protocol+"//"+i:i="https://"+i),n=Rv(i)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(t&&t.port===n.port?"":":"+n.port),n}const lP=typeof ArrayBuffer=="function",cP=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,y_=Object.prototype.toString,uP=typeof Blob=="function"||typeof Blob<"u"&&y_.call(Blob)==="[object BlobConstructor]",dP=typeof File=="function"||typeof File<"u"&&y_.call(File)==="[object FileConstructor]";function yb(i){return lP&&(i instanceof ArrayBuffer||cP(i))||uP&&i instanceof Blob||dP&&i instanceof File}function Pp(i,e){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let t=0,n=i.length;t<n;t++)if(Pp(i[t]))return!0;return!1}if(yb(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Pp(i.toJSON(),!0);for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&Pp(i[t]))return!0;return!1}function hP(i){const e=[],t=i.data,n=i;return n.data=Lv(t,e),n.attachments=e.length,{packet:n,buffers:e}}function Lv(i,e){if(!i)return i;if(yb(i)){const t={_placeholder:!0,num:e.length};return e.push(i),t}else if(Array.isArray(i)){const t=new Array(i.length);for(let n=0;n<i.length;n++)t[n]=Lv(i[n],e);return t}else if(typeof i=="object"&&!(i instanceof Date)){const t={};for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=Lv(i[n],e));return t}return i}function fP(i,e){return i.data=Mv(i.data,e),delete i.attachments,i}function Mv(i,e){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<e.length)return e[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let t=0;t<i.length;t++)i[t]=Mv(i[t],e);else if(typeof i=="object")for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&(i[t]=Mv(i[t],e));return i}const pP=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],gP=5;var $e;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})($e||($e={}));class mP{constructor(e){this.replacer=e}encode(e){return(e.type===$e.EVENT||e.type===$e.ACK)&&Pp(e)?this.encodeAsBinary({type:e.type===$e.EVENT?$e.BINARY_EVENT:$e.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===$e.BINARY_EVENT||e.type===$e.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=hP(e),n=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(n),s}}function Jx(i){return Object.prototype.toString.call(i)==="[object Object]"}class vb extends Pt{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===$e.BINARY_EVENT;n||t.type===$e.BINARY_ACK?(t.type=n?$e.EVENT:$e.ACK,this.reconstructor=new yP(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(yb(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if($e[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===$e.BINARY_EVENT||n.type===$e.BINARY_ACK){const a=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const l=e.substring(a,t);if(l!=Number(l)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(e.charAt(t+1)==="/"){const a=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(a,t)}else n.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const a=t+1;for(;++t;){const l=e.charAt(t);if(l==null||Number(l)!=l){--t;break}if(t===e.length)break}n.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(vb.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case $e.CONNECT:return Jx(t);case $e.DISCONNECT:return t===void 0;case $e.CONNECT_ERROR:return typeof t=="string"||Jx(t);case $e.EVENT:case $e.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&pP.indexOf(t[0])===-1);case $e.ACK:case $e.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yP{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=fP(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const vP=Object.freeze(Object.defineProperty({__proto__:null,Decoder:vb,Encoder:mP,get PacketType(){return $e},protocol:gP},Symbol.toStringTag,{value:"Module"}));function Xr(i,e,t){return i.on(e,t),function(){i.off(e,t)}}const wP=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class v_ extends Pt{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Xr(e,"open",this.onopen.bind(this)),Xr(e,"packet",this.onpacket.bind(this)),Xr(e,"error",this.onerror.bind(this)),Xr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,s,a;if(wP.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const l={type:$e.EVENT,data:t};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const g=this.ids++,m=t.pop();this._registerAckCallback(g,m),l.id=g}const c=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,h=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!c||(h?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(e,t){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},s),l=(...c)=>{this.io.clearTimeoutFn(a),t.apply(this,c)};l.withError=!0,this.acks[e]=l}emitWithAck(e,...t){return new Promise((n,s)=>{const a=(l,c)=>l?s(l):n(c);a.withError=!0,t.push(a),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...a)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:$e.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case $e.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case $e.EVENT:case $e.BINARY_EVENT:this.onevent(e);break;case $e.ACK:case $e.BINARY_ACK:this.onack(e);break;case $e.DISCONNECT:this.ondisconnect();break;case $e.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...s){n||(n=!0,t.packet({type:$e.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:$e.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function su(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}su.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*i);i=Math.floor(e*10)&1?i+t:i-t}return Math.min(i,this.max)|0};su.prototype.reset=function(){this.attempts=0};su.prototype.setMin=function(i){this.ms=i};su.prototype.setMax=function(i){this.max=i};su.prototype.setJitter=function(i){this.jitter=i};class Iv extends Pt{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,qg(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new su({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||vP;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new oP(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Xr(t,"open",function(){n.onopen(),e&&e()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},l=Xr(t,"error",a);if(this._timeout!==!1){const c=this._timeout,h=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),t.close()},c);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(s),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Xr(e,"ping",this.onping.bind(this)),Xr(e,"data",this.ondata.bind(this)),Xr(e,"error",this.onerror.bind(this)),Xr(e,"close",this.onclose.bind(this)),Xr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Gg(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new v_(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ju={};function Lp(i,e){typeof i=="object"&&(e=i,i=void 0),e=e||{};const t=aP(i,e.path||"/socket.io"),n=t.source,s=t.id,a=t.path,l=Ju[s]&&a in Ju[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||l;let h;return c?h=new Iv(n,e):(Ju[s]||(Ju[s]=new Iv(n,e)),h=Ju[s]),t.query&&!e.query&&(e.query=t.queryKey),h.socket(t.path,e)}Object.assign(Lp,{Manager:Iv,Socket:v_,io:Lp,connect:Lp});const _e=Lp("http://localhost:4000");_e.on("connect",()=>{console.log("Connected to server:",_e.id);const i=localStorage.getItem("roomCode"),e=localStorage.getItem("username");e&&_e.emit("set-username",e),i&&_e.emit("join-room",i)});_e.on("connect_error",i=>{console.error("Connection error:",i)});_e.on("disconnect",i=>{console.warn("Disconnected from server:",i)});var S=fb();const Jt=hb(S),bP=vR({__proto__:null,default:Jt},[S]);var Zu={},Zx;function EP(){if(Zx)return Zu;Zx=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.parse=l,Zu.serialize=f;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,b){const E=new a,x=y.length;if(x<2)return E;const T=(b==null?void 0:b.decode)||g;let A=0;do{const P=y.indexOf("=",A);if(P===-1)break;const L=y.indexOf(";",A),I=L===-1?x:L;if(P>I){A=y.lastIndexOf(";",P-1)+1;continue}const O=c(y,A,P),N=h(y,P,O),z=y.slice(O,N);if(E[z]===void 0){let V=c(y,P+1,I),q=h(y,I,V);const X=T(y.slice(V,q));E[z]=X}A=I+1}while(A<x);return E}function c(y,b,E){do{const x=y.charCodeAt(b);if(x!==32&&x!==9)return b}while(++b<E);return E}function h(y,b,E){for(;b>E;){const x=y.charCodeAt(--b);if(x!==32&&x!==9)return b+1}return E}function f(y,b,E){const x=(E==null?void 0:E.encode)||encodeURIComponent;if(!i.test(y))throw new TypeError(`argument name is invalid: ${y}`);const T=x(b);if(!e.test(T))throw new TypeError(`argument val is invalid: ${b}`);let A=y+"="+T;if(!E)return A;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);A+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);A+="; Domain="+E.domain}if(E.path){if(!n.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);A+="; Path="+E.path}if(E.expires){if(!m(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);A+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(A+="; HttpOnly"),E.secure&&(A+="; Secure"),E.partitioned&&(A+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return A}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return s.call(y)==="[object Date]"}return Zu}EP();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eS="popstate";function xP(i={}){function e(n,s){let{pathname:a,search:l,hash:c}=n.location;return Nv("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:Ad(s)}return _P(e,t,null,i)}function yt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ki(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SP(){return Math.random().toString(36).substring(2,10)}function tS(i,e){return{usr:i.state,key:i.key,idx:e}}function Nv(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ou(e):e,state:t,key:e&&e.key||n||SP()}}function Ad({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ou(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function _P(i,e,t,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,c="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function m(){c="POP";let T=g(),A=T==null?null:T-f;f=T,h&&h({action:c,location:x.location,delta:A})}function y(T,A){c="PUSH";let P=Nv(x.location,T,A);f=g()+1;let L=tS(P,f),I=x.createHref(P);try{l.pushState(L,"",I)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(I)}a&&h&&h({action:c,location:x.location,delta:1})}function b(T,A){c="REPLACE";let P=Nv(x.location,T,A);f=g();let L=tS(P,f),I=x.createHref(P);l.replaceState(L,"",I),a&&h&&h({action:c,location:x.location,delta:0})}function E(T){let A=s.location.origin!=="null"?s.location.origin:s.location.href,P=typeof T=="string"?T:Ad(T);return P=P.replace(/ $/,"%20"),yt(A,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,A)}let x={get action(){return c},get location(){return i(s,l)},listen(T){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(eS,m),h=T,()=>{s.removeEventListener(eS,m),h=null}},createHref(T){return e(s,T)},createURL:E,encodeLocation(T){let A=E(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:b,go(T){return l.go(T)}};return x}function w_(i,e,t="/"){return AP(i,e,t,!1)}function AP(i,e,t,n){let s=typeof e=="string"?ou(e):e,a=To(s.pathname||"/",t);if(a==null)return null;let l=b_(i);CP(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=FP(a);c=DP(l[h],f,n)}return c}function b_(i,e=[],t=[],n=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(yt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let f=ws([n,h.relativePath]),g=t.concat(h);a.children&&a.children.length>0&&(yt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),b_(a.children,e,g,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:IP(f,a.index),routesMeta:g})};return i.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of E_(a.path))s(a,l,h)}),e}function E_(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=E_(n.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>i.startsWith("/")&&h===""?"/":h)}function CP(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:NP(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var kP=/^:[\w-]+$/,TP=3,RP=2,PP=1,LP=10,MP=-2,nS=i=>i==="*";function IP(i,e){let t=i.split("/"),n=t.length;return t.some(nS)&&(n+=MP),e&&(n+=RP),t.filter(s=>!nS(s)).reduce((s,a)=>s+(kP.test(a)?TP:a===""?PP:LP),n)}function NP(i,e){return i.length===e.length&&i.slice(0,-1).every((n,s)=>n===e[s])?i[i.length-1]-e[e.length-1]:0}function DP(i,e,t=!1){let{routesMeta:n}=i,s={},a="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],f=c===n.length-1,g=a==="/"?e:e.slice(a.length)||"/",m=gg({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),y=h.route;if(!m&&f&&t&&!n[n.length-1].route.index&&(m=gg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:ws([a,m.pathname]),pathnameBase:HP(ws([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=ws([a,m.pathnameBase]))}return l}function gg(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=OP(i.path,i.caseSensitive,i.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((f,{paramName:g,isOptional:m},y)=>{if(g==="*"){let E=c[y]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const b=c[y];return m&&!b?f[g]=void 0:f[g]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:i}}function OP(i,e=!1,t=!0){ki(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function FP(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function To(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function jP(i,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof i=="string"?ou(i):i;return{pathname:t?t.startsWith("/")?t:BP(t,e):e,search:UP(n),hash:$P(s)}}function BP(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function cv(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zP(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function x_(i){let e=zP(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function S_(i,e,t,n=!1){let s;typeof i=="string"?s=ou(i):(s={...i},yt(!s.pathname||!s.pathname.includes("?"),cv("?","pathname","search",s)),yt(!s.pathname||!s.pathname.includes("#"),cv("#","pathname","hash",s)),yt(!s.search||!s.search.includes("#"),cv("#","search","hash",s)));let a=i===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}c=m>=0?e[m]:"/"}let h=jP(s,c),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var ws=i=>i.join("/").replace(/\/\/+/g,"/"),HP=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),UP=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,$P=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,VP=class{constructor(i,e){this.type="DataWithResponseInit",this.data=i,this.init=e||null}};function uv(i,e){return new VP(i,typeof e=="number"?{status:e}:e)}function WP(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var __=["POST","PUT","PATCH","DELETE"];new Set(__);var GP=["GET",...__];new Set(GP);var au=S.createContext(null);au.displayName="DataRouter";var Xg=S.createContext(null);Xg.displayName="DataRouterState";var A_=S.createContext({isTransitioning:!1});A_.displayName="ViewTransition";var qP=S.createContext(new Map);qP.displayName="Fetchers";var XP=S.createContext(null);XP.displayName="Await";var Ti=S.createContext(null);Ti.displayName="Navigation";var $h=S.createContext(null);$h.displayName="Location";var Ri=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var wb=S.createContext(null);wb.displayName="RouteError";function YP(i,{relative:e}={}){yt(Vh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=S.useContext(Ti),{hash:s,pathname:a,search:l}=Wh(i,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:ws([t,a])),n.createHref({pathname:c,search:l,hash:s})}function Vh(){return S.useContext($h)!=null}function Io(){return yt(Vh(),"useLocation() may be used only in the context of a <Router> component."),S.useContext($h).location}var C_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k_(i){S.useContext(Ti).static||S.useLayoutEffect(i)}function T_(){let{isDataRoute:i}=S.useContext(Ri);return i?cL():KP()}function KP(){yt(Vh(),"useNavigate() may be used only in the context of a <Router> component.");let i=S.useContext(au),{basename:e,navigator:t}=S.useContext(Ti),{matches:n}=S.useContext(Ri),{pathname:s}=Io(),a=JSON.stringify(x_(n)),l=S.useRef(!1);return k_(()=>{l.current=!0}),S.useCallback((h,f={})=>{if(ki(l.current,C_),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=S_(h,JSON.parse(a),s,f.relative==="path");i==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ws([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,a,s,i])}S.createContext(null);function QP(){let{matches:i}=S.useContext(Ri),e=i[i.length-1];return e?e.params:{}}function Wh(i,{relative:e}={}){let{matches:t}=S.useContext(Ri),{pathname:n}=Io(),s=JSON.stringify(x_(t));return S.useMemo(()=>S_(i,JSON.parse(s),n,e==="path"),[i,s,n,e])}function JP(i,e){return R_(i,e)}function R_(i,e,t,n){var P;yt(Vh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=S.useContext(Ti),{matches:l}=S.useContext(Ri),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",m=c&&c.route;{let L=m&&m.path||"";P_(f,!m||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let y=Io(),b;if(e){let L=typeof e=="string"?ou(e):e;yt(g==="/"||((P=L.pathname)==null?void 0:P.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=y;let E=b.pathname||"/",x=E;if(g!=="/"){let L=g.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(L.length).join("/")}let T=!a&&t&&t.matches&&t.matches.length>0?t.matches:w_(i,{pathname:x});ki(m||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ki(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=rL(T&&T.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:ws([g,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:ws([g,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,t,n);return e&&A?S.createElement($h.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function ZP(){let i=lL(),e=WP(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",i),l=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:s},t):null,l)}var eL=S.createElement(ZP,null),tL=class extends S.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?S.createElement(Ri.Provider,{value:this.props.routeContext},S.createElement(wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nL({routeContext:i,match:e,children:t}){let n=S.useContext(au);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Ri.Provider,{value:i},t)}function rL(i,e=[],t=null,n=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let s=i,a=t==null?void 0:t.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);yt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:g,errors:m}=t,y=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,g)=>{let m,y=!1,b=null,E=null;t&&(m=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||eL,l&&(c<0&&g===0?(P_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):c===g&&(y=!0,E=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),T=()=>{let A;return m?A=b:y?A=E:f.route.Component?A=S.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=h,S.createElement(nL,{match:f,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:A})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?S.createElement(tL,{location:t.location,revalidation:t.revalidation,component:b,error:m,children:T(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):T()},null)}function bb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iL(i){let e=S.useContext(au);return yt(e,bb(i)),e}function sL(i){let e=S.useContext(Xg);return yt(e,bb(i)),e}function oL(i){let e=S.useContext(Ri);return yt(e,bb(i)),e}function Eb(i){let e=oL(i),t=e.matches[e.matches.length-1];return yt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function aL(){return Eb("useRouteId")}function lL(){var n;let i=S.useContext(wb),e=sL("useRouteError"),t=Eb("useRouteError");return i!==void 0?i:(n=e.errors)==null?void 0:n[t]}function cL(){let{router:i}=iL("useNavigate"),e=Eb("useNavigate"),t=S.useRef(!1);return k_(()=>{t.current=!0}),S.useCallback(async(s,a={})=>{ki(t.current,C_),t.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:e,...a}))},[i,e])}var rS={};function P_(i,e,t){!e&&!rS[i]&&(rS[i]=!0,ki(!1,t))}S.memo(uL);function uL({routes:i,future:e,state:t}){return R_(i,void 0,t,e)}function Dv(i){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dL({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:a=!1}){yt(!Vh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=i.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof t=="string"&&(t=ou(t));let{pathname:h="/",search:f="",hash:g="",state:m=null,key:y="default"}=t,b=S.useMemo(()=>{let E=To(h,l);return E==null?null:{location:{pathname:E,search:f,hash:g,state:m,key:y},navigationType:n}},[l,h,f,g,m,y,n]);return ki(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(Ti.Provider,{value:c},S.createElement($h.Provider,{children:e,value:b}))}function hL({children:i,location:e}){return JP(Ov(i),e)}function Ov(i,e=[]){let t=[];return S.Children.forEach(i,(n,s)=>{if(!S.isValidElement(n))return;let a=[...e,s];if(n.type===S.Fragment){t.push.apply(t,Ov(n.props.children,a));return}yt(n.type===Dv,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Ov(n.props.children,a)),t.push(l)}),t}var Mp="get",Ip="application/x-www-form-urlencoded";function Yg(i){return i!=null&&typeof i.tagName=="string"}function fL(i){return Yg(i)&&i.tagName.toLowerCase()==="button"}function pL(i){return Yg(i)&&i.tagName.toLowerCase()==="form"}function gL(i){return Yg(i)&&i.tagName.toLowerCase()==="input"}function mL(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function yL(i,e){return i.button===0&&(!e||e==="_self")&&!mL(i)}var pp=null;function vL(){if(pp===null)try{new FormData(document.createElement("form"),0),pp=!1}catch{pp=!0}return pp}var wL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dv(i){return i!=null&&!wL.has(i)?(ki(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ip}"`),null):i}function bL(i,e){let t,n,s,a,l;if(pL(i)){let c=i.getAttribute("action");n=c?To(c,e):null,t=i.getAttribute("method")||Mp,s=dv(i.getAttribute("enctype"))||Ip,a=new FormData(i)}else if(fL(i)||gL(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||c.getAttribute("action");if(n=h?To(h,e):null,t=i.getAttribute("formmethod")||c.getAttribute("method")||Mp,s=dv(i.getAttribute("formenctype"))||dv(c.getAttribute("enctype"))||Ip,a=new FormData(c,i),!vL()){let{name:f,type:g,value:m}=i;if(g==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,m)}}else{if(Yg(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mp,n=null,s=Ip,l=i}return a&&s==="text/plain"&&(l=a,a=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:a,body:l}}function xb(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function EL(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xL(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function SL(i,e,t){let n=await Promise.all(i.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await EL(a,t);return l.links?l.links():[]}return[]}));return kL(n.flat(1).filter(xL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function iS(i,e,t,n,s,a){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>{var g;return t[f].pathname!==h.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?e.filter((h,f)=>{var m;let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function _L(i,e){return AL(i.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let s=[n.module];return n.imports&&(s=s.concat(n.imports)),s}).flat(1))}function AL(i){return[...new Set(i)]}function CL(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function kL(i,e){let t=new Set;return new Set(e),i.reduce((n,s)=>{let a=JSON.stringify(CL(s));return t.has(a)||(t.add(a),n.push({key:a,link:s})),n},[])}function TL(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function RL(){let i=S.useContext(au);return xb(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function PL(){let i=S.useContext(Xg);return xb(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Sb=S.createContext(void 0);Sb.displayName="FrameworkContext";function L_(){let i=S.useContext(Sb);return xb(i,"You must render this element inside a <HydratedRouter> element"),i}function LL(i,e){let t=S.useContext(Sb),[n,s]=S.useState(!1),[a,l]=S.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:m}=e,y=S.useRef(null);S.useEffect(()=>{if(i==="render"&&l(!0),i==="viewport"){let x=A=>{A.forEach(P=>{l(P.isIntersecting)})},T=new IntersectionObserver(x,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[i]),S.useEffect(()=>{if(n){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[n]);let b=()=>{s(!0)},E=()=>{s(!1),l(!1)};return t?i!=="intent"?[a,y,{}]:[a,y,{onFocus:ed(c,b),onBlur:ed(h,E),onMouseEnter:ed(f,b),onMouseLeave:ed(g,E),onTouchStart:ed(m,b)}]:[!1,y,{}]}function ed(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function ML({page:i,...e}){let{router:t}=RL(),n=S.useMemo(()=>w_(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?S.createElement(NL,{page:i,matches:n,...e}):null}function IL(i){let{manifest:e,routeModules:t}=L_(),[n,s]=S.useState([]);return S.useEffect(()=>{let a=!1;return SL(i,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[i,e,t]),n}function NL({page:i,matches:e,...t}){let n=Io(),{manifest:s,routeModules:a}=L_(),{loaderData:l,matches:c}=PL(),h=S.useMemo(()=>iS(i,e,c,s,n,"data"),[i,e,c,s,n]),f=S.useMemo(()=>iS(i,e,c,s,n,"assets"),[i,e,c,s,n]),g=S.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let b=new Set,E=!1;if(e.forEach(T=>{var P;let A=s.routes[T.route.id];!A||!A.hasLoader||(!h.some(L=>L.route.id===T.route.id)&&T.route.id in l&&((P=a[T.route.id])!=null&&P.shouldRevalidate)||A.hasClientLoader?E=!0:b.add(T.route.id))}),b.size===0)return[];let x=TL(i);return E&&b.size>0&&x.searchParams.set("_routes",e.filter(T=>b.has(T.route.id)).map(T=>T.route.id).join(",")),[x.pathname+x.search]},[l,n,s,h,e,i,a]),m=S.useMemo(()=>_L(f,s),[f,s]),y=IL(f);return S.createElement(S.Fragment,null,g.map(b=>S.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),m.map(b=>S.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),y.map(({key:b,link:E})=>S.createElement("link",{key:b,...E})))}function DL(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var M_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M_&&(window.__reactRouterVersion="7.1.5")}catch{}function OL({basename:i,children:e,window:t}){let n=S.useRef();n.current==null&&(n.current=xP({window:t,v5Compat:!0}));let s=n.current,[a,l]=S.useState({action:s.action,location:s.location}),c=S.useCallback(h=>{S.startTransition(()=>l(h))},[l]);return S.useLayoutEffect(()=>s.listen(c),[s,c]),S.createElement(dL,{basename:i,children:e,location:a.location,navigationType:a.action,navigator:s})}var I_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N_=S.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:g,viewTransition:m,...y},b){let{basename:E}=S.useContext(Ti),x=typeof f=="string"&&I_.test(f),T,A=!1;if(typeof f=="string"&&x&&(T=f,M_))try{let q=new URL(window.location.href),X=f.startsWith("//")?new URL(q.protocol+f):new URL(f),Z=To(X.pathname,E);X.origin===q.origin&&Z!=null?f=Z+X.search+X.hash:A=!0}catch{ki(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=YP(f,{relative:s}),[L,I,O]=LL(n,y),N=zL(f,{replace:l,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:m});function z(q){e&&e(q),q.defaultPrevented||N(q)}let V=S.createElement("a",{...y,...O,href:T||P,onClick:A||a?e:z,ref:DL(b,I),target:h,"data-discover":!x&&t==="render"?"true":void 0});return L&&!x?S.createElement(S.Fragment,null,V,S.createElement(ML,{page:P})):V});N_.displayName="Link";var FL=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...f},g){let m=Wh(l,{relative:f.relative}),y=Io(),b=S.useContext(Xg),{navigator:E,basename:x}=S.useContext(Ti),T=b!=null&&WL(m)&&c===!0,A=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,P=y.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(P=P.toLowerCase(),L=L?L.toLowerCase():null,A=A.toLowerCase()),L&&x&&(L=To(L,x)||L);const I=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let O=P===A||!s&&P.startsWith(A)&&P.charAt(I)==="/",N=L!=null&&(L===A||!s&&L.startsWith(A)&&L.charAt(A.length)==="/"),z={isActive:O,isPending:N,isTransitioning:T},V=O?e:void 0,q;typeof n=="function"?q=n(z):q=[n,O?"active":null,N?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let X=typeof a=="function"?a(z):a;return S.createElement(N_,{...f,"aria-current":V,className:q,ref:g,style:X,to:l,viewTransition:c},typeof h=="function"?h(z):h)});FL.displayName="NavLink";var jL=S.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:a,method:l=Mp,action:c,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:m,...y},b)=>{let E=$L(),x=VL(c,{relative:f}),T=l.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&I_.test(c),P=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let I=L.nativeEvent.submitter,O=(I==null?void 0:I.getAttribute("formmethod"))||l;E(I||L.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:s,state:a,relative:f,preventScrollReset:g,viewTransition:m})};return S.createElement("form",{ref:b,method:T,action:x,onSubmit:n?h:P,...y,"data-discover":!A&&i==="render"?"true":void 0})});jL.displayName="Form";function BL(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D_(i){let e=S.useContext(au);return yt(e,BL(i)),e}function zL(i,{target:e,replace:t,state:n,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=T_(),h=Io(),f=Wh(i,{relative:a});return S.useCallback(g=>{if(yL(g,e)){g.preventDefault();let m=t!==void 0?t:Ad(h)===Ad(f);c(i,{replace:m,state:n,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,f,t,n,e,i,s,a,l])}var HL=0,UL=()=>`__${String(++HL)}__`;function $L(){let{router:i}=D_("useSubmit"),{basename:e}=S.useContext(Ti),t=aL();return S.useCallback(async(n,s={})=>{let{action:a,method:l,encType:c,formData:h,body:f}=bL(n,e);if(s.navigate===!1){let g=s.fetcherKey||UL();await i.fetch(g,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await i.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,e,t])}function VL(i,{relative:e}={}){let{basename:t}=S.useContext(Ti),n=S.useContext(Ri);yt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...Wh(i||".",{relative:e})},l=Io();if(i==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(m=>m).forEach(m=>c.append("index",m));let g=c.toString();a.search=g?`?${g}`:""}}return(!i||i===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ws([t,a.pathname])),Ad(a)}function WL(i,e={}){let t=S.useContext(A_);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=D_("useViewTransitionState"),s=Wh(i,{relative:e.relative});if(!t.isTransitioning)return!1;let a=To(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=To(t.nextLocation.pathname,n)||t.nextLocation.pathname;return gg(s.pathname,l)!=null||gg(s.pathname,a)!=null}new TextEncoder;var O_=s_();const GL=hb(O_);function F_(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(e=0;e<s;e++)i[e]&&(t=F_(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function lu(){for(var i,e,t=0,n="",s=arguments.length;t<s;t++)(i=arguments[t])&&(e=F_(i))&&(n&&(n+=" "),n+=e);return n}const _b="-",qL=i=>{const e=YL(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:l=>{const c=l.split(_b);return c[0]===""&&c.length!==1&&c.shift(),j_(c,e)||XL(l)},getConflictingClassGroupIds:(l,c)=>{const h=t[l]||[];return c&&n[l]?[...h,...n[l]]:h}}},j_=(i,e)=>{var l;if(i.length===0)return e.classGroupId;const t=i[0],n=e.nextPart.get(t),s=n?j_(i.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=i.join(_b);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},sS=/^\[(.+)\]$/,XL=i=>{if(sS.test(i)){const e=sS.exec(i)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},YL=i=>{const{theme:e,classGroups:t}=i,n={nextPart:new Map,validators:[]};for(const s in t)Fv(t[s],n,s,e);return n},Fv=(i,e,t,n)=>{i.forEach(s=>{if(typeof s=="string"){const a=s===""?e:oS(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(KL(s)){Fv(s(n),e,t,n);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,l])=>{Fv(l,oS(e,a),t,n)})})},oS=(i,e)=>{let t=i;return e.split(_b).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},KL=i=>i.isThemeGetter,QL=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const s=(a,l)=>{t.set(a,l),e++,e>i&&(e=0,n=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return s(a,l),l},set(a,l){t.has(a)?t.set(a,l):s(a,l)}}},jv="!",Bv=":",JL=Bv.length,ZL=i=>{const{prefix:e,experimentalParseClassName:t}=i;let n=s=>{const a=[];let l=0,c=0,h=0,f;for(let E=0;E<s.length;E++){let x=s[E];if(l===0&&c===0){if(x===Bv){a.push(s.slice(h,E)),h=E+JL;continue}if(x==="/"){f=E;continue}}x==="["?l++:x==="]"?l--:x==="("?c++:x===")"&&c--}const g=a.length===0?s:s.substring(h),m=eM(g),y=m!==g,b=f&&f>h?f-h:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:m,maybePostfixModifierPosition:b}};if(e){const s=e+Bv,a=n;n=l=>l.startsWith(s)?a(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const s=n;n=a=>t({className:a,parseClassName:s})}return n},eM=i=>i.endsWith(jv)?i.substring(0,i.length-1):i.startsWith(jv)?i.substring(1):i,tM=i=>{const e=Object.fromEntries(i.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let a=[];return n.forEach(l=>{l[0]==="["||e[l]?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s}},nM=i=>({cache:QL(i.cacheSize),parseClassName:ZL(i),sortModifiers:tM(i),...qL(i)}),rM=/\s+/,iM=(i,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],c=i.trim().split(rM);let h="";for(let f=c.length-1;f>=0;f-=1){const g=c[f],{isExternal:m,modifiers:y,hasImportantModifier:b,baseClassName:E,maybePostfixModifierPosition:x}=t(g);if(m){h=g+(h.length>0?" "+h:h);continue}let T=!!x,A=n(T?E.substring(0,x):E);if(!A){if(!T){h=g+(h.length>0?" "+h:h);continue}if(A=n(E),!A){h=g+(h.length>0?" "+h:h);continue}T=!1}const P=a(y).join(":"),L=b?P+jv:P,I=L+A;if(l.includes(I))continue;l.push(I);const O=s(A,T);for(let N=0;N<O.length;++N){const z=O[N];l.push(L+z)}h=g+(h.length>0?" "+h:h)}return h};function sM(){let i=0,e,t,n="";for(;i<arguments.length;)(e=arguments[i++])&&(t=B_(e))&&(n&&(n+=" "),n+=t);return n}const B_=i=>{if(typeof i=="string")return i;let e,t="";for(let n=0;n<i.length;n++)i[n]&&(e=B_(i[n]))&&(t&&(t+=" "),t+=e);return t};function oM(i,...e){let t,n,s,a=l;function l(h){const f=e.reduce((g,m)=>m(g),i());return t=nM(f),n=t.cache.get,s=t.cache.set,a=c,c(h)}function c(h){const f=n(h);if(f)return f;const g=iM(h,t);return s(h,g),g}return function(){return a(sM.apply(null,arguments))}}const Wt=i=>{const e=t=>t[i]||[];return e.isThemeGetter=!0,e},z_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,H_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,aM=/^\d+\/\d+$/,lM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zl=i=>aM.test(i),He=i=>!!i&&!Number.isNaN(Number(i)),Jo=i=>!!i&&Number.isInteger(Number(i)),aS=i=>i.endsWith("%")&&He(i.slice(0,-1)),qs=i=>lM.test(i),fM=()=>!0,pM=i=>cM.test(i)&&!uM.test(i),Ab=()=>!1,gM=i=>dM.test(i),mM=i=>hM.test(i),yM=i=>!fe(i)&&!pe(i),vM=i=>cu(i,V_,Ab),fe=i=>z_.test(i),Zo=i=>cu(i,W_,pM),hv=i=>cu(i,RM,He),wM=i=>cu(i,U_,Ab),bM=i=>cu(i,$_,mM),EM=i=>cu(i,Ab,gM),pe=i=>H_.test(i),gp=i=>uu(i,W_),xM=i=>uu(i,PM),SM=i=>uu(i,U_),_M=i=>uu(i,V_),AM=i=>uu(i,$_),CM=i=>uu(i,LM,!0),cu=(i,e,t)=>{const n=z_.exec(i);return n?n[1]?e(n[1]):t(n[2]):!1},uu=(i,e,t=!1)=>{const n=H_.exec(i);return n?n[1]?e(n[1]):t:!1},U_=i=>i==="position",kM=new Set(["image","url"]),$_=i=>kM.has(i),TM=new Set(["length","size","percentage"]),V_=i=>TM.has(i),W_=i=>i==="length",RM=i=>i==="number",PM=i=>i==="family-name",LM=i=>i==="shadow",MM=()=>{const i=Wt("color"),e=Wt("font"),t=Wt("text"),n=Wt("font-weight"),s=Wt("tracking"),a=Wt("leading"),l=Wt("breakpoint"),c=Wt("container"),h=Wt("spacing"),f=Wt("radius"),g=Wt("shadow"),m=Wt("inset-shadow"),y=Wt("drop-shadow"),b=Wt("blur"),E=Wt("perspective"),x=Wt("aspect"),T=Wt("ease"),A=Wt("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],N=()=>[pe,fe,h],z=()=>[zl,"full","auto",...N()],V=()=>[Jo,"none","subgrid",pe,fe],q=()=>["auto",{span:["full",Jo,pe,fe]},pe,fe],X=()=>[Jo,"auto",pe,fe],Z=()=>["auto","min","max","fr",pe,fe],xe=()=>["start","end","center","between","around","evenly","stretch","baseline"],ce=()=>["start","end","center","stretch"],oe=()=>["auto",...N()],ge=()=>[zl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],J=()=>[i,pe,fe],ee=()=>[aS,Zo],W=()=>["","none","full",f,pe,fe],re=()=>["",He,gp,Zo],ne=()=>["solid","dashed","dotted","double"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["","none",b,pe,fe],ue=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe,fe],Ee=()=>["none",He,pe,fe],ke=()=>["none",He,pe,fe],we=()=>[He,pe,fe],me=()=>[zl,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qs],breakpoint:[qs],color:[fM],container:[qs],"drop-shadow":[qs],ease:["in","out","in-out"],font:[yM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qs],shadow:[qs],spacing:["px",He],text:[qs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zl,fe,pe,x]}],container:["container"],columns:[{columns:[He,fe,pe,c]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),fe,pe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Jo,"auto",pe,fe]}],basis:[{basis:[zl,"full","auto",c,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,zl,"auto","initial","none",fe]}],grow:[{grow:["",He,pe,fe]}],shrink:[{shrink:["",He,pe,fe]}],order:[{order:[Jo,"first","last","none",pe,fe]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...ce(),"baseline"]}],"align-self":[{self:["auto",...ce(),"baseline"]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:ge()}],w:[{w:[c,"screen",...ge()]}],"min-w":[{"min-w":[c,"screen","none",...ge()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ge()]}],h:[{h:["screen",...ge()]}],"min-h":[{"min-h":["screen","none",...ge()]}],"max-h":[{"max-h":["screen",...ge()]}],"font-size":[{text:["base",t,gp,Zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,pe,hv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",aS,fe]}],"font-family":[{font:[xM,fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,pe,fe]}],"line-clamp":[{"line-clamp":[He,"none",pe,hv]}],leading:[{leading:[a,...N()]}],"list-image":[{"list-image":["none",pe,fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",pe,Zo]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[He,"auto",pe,fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),SM,wM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",_M,vM]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jo,pe,fe],radial:["",pe,fe],conic:[Jo,pe,fe]},AM,bM]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,pe,fe]}],"outline-w":[{outline:["",He,gp,Zo]}],"outline-color":[{outline:[i]}],shadow:[{shadow:["","none",g,CM,EM]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",pe,fe,m]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[He,Zo]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":J()}],opacity:[{opacity:[He,pe,fe]}],"mix-blend":[{"mix-blend":[...B(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none",pe,fe]}],blur:[{blur:G()}],brightness:[{brightness:[He,pe,fe]}],contrast:[{contrast:[He,pe,fe]}],"drop-shadow":[{"drop-shadow":["","none",y,pe,fe]}],grayscale:[{grayscale:["",He,pe,fe]}],"hue-rotate":[{"hue-rotate":[He,pe,fe]}],invert:[{invert:["",He,pe,fe]}],saturate:[{saturate:[He,pe,fe]}],sepia:[{sepia:["",He,pe,fe]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,fe]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[He,pe,fe]}],"backdrop-contrast":[{"backdrop-contrast":[He,pe,fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,pe,fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,pe,fe]}],"backdrop-invert":[{"backdrop-invert":["",He,pe,fe]}],"backdrop-opacity":[{"backdrop-opacity":[He,pe,fe]}],"backdrop-saturate":[{"backdrop-saturate":[He,pe,fe]}],"backdrop-sepia":[{"backdrop-sepia":["",He,pe,fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",pe,fe]}],ease:[{ease:["linear","initial",T,pe,fe]}],delay:[{delay:[He,pe,fe]}],animate:[{animate:["none",A,pe,fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,pe,fe]}],"perspective-origin":[{"perspective-origin":ue()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:ke()}],"scale-x":[{"scale-x":ke()}],"scale-y":[{"scale-y":ke()}],"scale-z":[{"scale-z":ke()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[pe,fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:ue()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:me()}],"translate-x":[{"translate-x":me()}],"translate-y":[{"translate-y":me()}],"translate-z":[{"translate-z":me()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,fe]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[He,gp,Zo,hv]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},IM=oM(MM);function Pi(...i){return IM(lu(i))}function Np({className:i,type:e,...t}){return D.jsx("input",{type:e,"data-slot":"input",className:Pi("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...t})}function lS(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function G_(...i){return e=>{let t=!1;const n=i.map(s=>{const a=lS(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():lS(i[s],null)}}}}function wn(...i){return S.useCallback(G_(...i),i)}var nu=S.forwardRef((i,e)=>{const{children:t,...n}=i,s=S.Children.toArray(t),a=s.find(DM);if(a){const l=a.props.children,c=s.map(h=>h===a?S.Children.count(l)>1?S.Children.only(null):S.isValidElement(l)?l.props.children:null:h);return D.jsx(zv,{...n,ref:e,children:S.isValidElement(l)?S.cloneElement(l,void 0,c):null})}return D.jsx(zv,{...n,ref:e,children:t})});nu.displayName="Slot";var zv=S.forwardRef((i,e)=>{const{children:t,...n}=i;if(S.isValidElement(t)){const s=FM(t),a=OM(n,t.props);return t.type!==S.Fragment&&(a.ref=e?G_(e,s):s),S.cloneElement(t,a)}return S.Children.count(t)>1?S.Children.only(null):null});zv.displayName="SlotClone";var NM=({children:i})=>D.jsx(D.Fragment,{children:i});function DM(i){return S.isValidElement(i)&&i.type===NM}function OM(i,e){const t={...e};for(const n in e){const s=i[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?t[n]=(...c)=>{a(...c),s(...c)}:s&&(t[n]=s):n==="style"?t[n]={...s,...a}:n==="className"&&(t[n]=[s,a].filter(Boolean).join(" "))}return{...i,...t}}function FM(i){var n,s;let e=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}const cS=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,uS=lu,q_=(i,e)=>t=>{var n;if((e==null?void 0:e.variants)==null)return uS(i,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(f=>{const g=t==null?void 0:t[f],m=a==null?void 0:a[f];if(g===null)return null;const y=cS(g)||cS(m);return s[f][y]}),c=t&&Object.entries(t).reduce((f,g)=>{let[m,y]=g;return y===void 0||(f[m]=y),f},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,g)=>{let{class:m,className:y,...b}=g;return Object.entries(b).every(E=>{let[x,T]=E;return Array.isArray(T)?T.includes({...a,...c}[x]):{...a,...c}[x]===T})?[...f,m,y]:f},[]);return uS(i,l,h,t==null?void 0:t.class,t==null?void 0:t.className)},jM=q_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function wr({className:i,variant:e,size:t,asChild:n=!1,...s}){const a=n?nu:"button";return D.jsx(a,{"data-slot":"button",className:Pi(jM({variant:e,size:t,className:i})),...s})}function Cb({className:i,...e}){return D.jsx("div",{"data-slot":"card",className:Pi("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...e})}function BM({className:i,...e}){return D.jsx("div",{"data-slot":"card-content",className:Pi("px-6",i),...e})}function Et(i,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(i==null||i(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function zM(i,e){const t=S.createContext(e),n=a=>{const{children:l,...c}=a,h=S.useMemo(()=>c,Object.values(c));return D.jsx(t.Provider,{value:h,children:l})};n.displayName=i+"Provider";function s(a){const l=S.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${i}\``)}return[n,s]}function Gh(i,e=[]){let t=[];function n(a,l){const c=S.createContext(l),h=t.length;t=[...t,l];const f=m=>{var A;const{scope:y,children:b,...E}=m,x=((A=y==null?void 0:y[i])==null?void 0:A[h])||c,T=S.useMemo(()=>E,Object.values(E));return D.jsx(x.Provider,{value:T,children:b})};f.displayName=a+"Provider";function g(m,y){var x;const b=((x=y==null?void 0:y[i])==null?void 0:x[h])||c,E=S.useContext(b);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[f,g]}const s=()=>{const a=t.map(l=>S.createContext(l));return function(c){const h=(c==null?void 0:c[i])||a;return S.useMemo(()=>({[`__scope${i}`]:{...c,[i]:h}}),[c,h])}};return s.scopeName=i,[n,HM(s,...e)]}function HM(...i){const e=i[0];if(i.length===1)return e;const t=()=>{const n=i.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=n.reduce((c,{useScope:h,scopeName:f})=>{const m=h(a)[`__scope${f}`];return{...c,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var Cd=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},UM=bP.useId||(()=>{}),$M=0;function Dp(i){const[e,t]=S.useState(UM());return Cd(()=>{t(n=>n??String($M++))},[i]),i||(e?`radix-${e}`:"")}function kn(i){const e=S.useRef(i);return S.useEffect(()=>{e.current=i}),S.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function qh({prop:i,defaultProp:e,onChange:t=()=>{}}){const[n,s]=VM({defaultProp:e,onChange:t}),a=i!==void 0,l=a?i:n,c=kn(t),h=S.useCallback(f=>{if(a){const m=typeof f=="function"?f(i):f;m!==i&&c(m)}else s(f)},[a,i,s,c]);return[l,h]}function VM({defaultProp:i,onChange:e}){const t=S.useState(i),[n]=t,s=S.useRef(n),a=kn(e);return S.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),t}var WM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ht=WM.reduce((i,e)=>{const t=S.forwardRef((n,s)=>{const{asChild:a,...l}=n,c=a?nu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),D.jsx(c,{...l,ref:s})});return t.displayName=`Primitive.${e}`,{...i,[e]:t}},{});function GM(i,e){i&&O_.flushSync(()=>i.dispatchEvent(e))}function qM(i,e=globalThis==null?void 0:globalThis.document){const t=kn(i);S.useEffect(()=>{const n=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var XM="DismissableLayer",Hv="dismissableLayer.update",YM="dismissableLayer.pointerDownOutside",KM="dismissableLayer.focusOutside",dS,X_=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Y_=S.forwardRef((i,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...h}=i,f=S.useContext(X_),[g,m]=S.useState(null),y=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=S.useState({}),E=wn(e,z=>m(z)),x=Array.from(f.layers),[T]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),A=x.indexOf(T),P=g?x.indexOf(g):-1,L=f.layersWithOutsidePointerEventsDisabled.size>0,I=P>=A,O=ZM(z=>{const V=z.target,q=[...f.branches].some(X=>X.contains(V));!I||q||(s==null||s(z),l==null||l(z),z.defaultPrevented||c==null||c())},y),N=eI(z=>{const V=z.target;[...f.branches].some(X=>X.contains(V))||(a==null||a(z),l==null||l(z),z.defaultPrevented||c==null||c())},y);return qM(z=>{P===f.layers.size-1&&(n==null||n(z),!z.defaultPrevented&&c&&(z.preventDefault(),c()))},y),S.useEffect(()=>{if(g)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(dS=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),hS(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=dS)}},[g,y,t,f]),S.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),hS())},[g,f]),S.useEffect(()=>{const z=()=>b({});return document.addEventListener(Hv,z),()=>document.removeEventListener(Hv,z)},[]),D.jsx(Ht.div,{...h,ref:E,style:{pointerEvents:L?I?"auto":"none":void 0,...i.style},onFocusCapture:Et(i.onFocusCapture,N.onFocusCapture),onBlurCapture:Et(i.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Et(i.onPointerDownCapture,O.onPointerDownCapture)})});Y_.displayName=XM;var QM="DismissableLayerBranch",JM=S.forwardRef((i,e)=>{const t=S.useContext(X_),n=S.useRef(null),s=wn(e,n);return S.useEffect(()=>{const a=n.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),D.jsx(Ht.div,{...i,ref:s})});JM.displayName=QM;function ZM(i,e=globalThis==null?void 0:globalThis.document){const t=kn(i),n=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let h=function(){K_(YM,t,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function eI(i,e=globalThis==null?void 0:globalThis.document){const t=kn(i),n=S.useRef(!1);return S.useEffect(()=>{const s=a=>{a.target&&!n.current&&K_(KM,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function hS(){const i=new CustomEvent(Hv);document.dispatchEvent(i)}function K_(i,e,t,{discrete:n}){const s=t.originalEvent.target,a=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(i,e,{once:!0}),n?GM(s,a):s.dispatchEvent(a)}var fv="focusScope.autoFocusOnMount",pv="focusScope.autoFocusOnUnmount",fS={bubbles:!1,cancelable:!0},tI="FocusScope",Q_=S.forwardRef((i,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=i,[c,h]=S.useState(null),f=kn(s),g=kn(a),m=S.useRef(null),y=wn(e,x=>h(x)),b=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let x=function(L){if(b.paused||!c)return;const I=L.target;c.contains(I)?m.current=I:Xs(m.current,{select:!0})},T=function(L){if(b.paused||!c)return;const I=L.relatedTarget;I!==null&&(c.contains(I)||Xs(m.current,{select:!0}))},A=function(L){if(document.activeElement===document.body)for(const O of L)O.removedNodes.length>0&&Xs(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",T);const P=new MutationObserver(A);return c&&P.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",T),P.disconnect()}}},[n,c,b.paused]),S.useEffect(()=>{if(c){gS.add(b);const x=document.activeElement;if(!c.contains(x)){const A=new CustomEvent(fv,fS);c.addEventListener(fv,f),c.dispatchEvent(A),A.defaultPrevented||(nI(aI(J_(c)),{select:!0}),document.activeElement===x&&Xs(c))}return()=>{c.removeEventListener(fv,f),setTimeout(()=>{const A=new CustomEvent(pv,fS);c.addEventListener(pv,g),c.dispatchEvent(A),A.defaultPrevented||Xs(x??document.body,{select:!0}),c.removeEventListener(pv,g),gS.remove(b)},0)}}},[c,f,g,b]);const E=S.useCallback(x=>{if(!t&&!n||b.paused)return;const T=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,A=document.activeElement;if(T&&A){const P=x.currentTarget,[L,I]=rI(P);L&&I?!x.shiftKey&&A===I?(x.preventDefault(),t&&Xs(L,{select:!0})):x.shiftKey&&A===L&&(x.preventDefault(),t&&Xs(I,{select:!0})):A===P&&x.preventDefault()}},[t,n,b.paused]);return D.jsx(Ht.div,{tabIndex:-1,...l,ref:y,onKeyDown:E})});Q_.displayName=tI;function nI(i,{select:e=!1}={}){const t=document.activeElement;for(const n of i)if(Xs(n,{select:e}),document.activeElement!==t)return}function rI(i){const e=J_(i),t=pS(e,i),n=pS(e.reverse(),i);return[t,n]}function J_(i){const e=[],t=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function pS(i,e){for(const t of i)if(!iI(t,{upTo:e}))return t}function iI(i,{upTo:e}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(e!==void 0&&i===e)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function sI(i){return i instanceof HTMLInputElement&&"select"in i}function Xs(i,{select:e=!1}={}){if(i&&i.focus){const t=document.activeElement;i.focus({preventScroll:!0}),i!==t&&sI(i)&&e&&i.select()}}var gS=oI();function oI(){let i=[];return{add(e){const t=i[0];e!==t&&(t==null||t.pause()),i=mS(i,e),i.unshift(e)},remove(e){var t;i=mS(i,e),(t=i[0])==null||t.resume()}}}function mS(i,e){const t=[...i],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function aI(i){return i.filter(e=>e.tagName!=="A")}var lI="Portal",Z_=S.forwardRef((i,e)=>{var c;const{container:t,...n}=i,[s,a]=S.useState(!1);Cd(()=>a(!0),[]);const l=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?GL.createPortal(D.jsx(Ht.div,{...n,ref:e}),l):null});Z_.displayName=lI;function cI(i,e){return S.useReducer((t,n)=>e[t][n]??t,i)}var No=i=>{const{present:e,children:t}=i,n=uI(e),s=typeof t=="function"?t({present:n.isPresent}):S.Children.only(t),a=wn(n.ref,dI(s));return typeof t=="function"||n.isPresent?S.cloneElement(s,{ref:a}):null};No.displayName="Presence";function uI(i){const[e,t]=S.useState(),n=S.useRef({}),s=S.useRef(i),a=S.useRef("none"),l=i?"mounted":"unmounted",[c,h]=cI(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=mp(n.current);a.current=c==="mounted"?f:"none"},[c]),Cd(()=>{const f=n.current,g=s.current;if(g!==i){const y=a.current,b=mp(f);i?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(g&&y!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=i}},[i,h]),Cd(()=>{if(e){let f;const g=e.ownerDocument.defaultView??window,m=b=>{const x=mp(n.current).includes(b.animationName);if(b.target===e&&x&&(h("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",f=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},y=b=>{b.target===e&&(a.current=mp(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(f),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:S.useCallback(f=>{f&&(n.current=getComputedStyle(f)),t(f)},[])}}function mp(i){return(i==null?void 0:i.animationName)||"none"}function dI(i){var n,s;let e=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var gv=0;function hI(){S.useEffect(()=>{const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??yS()),document.body.insertAdjacentElement("beforeend",i[1]??yS()),gv++,()=>{gv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gv--}},[])}function yS(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var _i=function(){return _i=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_i.apply(this,arguments)};function eA(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(t[n[s]]=i[n[s]]);return t}function fI(i,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return i.concat(a||Array.prototype.slice.call(e))}var Op="right-scroll-bar-position",Fp="width-before-scroll-bar",pI="with-scroll-bars-hidden",gI="--removed-body-scroll-bar-size";function mv(i,e){return typeof i=="function"?i(e):i&&(i.current=e),i}function mI(i,e){var t=S.useState(function(){return{value:i,callback:e,facade:{get current(){return t.value},set current(n){var s=t.value;s!==n&&(t.value=n,t.callback(n,s))}}}})[0];return t.callback=e,t.facade}var yI=typeof window<"u"?S.useLayoutEffect:S.useEffect,vS=new WeakMap;function vI(i,e){var t=mI(null,function(n){return i.forEach(function(s){return mv(s,n)})});return yI(function(){var n=vS.get(t);if(n){var s=new Set(n),a=new Set(i),l=t.current;s.forEach(function(c){a.has(c)||mv(c,null)}),a.forEach(function(c){s.has(c)||mv(c,l)})}vS.set(t,i)},[i]),t}function wI(i){return i}function bI(i,e){e===void 0&&(e=wI);var t=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:i},useMedium:function(a){var l=e(a,n);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(n=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){n=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(a),l=t}var h=function(){var g=l;l=[],g.forEach(a)},f=function(){return Promise.resolve().then(h)};f(),t={push:function(g){l.push(g),f()},filter:function(g){return l=l.filter(g),t}}}};return s}function EI(i){i===void 0&&(i={});var e=bI(null);return e.options=_i({async:!0,ssr:!1},i),e}var tA=function(i){var e=i.sideCar,t=eA(i,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,_i({},t))};tA.isSideCarExport=!0;function xI(i,e){return i.useMedium(e),tA}var nA=EI(),yv=function(){},Kg=S.forwardRef(function(i,e){var t=S.useRef(null),n=S.useState({onScrollCapture:yv,onWheelCapture:yv,onTouchMoveCapture:yv}),s=n[0],a=n[1],l=i.forwardProps,c=i.children,h=i.className,f=i.removeScrollBar,g=i.enabled,m=i.shards,y=i.sideCar,b=i.noIsolation,E=i.inert,x=i.allowPinchZoom,T=i.as,A=T===void 0?"div":T,P=i.gapMode,L=eA(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=y,O=vI([t,e]),N=_i(_i({},L),s);return S.createElement(S.Fragment,null,g&&S.createElement(I,{sideCar:nA,removeScrollBar:f,shards:m,noIsolation:b,inert:E,setCallbacks:a,allowPinchZoom:!!x,lockRef:t,gapMode:P}),l?S.cloneElement(S.Children.only(c),_i(_i({},N),{ref:O})):S.createElement(A,_i({},N,{className:h,ref:O}),c))});Kg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kg.classNames={fullWidth:Fp,zeroRight:Op};var SI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _I(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var e=SI();return e&&i.setAttribute("nonce",e),i}function AI(i,e){i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}function CI(i){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(i)}var kI=function(){var i=0,e=null;return{add:function(t){i==0&&(e=_I())&&(AI(e,t),CI(e)),i++},remove:function(){i--,!i&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TI=function(){var i=kI();return function(e,t){S.useEffect(function(){return i.add(e),function(){i.remove()}},[e&&t])}},rA=function(){var i=TI(),e=function(t){var n=t.styles,s=t.dynamic;return i(n,s),null};return e},RI={left:0,top:0,right:0,gap:0},vv=function(i){return parseInt(i||"",10)||0},PI=function(i){var e=window.getComputedStyle(document.body),t=e[i==="padding"?"paddingLeft":"marginLeft"],n=e[i==="padding"?"paddingTop":"marginTop"],s=e[i==="padding"?"paddingRight":"marginRight"];return[vv(t),vv(n),vv(s)]},LI=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return RI;var e=PI(i),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},MI=rA(),Zl="data-scroll-locked",II=function(i,e,t,n){var s=i.left,a=i.top,l=i.right,c=i.gap;return t===void 0&&(t="margin"),`
  .`.concat(pI,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Zl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Op,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Fp,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Op," .").concat(Op,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fp," .").concat(Fp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zl,`] {
    `).concat(gI,": ").concat(c,`px;
  }
`)},wS=function(){var i=parseInt(document.body.getAttribute(Zl)||"0",10);return isFinite(i)?i:0},NI=function(){S.useEffect(function(){return document.body.setAttribute(Zl,(wS()+1).toString()),function(){var i=wS()-1;i<=0?document.body.removeAttribute(Zl):document.body.setAttribute(Zl,i.toString())}},[])},DI=function(i){var e=i.noRelative,t=i.noImportant,n=i.gapMode,s=n===void 0?"margin":n;NI();var a=S.useMemo(function(){return LI(s)},[s]);return S.createElement(MI,{styles:II(a,!e,s,t?"":"!important")})},Uv=!1;if(typeof window<"u")try{var yp=Object.defineProperty({},"passive",{get:function(){return Uv=!0,!0}});window.addEventListener("test",yp,yp),window.removeEventListener("test",yp,yp)}catch{Uv=!1}var Hl=Uv?{passive:!1}:!1,OI=function(i){return i.tagName==="TEXTAREA"},iA=function(i,e){if(!(i instanceof Element))return!1;var t=window.getComputedStyle(i);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!OI(i)&&t[e]==="visible")},FI=function(i){return iA(i,"overflowY")},jI=function(i){return iA(i,"overflowX")},bS=function(i,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=sA(i,n);if(s){var a=oA(i,n),l=a[1],c=a[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},BI=function(i){var e=i.scrollTop,t=i.scrollHeight,n=i.clientHeight;return[e,t,n]},zI=function(i){var e=i.scrollLeft,t=i.scrollWidth,n=i.clientWidth;return[e,t,n]},sA=function(i,e){return i==="v"?FI(e):jI(e)},oA=function(i,e){return i==="v"?BI(e):zI(e)},HI=function(i,e){return i==="h"&&e==="rtl"?-1:1},UI=function(i,e,t,n,s){var a=HI(i,window.getComputedStyle(e).direction),l=a*n,c=t.target,h=e.contains(c),f=!1,g=l>0,m=0,y=0;do{var b=oA(i,c),E=b[0],x=b[1],T=b[2],A=x-T-a*E;(E||A)&&sA(i,c)&&(m+=A,y+=E),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!h&&c!==document.body||h&&(e.contains(c)||e===c));return(g&&Math.abs(m)<1||!g&&Math.abs(y)<1)&&(f=!0),f},vp=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},ES=function(i){return[i.deltaX,i.deltaY]},xS=function(i){return i&&"current"in i?i.current:i},$I=function(i,e){return i[0]===e[0]&&i[1]===e[1]},VI=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},WI=0,Ul=[];function GI(i){var e=S.useRef([]),t=S.useRef([0,0]),n=S.useRef(),s=S.useState(WI++)[0],a=S.useState(rA)[0],l=S.useRef(i);S.useEffect(function(){l.current=i},[i]),S.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(s));var x=fI([i.lockRef.current],(i.shards||[]).map(xS),!0).filter(Boolean);return x.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[i.inert,i.lockRef.current,i.shards]);var c=S.useCallback(function(x,T){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var A=vp(x),P=t.current,L="deltaX"in x?x.deltaX:P[0]-A[0],I="deltaY"in x?x.deltaY:P[1]-A[1],O,N=x.target,z=Math.abs(L)>Math.abs(I)?"h":"v";if("touches"in x&&z==="h"&&N.type==="range")return!1;var V=bS(z,N);if(!V)return!0;if(V?O=z:(O=z==="v"?"h":"v",V=bS(z,N)),!V)return!1;if(!n.current&&"changedTouches"in x&&(L||I)&&(n.current=O),!O)return!0;var q=n.current||O;return UI(q,T,x,q==="h"?L:I)},[]),h=S.useCallback(function(x){var T=x;if(!(!Ul.length||Ul[Ul.length-1]!==a)){var A="deltaY"in T?ES(T):vp(T),P=e.current.filter(function(O){return O.name===T.type&&(O.target===T.target||T.target===O.shadowParent)&&$I(O.delta,A)})[0];if(P&&P.should){T.cancelable&&T.preventDefault();return}if(!P){var L=(l.current.shards||[]).map(xS).filter(Boolean).filter(function(O){return O.contains(T.target)}),I=L.length>0?c(T,L[0]):!l.current.noIsolation;I&&T.cancelable&&T.preventDefault()}}},[]),f=S.useCallback(function(x,T,A,P){var L={name:x,delta:T,target:A,should:P,shadowParent:qI(A)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(I){return I!==L})},1)},[]),g=S.useCallback(function(x){t.current=vp(x),n.current=void 0},[]),m=S.useCallback(function(x){f(x.type,ES(x),x.target,c(x,i.lockRef.current))},[]),y=S.useCallback(function(x){f(x.type,vp(x),x.target,c(x,i.lockRef.current))},[]);S.useEffect(function(){return Ul.push(a),i.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",h,Hl),document.addEventListener("touchmove",h,Hl),document.addEventListener("touchstart",g,Hl),function(){Ul=Ul.filter(function(x){return x!==a}),document.removeEventListener("wheel",h,Hl),document.removeEventListener("touchmove",h,Hl),document.removeEventListener("touchstart",g,Hl)}},[]);var b=i.removeScrollBar,E=i.inert;return S.createElement(S.Fragment,null,E?S.createElement(a,{styles:VI(s)}):null,b?S.createElement(DI,{gapMode:i.gapMode}):null)}function qI(i){for(var e=null;i!==null;)i instanceof ShadowRoot&&(e=i.host,i=i.host),i=i.parentNode;return e}const XI=xI(nA,GI);var aA=S.forwardRef(function(i,e){return S.createElement(Kg,_i({},i,{ref:e,sideCar:XI}))});aA.classNames=Kg.classNames;var YI=function(i){if(typeof document>"u")return null;var e=Array.isArray(i)?i[0]:i;return e.ownerDocument.body},$l=new WeakMap,wp=new WeakMap,bp={},wv=0,lA=function(i){return i&&(i.host||lA(i.parentNode))},KI=function(i,e){return e.map(function(t){if(i.contains(t))return t;var n=lA(t);return n&&i.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",i,". Doing nothing"),null)}).filter(function(t){return!!t})},QI=function(i,e,t,n){var s=KI(e,Array.isArray(i)?i:[i]);bp[t]||(bp[t]=new WeakMap);var a=bp[t],l=[],c=new Set,h=new Set(s),f=function(m){!m||c.has(m)||(c.add(m),f(m.parentNode))};s.forEach(f);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(y){if(c.has(y))g(y);else try{var b=y.getAttribute(n),E=b!==null&&b!=="false",x=($l.get(y)||0)+1,T=(a.get(y)||0)+1;$l.set(y,x),a.set(y,T),l.push(y),x===1&&E&&wp.set(y,!0),T===1&&y.setAttribute(t,"true"),E||y.setAttribute(n,"true")}catch(A){console.error("aria-hidden: cannot operate on ",y,A)}})};return g(e),c.clear(),wv++,function(){l.forEach(function(m){var y=$l.get(m)-1,b=a.get(m)-1;$l.set(m,y),a.set(m,b),y||(wp.has(m)||m.removeAttribute(n),wp.delete(m)),b||m.removeAttribute(t)}),wv--,wv||($l=new WeakMap,$l=new WeakMap,wp=new WeakMap,bp={})}},JI=function(i,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(i)?i:[i]),s=YI(i);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),QI(n,s,t,"aria-hidden")):function(){return null}},kb="Dialog",[cA,$j]=Gh(kb),[ZI,Kr]=cA(kb),uA=i=>{const{__scopeDialog:e,children:t,open:n,defaultOpen:s,onOpenChange:a,modal:l=!0}=i,c=S.useRef(null),h=S.useRef(null),[f=!1,g]=qh({prop:n,defaultProp:s,onChange:a});return D.jsx(ZI,{scope:e,triggerRef:c,contentRef:h,contentId:Dp(),titleId:Dp(),descriptionId:Dp(),open:f,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(m=>!m),[g]),modal:l,children:t})};uA.displayName=kb;var dA="DialogTrigger",hA=S.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,s=Kr(dA,t),a=wn(e,s.triggerRef);return D.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Pb(s.open),...n,ref:a,onClick:Et(i.onClick,s.onOpenToggle)})});hA.displayName=dA;var Tb="DialogPortal",[eN,fA]=cA(Tb,{forceMount:void 0}),pA=i=>{const{__scopeDialog:e,forceMount:t,children:n,container:s}=i,a=Kr(Tb,e);return D.jsx(eN,{scope:e,forceMount:t,children:S.Children.map(n,l=>D.jsx(No,{present:t||a.open,children:D.jsx(Z_,{asChild:!0,container:s,children:l})}))})};pA.displayName=Tb;var mg="DialogOverlay",gA=S.forwardRef((i,e)=>{const t=fA(mg,i.__scopeDialog),{forceMount:n=t.forceMount,...s}=i,a=Kr(mg,i.__scopeDialog);return a.modal?D.jsx(No,{present:n||a.open,children:D.jsx(tN,{...s,ref:e})}):null});gA.displayName=mg;var tN=S.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,s=Kr(mg,t);return D.jsx(aA,{as:nu,allowPinchZoom:!0,shards:[s.contentRef],children:D.jsx(Ht.div,{"data-state":Pb(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),sl="DialogContent",mA=S.forwardRef((i,e)=>{const t=fA(sl,i.__scopeDialog),{forceMount:n=t.forceMount,...s}=i,a=Kr(sl,i.__scopeDialog);return D.jsx(No,{present:n||a.open,children:a.modal?D.jsx(nN,{...s,ref:e}):D.jsx(rN,{...s,ref:e})})});mA.displayName=sl;var nN=S.forwardRef((i,e)=>{const t=Kr(sl,i.__scopeDialog),n=S.useRef(null),s=wn(e,t.contentRef,n);return S.useEffect(()=>{const a=n.current;if(a)return JI(a)},[]),D.jsx(yA,{...i,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Et(i.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Et(i.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:Et(i.onFocusOutside,a=>a.preventDefault())})}),rN=S.forwardRef((i,e)=>{const t=Kr(sl,i.__scopeDialog),n=S.useRef(!1),s=S.useRef(!1);return D.jsx(yA,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=i.onCloseAutoFocus)==null||l.call(i,a),a.defaultPrevented||(n.current||(c=t.triggerRef.current)==null||c.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var h,f;(h=i.onInteractOutside)==null||h.call(i,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((f=t.triggerRef.current)==null?void 0:f.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),yA=S.forwardRef((i,e)=>{const{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=i,c=Kr(sl,t),h=S.useRef(null),f=wn(e,h);return hI(),D.jsxs(D.Fragment,{children:[D.jsx(Q_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:D.jsx(Y_,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Pb(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),D.jsxs(D.Fragment,{children:[D.jsx(oN,{titleId:c.titleId}),D.jsx(lN,{contentRef:h,descriptionId:c.descriptionId})]})]})}),Rb="DialogTitle",iN=S.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,s=Kr(Rb,t);return D.jsx(Ht.h2,{id:s.titleId,...n,ref:e})});iN.displayName=Rb;var vA="DialogDescription",sN=S.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,s=Kr(vA,t);return D.jsx(Ht.p,{id:s.descriptionId,...n,ref:e})});sN.displayName=vA;var wA="DialogClose",bA=S.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,s=Kr(wA,t);return D.jsx(Ht.button,{type:"button",...n,ref:e,onClick:Et(i.onClick,()=>s.onOpenChange(!1))})});bA.displayName=wA;function Pb(i){return i?"open":"closed"}var EA="DialogTitleWarning",[Vj,xA]=zM(EA,{contentName:sl,titleName:Rb,docsSlug:"dialog"}),oN=({titleId:i})=>{const e=xA(EA),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{i&&(document.getElementById(i)||console.error(t))},[t,i]),null},aN="DialogDescriptionWarning",lN=({contentRef:i,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xA(aN).contentName}}.`;return S.useEffect(()=>{var a;const s=(a=i.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,i,e]),null},cN=uA,uN=hA,dN=pA,hN=gA,fN=mA,pN=bA;/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SA=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=S.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:l,...c},h)=>S.createElement("svg",{ref:h,...mN,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:SA("lucide",s),...c},[...l.map(([f,g])=>S.createElement(f,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=(i,e)=>{const t=S.forwardRef(({className:n,...s},a)=>S.createElement(yN,{ref:a,iconNode:e,className:SA(`lucide-${gN(i)}`,n),...s}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bN=vN("X",wN);function yg({...i}){return D.jsx(cN,{"data-slot":"dialog",...i})}function vg({...i}){return D.jsx(uN,{"data-slot":"dialog-trigger",...i})}function EN({...i}){return D.jsx(dN,{"data-slot":"dialog-portal",...i})}function xN({className:i,...e}){return D.jsx(hN,{"data-slot":"dialog-overlay",className:Pi("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",i),...e})}function wg({className:i,children:e,...t}){return D.jsxs(EN,{"data-slot":"dialog-portal",children:[D.jsx(xN,{}),D.jsxs(fN,{"data-slot":"dialog-content",className:Pi("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",i),...t,children:[e,D.jsxs(pN,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[D.jsx(bN,{}),D.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function SN(){const[i,e]=S.useState(""),[t,n]=S.useState(""),[s,a]=S.useState(""),l=T_(),c=async()=>{if(!t.trim()||!i.trim()){a("Username and Room Code are required.");return}a(""),await _e.emit("join-room",{roomCode:i,username:t}),await _e.on("room-joined",f=>{f.error?(alert("Room not found"),l("/")):(l(`/room/${i}`,{state:{data:f}}),localStorage.setItem("username",t),localStorage.setItem("roomCode",i))})},h=async()=>{if(!t.trim()){a("Username is required.");return}a(""),await _e.emit("create-room",t),await _e.on("room-created",f=>{l(`/room/${f}`,{state:{data:""}}),localStorage.setItem("username",t),localStorage.setItem("roomCode",f)})};return D.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black text-white",children:[D.jsx("h1",{className:"text-4xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500",children:"Let's Club..."}),D.jsxs(Cb,{className:"bg-white/10 backdrop-blur-lg p-6 rounded-xl shadow-lg w-full max-w-md text-center",children:[D.jsxs(yg,{children:[D.jsx(vg,{asChild:!0,children:D.jsx(wr,{className:"bg-blue-600 w-full mb-4",children:"Create Room"})}),D.jsxs(wg,{className:"bg-black/80 text-white border border-gray-700 p-6 rounded-lg",children:[D.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Enter Username"}),D.jsx(Np,{type:"text",placeholder:"Username",value:t,onChange:f=>{n(f.target.value),a("")},className:"bg-black/50 text-white border border-gray-700 mb-2"}),s&&D.jsx("p",{className:"text-red-500 text-sm",children:s}),D.jsx(wr,{onClick:h,className:"bg-blue-600 w-full",disabled:!t.trim(),children:"Create Room"})]})]}),D.jsxs(yg,{children:[D.jsx(vg,{asChild:!0,children:D.jsx(wr,{className:"bg-blue-500 w-full",children:"Join Room"})}),D.jsxs(wg,{className:"bg-black/80 text-white border border-gray-700 p-6 rounded-lg",children:[D.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Join a Room"}),D.jsx(Np,{type:"text",placeholder:"Username",value:t,onChange:f=>{n(f.target.value),a("")},className:"bg-black/50 text-white border border-gray-700 mb-2"}),D.jsxs("div",{className:"flex gap-2 mb-2",children:[D.jsx(Np,{type:"text",placeholder:"Enter room code",value:i,onChange:f=>{e(f.target.value),a("")},className:"bg-black/50 text-white border border-gray-700"}),D.jsx(wr,{onClick:()=>navigator.clipboard.readText().then(e),className:"bg-gray-700",children:"PASTE"})]}),s&&D.jsx("p",{className:"text-red-500 text-sm",children:s}),D.jsx(wr,{onClick:c,className:"bg-blue-500 w-full",disabled:!t.trim()||!i.trim(),children:"Join Room"})]})]})]})]})}function _N(i){const e=i+"CollectionProvider",[t,n]=Gh(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:E,children:x}=b,T=Jt.useRef(null),A=Jt.useRef(new Map).current;return D.jsx(s,{scope:E,itemMap:A,collectionRef:T,children:x})};l.displayName=e;const c=i+"CollectionSlot",h=Jt.forwardRef((b,E)=>{const{scope:x,children:T}=b,A=a(c,x),P=wn(E,A.collectionRef);return D.jsx(nu,{ref:P,children:T})});h.displayName=c;const f=i+"CollectionItemSlot",g="data-radix-collection-item",m=Jt.forwardRef((b,E)=>{const{scope:x,children:T,...A}=b,P=Jt.useRef(null),L=wn(E,P),I=a(f,x);return Jt.useEffect(()=>(I.itemMap.set(P,{ref:P,...A}),()=>void I.itemMap.delete(P))),D.jsx(nu,{[g]:"",ref:L,children:T})});m.displayName=f;function y(b){const E=a(i+"CollectionConsumer",b);return Jt.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((I,O)=>A.indexOf(I.ref.current)-A.indexOf(O.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:h,ItemSlot:m},y,n]}var AN=S.createContext(void 0);function Lb(i){const e=S.useContext(AN);return i||e||"ltr"}var bv="rovingFocusGroup.onEntryFocus",CN={bubbles:!1,cancelable:!0},Qg="RovingFocusGroup",[$v,_A,kN]=_N(Qg),[TN,AA]=Gh(Qg,[kN]),[RN,PN]=TN(Qg),CA=S.forwardRef((i,e)=>D.jsx($v.Provider,{scope:i.__scopeRovingFocusGroup,children:D.jsx($v.Slot,{scope:i.__scopeRovingFocusGroup,children:D.jsx(LN,{...i,ref:e})})}));CA.displayName=Qg;var LN=S.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...m}=i,y=S.useRef(null),b=wn(e,y),E=Lb(a),[x=null,T]=qh({prop:l,defaultProp:c,onChange:h}),[A,P]=S.useState(!1),L=kn(f),I=_A(t),O=S.useRef(!1),[N,z]=S.useState(0);return S.useEffect(()=>{const V=y.current;if(V)return V.addEventListener(bv,L),()=>V.removeEventListener(bv,L)},[L]),D.jsx(RN,{scope:t,orientation:n,dir:E,loop:s,currentTabStopId:x,onItemFocus:S.useCallback(V=>T(V),[T]),onItemShiftTab:S.useCallback(()=>P(!0),[]),onFocusableItemAdd:S.useCallback(()=>z(V=>V+1),[]),onFocusableItemRemove:S.useCallback(()=>z(V=>V-1),[]),children:D.jsx(Ht.div,{tabIndex:A||N===0?-1:0,"data-orientation":n,...m,ref:b,style:{outline:"none",...i.style},onMouseDown:Et(i.onMouseDown,()=>{O.current=!0}),onFocus:Et(i.onFocus,V=>{const q=!O.current;if(V.target===V.currentTarget&&q&&!A){const X=new CustomEvent(bv,CN);if(V.currentTarget.dispatchEvent(X),!X.defaultPrevented){const Z=I().filter(J=>J.focusable),xe=Z.find(J=>J.active),ce=Z.find(J=>J.id===x),ge=[xe,ce,...Z].filter(Boolean).map(J=>J.ref.current);RA(ge,g)}}O.current=!1}),onBlur:Et(i.onBlur,()=>P(!1))})})}),kA="RovingFocusGroupItem",TA=S.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:s=!1,tabStopId:a,...l}=i,c=Dp(),h=a||c,f=PN(kA,t),g=f.currentTabStopId===h,m=_A(t),{onFocusableItemAdd:y,onFocusableItemRemove:b}=f;return S.useEffect(()=>{if(n)return y(),()=>b()},[n,y,b]),D.jsx($v.ItemSlot,{scope:t,id:h,focusable:n,active:s,children:D.jsx(Ht.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Et(i.onMouseDown,E=>{n?f.onItemFocus(h):E.preventDefault()}),onFocus:Et(i.onFocus,()=>f.onItemFocus(h)),onKeyDown:Et(i.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){f.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const x=NN(E,f.orientation,f.dir);if(x!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let A=m().filter(P=>P.focusable).map(P=>P.ref.current);if(x==="last")A.reverse();else if(x==="prev"||x==="next"){x==="prev"&&A.reverse();const P=A.indexOf(E.currentTarget);A=f.loop?DN(A,P+1):A.slice(P+1)}setTimeout(()=>RA(A))}})})})});TA.displayName=kA;var MN={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function IN(i,e){return e!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function NN(i,e,t){const n=IN(i.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return MN[n]}function RA(i,e=!1){const t=document.activeElement;for(const n of i)if(n===t||(n.focus({preventScroll:e}),document.activeElement!==t))return}function DN(i,e){return i.map((t,n)=>i[(e+n)%i.length])}var ON=CA,FN=TA,jN="Toggle",PA=S.forwardRef((i,e)=>{const{pressed:t,defaultPressed:n=!1,onPressedChange:s,...a}=i,[l=!1,c]=qh({prop:t,onChange:s,defaultProp:n});return D.jsx(Ht.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":i.disabled?"":void 0,...a,ref:e,onClick:Et(i.onClick,()=>{i.disabled||c(!l)})})});PA.displayName=jN;var du="ToggleGroup",[LA,Wj]=Gh(du,[AA]),MA=AA(),Mb=Jt.forwardRef((i,e)=>{const{type:t,...n}=i;if(t==="single"){const s=n;return D.jsx(BN,{...s,ref:e})}if(t==="multiple"){const s=n;return D.jsx(zN,{...s,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${du}\``)});Mb.displayName=du;var[IA,NA]=LA(du),BN=Jt.forwardRef((i,e)=>{const{value:t,defaultValue:n,onValueChange:s=()=>{},...a}=i,[l,c]=qh({prop:t,defaultProp:n,onChange:s});return D.jsx(IA,{scope:i.__scopeToggleGroup,type:"single",value:l?[l]:[],onItemActivate:c,onItemDeactivate:Jt.useCallback(()=>c(""),[c]),children:D.jsx(DA,{...a,ref:e})})}),zN=Jt.forwardRef((i,e)=>{const{value:t,defaultValue:n,onValueChange:s=()=>{},...a}=i,[l=[],c]=qh({prop:t,defaultProp:n,onChange:s}),h=Jt.useCallback(g=>c((m=[])=>[...m,g]),[c]),f=Jt.useCallback(g=>c((m=[])=>m.filter(y=>y!==g)),[c]);return D.jsx(IA,{scope:i.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:h,onItemDeactivate:f,children:D.jsx(DA,{...a,ref:e})})});Mb.displayName=du;var[HN,UN]=LA(du),DA=Jt.forwardRef((i,e)=>{const{__scopeToggleGroup:t,disabled:n=!1,rovingFocus:s=!0,orientation:a,dir:l,loop:c=!0,...h}=i,f=MA(t),g=Lb(l),m={role:"group",dir:g,...h};return D.jsx(HN,{scope:t,rovingFocus:s,disabled:n,children:s?D.jsx(ON,{asChild:!0,...f,orientation:a,dir:g,loop:c,children:D.jsx(Ht.div,{...m,ref:e})}):D.jsx(Ht.div,{...m,ref:e})})}),bg="ToggleGroupItem",OA=Jt.forwardRef((i,e)=>{const t=NA(bg,i.__scopeToggleGroup),n=UN(bg,i.__scopeToggleGroup),s=MA(i.__scopeToggleGroup),a=t.value.includes(i.value),l=n.disabled||i.disabled,c={...i,pressed:a,disabled:l},h=Jt.useRef(null);return n.rovingFocus?D.jsx(FN,{asChild:!0,...s,focusable:!l,active:a,ref:h,children:D.jsx(SS,{...c,ref:e})}):D.jsx(SS,{...c,ref:e})});OA.displayName=bg;var SS=Jt.forwardRef((i,e)=>{const{__scopeToggleGroup:t,value:n,...s}=i,a=NA(bg,t),l={role:"radio","aria-checked":i.pressed,"aria-pressed":void 0},c=a.type==="single"?l:void 0;return D.jsx(PA,{...c,...s,ref:e,onPressedChange:h=>{h?a.onItemActivate(n):a.onItemDeactivate(n)}})}),$N=Mb,VN=OA;const WN=q_("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),FA=S.createContext({size:"default",variant:"default"});function GN({className:i,variant:e,size:t,children:n,...s}){return D.jsx($N,{"data-slot":"toggle-group","data-variant":e,"data-size":t,className:Pi("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",i),...s,children:D.jsx(FA.Provider,{value:{variant:e,size:t},children:n})})}function _S({className:i,children:e,variant:t,size:n,...s}){const a=S.useContext(FA);return D.jsx(VN,{"data-slot":"toggle-group-item","data-variant":a.variant||t,"data-size":a.size||n,className:Pi(WN({variant:a.variant||t,size:a.size||n}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",i),...s,children:e})}function qN(i,[e,t]){return Math.min(t,Math.max(e,i))}function XN(i,e){return S.useReducer((t,n)=>e[t][n]??t,i)}var Ib="ScrollArea",[jA,Gj]=Gh(Ib),[YN,_r]=jA(Ib),BA=S.forwardRef((i,e)=>{const{__scopeScrollArea:t,type:n="hover",dir:s,scrollHideDelay:a=600,...l}=i,[c,h]=S.useState(null),[f,g]=S.useState(null),[m,y]=S.useState(null),[b,E]=S.useState(null),[x,T]=S.useState(null),[A,P]=S.useState(0),[L,I]=S.useState(0),[O,N]=S.useState(!1),[z,V]=S.useState(!1),q=wn(e,Z=>h(Z)),X=Lb(s);return D.jsx(YN,{scope:t,type:n,dir:X,scrollHideDelay:a,scrollArea:c,viewport:f,onViewportChange:g,content:m,onContentChange:y,scrollbarX:b,onScrollbarXChange:E,scrollbarXEnabled:O,onScrollbarXEnabledChange:N,scrollbarY:x,onScrollbarYChange:T,scrollbarYEnabled:z,onScrollbarYEnabledChange:V,onCornerWidthChange:P,onCornerHeightChange:I,children:D.jsx(Ht.div,{dir:X,...l,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":A+"px","--radix-scroll-area-corner-height":L+"px",...i.style}})})});BA.displayName=Ib;var zA="ScrollAreaViewport",HA=S.forwardRef((i,e)=>{const{__scopeScrollArea:t,children:n,nonce:s,...a}=i,l=_r(zA,t),c=S.useRef(null),h=wn(e,c,l.onViewportChange);return D.jsxs(D.Fragment,{children:[D.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),D.jsx(Ht.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...i.style},children:D.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});HA.displayName=zA;var Li="ScrollAreaScrollbar",UA=S.forwardRef((i,e)=>{const{forceMount:t,...n}=i,s=_r(Li,i.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=s,c=i.orientation==="horizontal";return S.useEffect(()=>(c?a(!0):l(!0),()=>{c?a(!1):l(!1)}),[c,a,l]),s.type==="hover"?D.jsx(KN,{...n,ref:e,forceMount:t}):s.type==="scroll"?D.jsx(QN,{...n,ref:e,forceMount:t}):s.type==="auto"?D.jsx($A,{...n,ref:e,forceMount:t}):s.type==="always"?D.jsx(Nb,{...n,ref:e}):null});UA.displayName=Li;var KN=S.forwardRef((i,e)=>{const{forceMount:t,...n}=i,s=_r(Li,i.__scopeScrollArea),[a,l]=S.useState(!1);return S.useEffect(()=>{const c=s.scrollArea;let h=0;if(c){const f=()=>{window.clearTimeout(h),l(!0)},g=()=>{h=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),D.jsx(No,{present:t||a,children:D.jsx($A,{"data-state":a?"visible":"hidden",...n,ref:e})})}),QN=S.forwardRef((i,e)=>{const{forceMount:t,...n}=i,s=_r(Li,i.__scopeScrollArea),a=i.orientation==="horizontal",l=Zg(()=>h("SCROLL_END"),100),[c,h]=XN("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,s.scrollHideDelay,h]),S.useEffect(()=>{const f=s.viewport,g=a?"scrollLeft":"scrollTop";if(f){let m=f[g];const y=()=>{const b=f[g];m!==b&&(h("SCROLL"),l()),m=b};return f.addEventListener("scroll",y),()=>f.removeEventListener("scroll",y)}},[s.viewport,a,h,l]),D.jsx(No,{present:t||c!=="hidden",children:D.jsx(Nb,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Et(i.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Et(i.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),$A=S.forwardRef((i,e)=>{const t=_r(Li,i.__scopeScrollArea),{forceMount:n,...s}=i,[a,l]=S.useState(!1),c=i.orientation==="horizontal",h=Zg(()=>{if(t.viewport){const f=t.viewport.offsetWidth<t.viewport.scrollWidth,g=t.viewport.offsetHeight<t.viewport.scrollHeight;l(c?f:g)}},10);return ru(t.viewport,h),ru(t.content,h),D.jsx(No,{present:n||a,children:D.jsx(Nb,{"data-state":a?"visible":"hidden",...s,ref:e})})}),Nb=S.forwardRef((i,e)=>{const{orientation:t="vertical",...n}=i,s=_r(Li,i.__scopeScrollArea),a=S.useRef(null),l=S.useRef(0),[c,h]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=XA(c.viewport,c.content),g={...n,sizes:c,onSizesChange:h,hasThumb:f>0&&f<1,onThumbChange:y=>a.current=y,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:y=>l.current=y};function m(y,b){return rD(y,l.current,c,b)}return t==="horizontal"?D.jsx(JN,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const y=s.viewport.scrollLeft,b=AS(y,c,s.dir);a.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:y=>{s.viewport&&(s.viewport.scrollLeft=y)},onDragScroll:y=>{s.viewport&&(s.viewport.scrollLeft=m(y,s.dir))}}):t==="vertical"?D.jsx(ZN,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const y=s.viewport.scrollTop,b=AS(y,c);a.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:y=>{s.viewport&&(s.viewport.scrollTop=y)},onDragScroll:y=>{s.viewport&&(s.viewport.scrollTop=m(y))}}):null}),JN=S.forwardRef((i,e)=>{const{sizes:t,onSizesChange:n,...s}=i,a=_r(Li,i.__scopeScrollArea),[l,c]=S.useState(),h=S.useRef(null),f=wn(e,h,a.onScrollbarXChange);return S.useEffect(()=>{h.current&&c(getComputedStyle(h.current))},[h]),D.jsx(WA,{"data-orientation":"horizontal",...s,ref:f,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Jg(t)+"px",...i.style},onThumbPointerDown:g=>i.onThumbPointerDown(g.x),onDragScroll:g=>i.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(a.viewport){const y=a.viewport.scrollLeft+g.deltaX;i.onWheelScroll(y),KA(y,m)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&l&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:xg(l.paddingLeft),paddingEnd:xg(l.paddingRight)}})}})}),ZN=S.forwardRef((i,e)=>{const{sizes:t,onSizesChange:n,...s}=i,a=_r(Li,i.__scopeScrollArea),[l,c]=S.useState(),h=S.useRef(null),f=wn(e,h,a.onScrollbarYChange);return S.useEffect(()=>{h.current&&c(getComputedStyle(h.current))},[h]),D.jsx(WA,{"data-orientation":"vertical",...s,ref:f,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Jg(t)+"px",...i.style},onThumbPointerDown:g=>i.onThumbPointerDown(g.y),onDragScroll:g=>i.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(a.viewport){const y=a.viewport.scrollTop+g.deltaY;i.onWheelScroll(y),KA(y,m)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&l&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:xg(l.paddingTop),paddingEnd:xg(l.paddingBottom)}})}})}),[eD,VA]=jA(Li),WA=S.forwardRef((i,e)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:h,onDragScroll:f,onWheelScroll:g,onResize:m,...y}=i,b=_r(Li,t),[E,x]=S.useState(null),T=wn(e,q=>x(q)),A=S.useRef(null),P=S.useRef(""),L=b.viewport,I=n.content-n.viewport,O=kn(g),N=kn(h),z=Zg(m,10);function V(q){if(A.current){const X=q.clientX-A.current.left,Z=q.clientY-A.current.top;f({x:X,y:Z})}}return S.useEffect(()=>{const q=X=>{const Z=X.target;(E==null?void 0:E.contains(Z))&&O(X,I)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[L,E,I,O]),S.useEffect(N,[n,N]),ru(E,z),ru(b.content,z),D.jsx(eD,{scope:t,scrollbar:E,hasThumb:s,onThumbChange:kn(a),onThumbPointerUp:kn(l),onThumbPositionChange:N,onThumbPointerDown:kn(c),children:D.jsx(Ht.div,{...y,ref:T,style:{position:"absolute",...y.style},onPointerDown:Et(i.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),A.current=E.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),V(q))}),onPointerMove:Et(i.onPointerMove,V),onPointerUp:Et(i.onPointerUp,q=>{const X=q.target;X.hasPointerCapture(q.pointerId)&&X.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=P.current,b.viewport&&(b.viewport.style.scrollBehavior=""),A.current=null})})})}),Eg="ScrollAreaThumb",GA=S.forwardRef((i,e)=>{const{forceMount:t,...n}=i,s=VA(Eg,i.__scopeScrollArea);return D.jsx(No,{present:t||s.hasThumb,children:D.jsx(tD,{ref:e,...n})})}),tD=S.forwardRef((i,e)=>{const{__scopeScrollArea:t,style:n,...s}=i,a=_r(Eg,t),l=VA(Eg,t),{onThumbPositionChange:c}=l,h=wn(e,m=>l.onThumbChange(m)),f=S.useRef(void 0),g=Zg(()=>{f.current&&(f.current(),f.current=void 0)},100);return S.useEffect(()=>{const m=a.viewport;if(m){const y=()=>{if(g(),!f.current){const b=iD(m,c);f.current=b,c()}};return c(),m.addEventListener("scroll",y),()=>m.removeEventListener("scroll",y)}},[a.viewport,g,c]),D.jsx(Ht.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Et(i.onPointerDownCapture,m=>{const b=m.target.getBoundingClientRect(),E=m.clientX-b.left,x=m.clientY-b.top;l.onThumbPointerDown({x:E,y:x})}),onPointerUp:Et(i.onPointerUp,l.onThumbPointerUp)})});GA.displayName=Eg;var Db="ScrollAreaCorner",qA=S.forwardRef((i,e)=>{const t=_r(Db,i.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?D.jsx(nD,{...i,ref:e}):null});qA.displayName=Db;var nD=S.forwardRef((i,e)=>{const{__scopeScrollArea:t,...n}=i,s=_r(Db,t),[a,l]=S.useState(0),[c,h]=S.useState(0),f=!!(a&&c);return ru(s.scrollbarX,()=>{var m;const g=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(g),h(g)}),ru(s.scrollbarY,()=>{var m;const g=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(g),l(g)}),f?D.jsx(Ht.div,{...n,ref:e,style:{width:a,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...i.style}}):null});function xg(i){return i?parseInt(i,10):0}function XA(i,e){const t=i/e;return isNaN(t)?0:t}function Jg(i){const e=XA(i.viewport,i.content),t=i.scrollbar.paddingStart+i.scrollbar.paddingEnd,n=(i.scrollbar.size-t)*e;return Math.max(n,18)}function rD(i,e,t,n="ltr"){const s=Jg(t),a=s/2,l=e||a,c=s-l,h=t.scrollbar.paddingStart+l,f=t.scrollbar.size-t.scrollbar.paddingEnd-c,g=t.content-t.viewport,m=n==="ltr"?[0,g]:[g*-1,0];return YA([h,f],m)(i)}function AS(i,e,t="ltr"){const n=Jg(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,l=e.content-e.viewport,c=a-n,h=t==="ltr"?[0,l]:[l*-1,0],f=qN(i,h);return YA([0,l],[0,c])(f)}function YA(i,e){return t=>{if(i[0]===i[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(i[1]-i[0]);return e[0]+n*(t-i[0])}}function KA(i,e){return i>0&&i<e}var iD=(i,e=()=>{})=>{let t={left:i.scrollLeft,top:i.scrollTop},n=0;return function s(){const a={left:i.scrollLeft,top:i.scrollTop},l=t.left!==a.left,c=t.top!==a.top;(l||c)&&e(),t=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Zg(i,e){const t=kn(i),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,e)},[t,e])}function ru(i,e){const t=kn(e);Cd(()=>{let n=0;if(i){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return s.observe(i),()=>{window.cancelAnimationFrame(n),s.unobserve(i)}}},[i,t])}var sD=BA,oD=HA,aD=qA;function lD({className:i,children:e,...t}){return D.jsxs(sD,{"data-slot":"scroll-area",className:Pi("relative",i),...t,children:[D.jsx(oD,{"data-slot":"scroll-area-viewport",className:"ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] focus-visible:ring-4 focus-visible:outline-1",children:e}),D.jsx(cD,{}),D.jsx(aD,{})]})}function cD({className:i,orientation:e="vertical",...t}){return D.jsx(UA,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Pi("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",i),...t,children:D.jsx(GA,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function uD({roomCode:i}){const[e,t]=S.useState([]),[n,s]=S.useState("");S.useEffect(()=>{if(i)return _e.emit("fetch-room-data",{roomCode:i}),_e.on("room-data",l=>{t((l==null?void 0:l.chat)||[])}),()=>{_e.off("room-data")}},[i]),S.useEffect(()=>{const l=c=>{t(h=>[...h,c])};return _e.on("new-message",l),()=>{_e.off("new-message",l)}},[]);const a=async()=>{n.trim()&&(await _e.emit("send-message",{roomCode:i,message:n}),s(""))};return D.jsx("div",{className:"flex flex-col justify-center items-center",children:D.jsxs(Cb,{className:"w-80 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg shadow-md flex flex-col",children:[D.jsx(lD,{className:"h-72 bg-white dark:bg-gray-900 rounded-md p-3 shadow-inner overflow-y-auto",children:e.map((l,c)=>D.jsxs("div",{className:"mb-2",children:[D.jsxs("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:[l.username,":"," "]}),D.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:l.message})]},c))}),D.jsxs("div",{className:"flex items-center mt-3 space-x-2",children:[D.jsx(Np,{type:"text",value:n,onChange:l=>s(l.target.value),onKeyDown:l=>{l.key==="Enter"&&a()},className:"flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Type your message..."}),D.jsx(wr,{onClick:a,className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-2 rounded-md",children:"Send"})]})]})})}const dD="modulepreload",hD=function(i){return"/"+i},CS={},Ep=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(t.map(h=>{if(h=hD(h),h in CS)return;CS[h]=!0;const f=h.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":dD,f||(m.as="script"),m.crossOrigin="",m.href=h,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((y,b)=>{m.addEventListener("load",y),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var Ed={};Ed.d=(i,e)=>{for(var t in e)Ed.o(e,t)&&!Ed.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})};Ed.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var Le=globalThis.pdfjsLib={};Ed.d(Le,{AbortException:()=>fl,AnnotationEditorLayer:()=>tb,AnnotationEditorParamsType:()=>Pe,AnnotationEditorType:()=>Ie,AnnotationEditorUIManager:()=>al,AnnotationLayer:()=>uF,AnnotationMode:()=>Qs,ColorPicker:()=>Cg,DOMSVGFactory:()=>qb,DrawLayer:()=>sb,FeatureTest:()=>Tn,GlobalWorkerOptions:()=>vs,ImageKind:()=>jp,InvalidPDFException:()=>JA,MissingPDFException:()=>hl,OPS:()=>Nr,OutputScale:()=>Xv,PDFDataRangeTransport:()=>XC,PDFDateString:()=>zb,PDFWorker:()=>tc,PasswordResponses:()=>mD,PermissionFlag:()=>gD,PixelsPerInch:()=>Ro,RenderingCancelledException:()=>jb,TextLayer:()=>xw,UnexpectedResponseException:()=>rm,Util:()=>be,VerbosityLevel:()=>em,XfaLayer:()=>KC,build:()=>VO,createValidAbsoluteUrl:()=>bD,fetchData:()=>sm,getDocument:()=>DO,getFilenameFromUrl:()=>RD,getPdfFilenameFromUrl:()=>PD,getXfaPageViewport:()=>LD,isDataScheme:()=>om,isPdfFile:()=>Bb,noContextMenu:()=>Sr,normalizeUnicode:()=>CD,setLayerDimensions:()=>ol,shadow:()=>Ve,version:()=>$O});const vn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),QA=[1,0,0,1,0,0],Vv=[.001,0,0,.001,0,0],fD=1e7,Ev=1.35,rr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Qs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},pD="pdfjs_internal_editor_",Ie={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Pe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},gD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},dn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},jp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Dt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},td={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},em={ERRORS:0,WARNINGS:1,INFOS:5},Nr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},mD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let tm=em.WARNINGS;function yD(i){Number.isInteger(i)&&(tm=i)}function vD(){return tm}function nm(i){tm>=em.INFOS&&console.log(`Info: ${i}`)}function Oe(i){tm>=em.WARNINGS&&console.log(`Warning: ${i}`)}function at(i){throw new Error(i)}function Bt(i,e){i||at(e)}function wD(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function bD(i,e=null,t=null){if(!i)return null;try{if(t&&typeof i=="string"){if(t.addDefaultProtocol&&i.startsWith("www.")){const s=i.match(/\./g);(s==null?void 0:s.length)>=2&&(i=`http://${i}`)}if(t.tryConvertEncoding)try{i=AD(i)}catch{}}const n=e?new URL(i,e):new URL(i);if(wD(n))return n}catch{}return null}function Ve(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Do=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class Wv extends Do{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Gv extends Do{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class JA extends Do{constructor(e){super(e,"InvalidPDFException")}}class hl extends Do{constructor(e){super(e,"MissingPDFException")}}class rm extends Do{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class ED extends Do{constructor(e){super(e,"FormatError")}}class fl extends Do{constructor(e){super(e,"AbortException")}}function ZA(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&at("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<e;s+=t){const a=Math.min(s+t,e),l=i.subarray(s,a);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function im(i){typeof i!="string"&&at("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function xD(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function Ob(i){const e=Object.create(null);for(const[t,n]of i)e[t]=n;return e}function SD(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function _D(){try{return new Function(""),!0}catch{return!1}}class Tn{static get isLittleEndian(){return Ve(this,"isLittleEndian",SD())}static get isEvalSupported(){return Ve(this,"isEvalSupported",_D())}static get isOffscreenCanvasSupported(){return Ve(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ve(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ve(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Ve(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const xv=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var Es,Bp,qv;class be{static makeHexColor(e,t,n){return`#${xv[e]}${xv[t]}${xv[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[n,s]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,a=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[s,a]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),a=this.applyTransform([e[0],e[3]],t),l=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],s[0],a[0],l[0]),Math.min(n[1],s[1],a[1],l[1]),Math.max(n[0],s[0],a[0],l[0]),Math.max(n[1],s[1],a[1],l[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],l=e[2]*t[1]+e[3]*t[3],c=(n+l)/2,h=Math.sqrt((n+l)**2-4*(n*l-a*s))/2,f=c+h||1,g=c-h||1;return[Math.sqrt(f),Math.sqrt(g)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>s)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>l?null:[n,a,s,l]}static bezierBoundingBox(e,t,n,s,a,l,c,h,f){return f?(f[0]=Math.min(f[0],e,c),f[1]=Math.min(f[1],t,h),f[2]=Math.max(f[2],e,c),f[3]=Math.max(f[3],t,h)):f=[Math.min(e,c),Math.min(t,h),Math.max(e,c),Math.max(t,h)],k(this,Es,qv).call(this,e,n,a,c,t,s,l,h,3*(-e+3*(n-a)+c),6*(e-2*n+a),3*(n-e),f),k(this,Es,qv).call(this,e,n,a,c,t,s,l,h,3*(-t+3*(s-l)+h),6*(t-2*s+l),3*(s-t),f),f}}Es=new WeakSet,Bp=function(e,t,n,s,a,l,c,h,f,g){if(f<=0||f>=1)return;const m=1-f,y=f*f,b=y*f,E=m*(m*(m*e+3*f*t)+3*y*n)+b*s,x=m*(m*(m*a+3*f*l)+3*y*c)+b*h;g[0]=Math.min(g[0],E),g[1]=Math.min(g[1],x),g[2]=Math.max(g[2],E),g[3]=Math.max(g[3],x)},qv=function(e,t,n,s,a,l,c,h,f,g,m,y){if(Math.abs(f)<1e-12){Math.abs(g)>=1e-12&&k(this,Es,Bp).call(this,e,t,n,s,a,l,c,h,-m/g,y);return}const b=g**2-4*m*f;if(b<0)return;const E=Math.sqrt(b),x=2*f;k(this,Es,Bp).call(this,e,t,n,s,a,l,c,h,(-g+E)/x,y),k(this,Es,Bp).call(this,e,t,n,s,a,l,c,h,(-g-E)/x,y)},R(be,Es);function AD(i){return decodeURIComponent(escape(i))}let Sv=null,kS=null;function CD(i){return Sv||(Sv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,kS=new Map([["","t"]])),i.replaceAll(Sv,(e,t,n)=>t?t.normalize("NFKC"):kS.get(n))}function kD(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let e=0;e<32;e++)i[e]=Math.floor(Math.random()*255);return ZA(i)}const Fb="pdfjs_internal_id_",Ui={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function TD(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(ZA(i))}const Wi="http://www.w3.org/2000/svg",oa=class oa{};Re(oa,"CSS",96),Re(oa,"PDF",72),Re(oa,"PDF_TO_CSS_UNITS",oa.CSS/oa.PDF);let Ro=oa;async function sm(i,e="text"){if(sd(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class Xh{constructor({viewBox:e,scale:t,rotation:n,offsetX:s=0,offsetY:a=0,dontFlip:l=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=s,this.offsetY=a;const c=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let f,g,m,y;switch(n%=360,n<0&&(n+=360),n){case 180:f=-1,g=0,m=0,y=1;break;case 90:f=0,g=1,m=1,y=0;break;case 270:f=0,g=-1,m=-1,y=0;break;case 0:f=1,g=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(m=-m,y=-y);let b,E,x,T;f===0?(b=Math.abs(h-e[1])*t+s,E=Math.abs(c-e[0])*t+a,x=(e[3]-e[1])*t,T=(e[2]-e[0])*t):(b=Math.abs(c-e[0])*t+s,E=Math.abs(h-e[1])*t+a,x=(e[2]-e[0])*t,T=(e[3]-e[1])*t),this.transform=[f*t,g*t,m*t,y*t,b-f*t*c-m*t*h,E-g*t*c-y*t*h],this.width=x,this.height=T}get rawDims(){const{viewBox:e}=this;return Ve(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new Xh({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:a})}convertToViewportPoint(e,t){return be.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=be.applyTransform([e[0],e[1]],this.transform),n=be.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return be.applyInverseTransform([e,t],this.transform)}}class jb extends Do{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function om(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function Bb(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function RD(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function PD(i,e="document.pdf"){if(typeof i!="string")return e;if(om(i))return Oe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(i);let a=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(a&&(a=a[0],a.includes("%")))try{a=n.exec(decodeURIComponent(a))[0]}catch{}return a||e}class TS{constructor(){Re(this,"started",Object.create(null));Re(this,"times",[])}time(e){e in this.started&&Oe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Oe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:s,end:a}of this.times)e.push(`${n.padEnd(t)} ${a-s}ms
`);return e.join("")}}function sd(i,e){try{const{protocol:t}=e?new URL(i,e):new URL(i);return t==="http:"||t==="https:"}catch{return!1}}function Sr(i){i.preventDefault()}function RS(i){console.log("Deprecated API usage: "+i)}var Td;class zb{static toDateObject(e){if(!e||typeof e!="string")return null;d(this,Td)||_(this,Td,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=d(this,Td).exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(t[6],10);h=h>=0&&h<=59?h:0;const f=t[7]||"Z";let g=parseInt(t[8],10);g=g>=0&&g<=23?g:0;let m=parseInt(t[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(l+=g,c+=m):f==="+"&&(l-=g,c-=m),new Date(Date.UTC(n,s,a,l,c,h))}}Td=new WeakMap,R(zb,Td);function LD(i,{scale:e=1,rotation:t=0}){const{width:n,height:s}=i.attributes.style,a=[0,0,parseInt(n),parseInt(s)];return new Xh({viewBox:a,scale:e,rotation:t})}function Hb(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Oe(`Not a valid color format: "${i}"`),[0,0,0])}function MD(i){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of i.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;i.set(t,Hb(n))}e.remove()}function mt(i){const{a:e,b:t,c:n,d:s,e:a,f:l}=i.getTransform();return[e,t,n,s,a,l]}function $i(i){const{a:e,b:t,c:n,d:s,e:a,f:l}=i.getTransform().invertSelf();return[e,t,n,s,a,l]}function ol(i,e,t=!1,n=!0){if(e instanceof Xh){const{pageWidth:s,pageHeight:a}=e.rawDims,{style:l}=i,c=Tn.isCSSRoundSupported,h=`var(--scale-factor) * ${s}px`,f=`var(--scale-factor) * ${a}px`,g=c?`round(down, ${h}, var(--scale-round-x, 1px))`:`calc(${h})`,m=c?`round(down, ${f}, var(--scale-round-y, 1px))`:`calc(${f})`;!t||e.rotation%180===0?(l.width=g,l.height=m):(l.width=m,l.height=g)}n&&i.setAttribute("data-main-rotation",e.rotation)}class Xv{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Zs,ca,Dr,ua,Rd,Pd,Rg,eC,Rn,tC,nC,zp,rC,Kv;const Gi=class Gi{constructor(e){R(this,Rn);R(this,Zs,null);R(this,ca,null);R(this,Dr);R(this,ua,null);R(this,Rd,null);_(this,Dr,e),d(Gi,Pd)||_(Gi,Pd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=_(this,Zs,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=d(this,Dr)._uiManager._signal;e.addEventListener("contextmenu",Sr,{signal:t}),e.addEventListener("pointerdown",k(Gi,Rg,eC),{signal:t});const n=_(this,ua,document.createElement("div"));n.className="buttons",e.append(n);const s=d(this,Dr).toolbarPosition;if(s){const{style:a}=e,l=d(this,Dr)._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return k(this,Rn,rC).call(this),e}get div(){return d(this,Zs)}hide(){var e;d(this,Zs).classList.add("hidden"),(e=d(this,ca))==null||e.hideDropdown()}show(){var e;d(this,Zs).classList.remove("hidden"),(e=d(this,Rd))==null||e.shown()}async addAltText(e){const t=await e.render();k(this,Rn,zp).call(this,t),d(this,ua).prepend(t,d(this,Rn,Kv)),_(this,Rd,e)}addColorPicker(e){_(this,ca,e);const t=e.renderButton();k(this,Rn,zp).call(this,t),d(this,ua).prepend(t,d(this,Rn,Kv))}remove(){var e;d(this,Zs).remove(),(e=d(this,ca))==null||e.destroy(),_(this,ca,null)}};Zs=new WeakMap,ca=new WeakMap,Dr=new WeakMap,ua=new WeakMap,Rd=new WeakMap,Pd=new WeakMap,Rg=new WeakSet,eC=function(e){e.stopPropagation()},Rn=new WeakSet,tC=function(e){d(this,Dr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},nC=function(e){d(this,Dr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},zp=function(e){const t=d(this,Dr)._uiManager._signal;e.addEventListener("focusin",k(this,Rn,tC).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",k(this,Rn,nC).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Sr,{signal:t})},rC=function(){const{editorType:e,_uiManager:t}=d(this,Dr),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",d(Gi,Pd)[e]),k(this,Rn,zp).call(this,n),n.addEventListener("click",s=>{t.delete()},{signal:t._signal}),d(this,ua).append(n)},Kv=function(){const e=document.createElement("div");return e.className="divider",e},R(Gi,Rg),R(Gi,Pd,null);let Yv=Gi;var Ld,da,ha,Lo,iC,sC,oC;class ID{constructor(e){R(this,Lo);R(this,Ld,null);R(this,da,null);R(this,ha);_(this,ha,e)}show(e,t,n){const[s,a]=k(this,Lo,sC).call(this,t,n),{style:l}=d(this,da)||_(this,da,k(this,Lo,iC).call(this));e.append(d(this,da)),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,da).remove()}}Ld=new WeakMap,da=new WeakMap,ha=new WeakMap,Lo=new WeakSet,iC=function(){const e=_(this,da,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Sr,{signal:d(this,ha)._signal});const t=_(this,Ld,document.createElement("div"));return t.className="buttons",e.append(t),k(this,Lo,oC).call(this),e},sC=function(e,t){let n=0,s=0;for(const a of e){const l=a.y+a.height;if(l<n)continue;const c=a.x+(t?a.width:0);if(l>n){s=c,n=l;continue}t?c>s&&(s=c):c<s&&(s=c)}return[t?1-s:s,n]},oC=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=d(this,ha)._signal;e.addEventListener("contextmenu",Sr,{signal:n}),e.addEventListener("click",()=>{d(this,ha).highlightSelection("floating_button")},{signal:n}),d(this,Ld).append(e)};function Sg(i,e,t){for(const n of t)e.addEventListener(n,i[n].bind(i))}function ND(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var Pg;class DD{constructor(){R(this,Pg,0)}get id(){return`${pD}${xn(this,Pg)._++}`}}Pg=new WeakMap;var ic,Md,fn,sc,Hp;const Kb=class Kb{constructor(){R(this,sc);R(this,ic,kD());R(this,Md,0);R(this,fn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const a=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ve(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:t,name:n,size:s,type:a}=e;return k(this,sc,Hp).call(this,`${t}_${n}_${s}_${a}`,e)}async getFromUrl(e){return k(this,sc,Hp).call(this,e,e)}async getFromBlob(e,t){const n=await t;return k(this,sc,Hp).call(this,e,n)}async getFromId(e){d(this,fn)||_(this,fn,new Map);const t=d(this,fn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){d(this,fn)||_(this,fn,new Map);let n=d(this,fn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${d(this,ic)}_${xn(this,Md)._++}`,refCounter:1,isSvg:!1},d(this,fn).set(e,n),d(this,fn).set(n.id,n),n}getSvgUrl(e){const t=d(this,fn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;d(this,fn)||_(this,fn,new Map);const t=d(this,fn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=a.convertToBlob()}(s=n.close)==null||s.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${d(this,ic)}_`)}};ic=new WeakMap,Md=new WeakMap,fn=new WeakMap,sc=new WeakSet,Hp=async function(e,t){d(this,fn)||_(this,fn,new Map);let n=d(this,fn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${d(this,ic)}_${xn(this,Md)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(n.url=t,s=await sm(t,"blob")):t instanceof File?s=n.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const a=Kb._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((f,g)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,f()},l.onload=async()=>{const m=n.svgUrl=l.result;c.src=await a?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=l.onerror=g});l.readAsDataURL(s),await h}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return d(this,fn).set(e,n),n&&d(this,fn).set(n.id,n),n};let Qv=Kb;var qt,eo,Id,Xt;class OD{constructor(e=128){R(this,qt,[]);R(this,eo,!1);R(this,Id);R(this,Xt,-1);_(this,Id,e)}add({cmd:e,undo:t,post:n,mustExec:s,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(s&&e(),d(this,eo))return;const h={cmd:e,undo:t,post:n,type:a};if(d(this,Xt)===-1){d(this,qt).length>0&&(d(this,qt).length=0),_(this,Xt,0),d(this,qt).push(h);return}if(l&&d(this,qt)[d(this,Xt)].type===a){c&&(h.undo=d(this,qt)[d(this,Xt)].undo),d(this,qt)[d(this,Xt)]=h;return}const f=d(this,Xt)+1;f===d(this,Id)?d(this,qt).splice(0,1):(_(this,Xt,f),f<d(this,qt).length&&d(this,qt).splice(f)),d(this,qt).push(h)}undo(){if(d(this,Xt)===-1)return;_(this,eo,!0);const{undo:e,post:t}=d(this,qt)[d(this,Xt)];e(),t==null||t(),_(this,eo,!1),_(this,Xt,d(this,Xt)-1)}redo(){if(d(this,Xt)<d(this,qt).length-1){_(this,Xt,d(this,Xt)+1),_(this,eo,!0);const{cmd:e,post:t}=d(this,qt)[d(this,Xt)];e(),t==null||t(),_(this,eo,!1)}}hasSomethingToUndo(){return d(this,Xt)!==-1}hasSomethingToRedo(){return d(this,Xt)<d(this,qt).length-1}destroy(){_(this,qt,null)}}qt=new WeakMap,eo=new WeakMap,Id=new WeakMap,Xt=new WeakMap;var Lg,aC;class Yh{constructor(e){R(this,Lg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Tn.platform;for(const[n,s,a={}]of e)for(const l of n){const c=l.startsWith("mac+");t&&c?(this.callbacks.set(l.slice(4),{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1))):!t&&!c&&(this.callbacks.set(l,{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(k(this,Lg,aC).call(this,t));if(!n)return;const{callback:s,options:{bubbles:a=!1,args:l=[],checker:c=null}}=n;c&&!c(e,t)||(s.bind(e,...l,t)(),a||(t.stopPropagation(),t.preventDefault()))}}Lg=new WeakSet,aC=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Mg=class Mg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return MD(e),Ve(this,"_colors",e)}convert(e){const t=Hb(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,s]of this._colors)if(s.every((a,l)=>a===t[l]))return Mg._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?be.makeHexColor(...t):e}};Re(Mg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Jv=Mg;var oc,Yn,Ot,nn,ac,Xi,lc,Or,to,cc,fa,oi,Fr,pa,Nd,Dd,uc,Od,ai,no,dc,ro,li,Ig,io,Fd,so,ga,jd,Bd,Yt,Qe,Yi,ma,zd,Hd,oo,ci,Ki,Ud,fr,se,Up,Zv,lC,cC,$p,uC,dC,hC,ew,fC,tw,nw,pC,Sn,Ys,gC,mC,rw,yC,od,iw;const Jl=class Jl{constructor(e,t,n,s,a,l,c,h,f,g,m){R(this,se);R(this,oc,new AbortController);R(this,Yn,null);R(this,Ot,new Map);R(this,nn,new Map);R(this,ac,null);R(this,Xi,null);R(this,lc,null);R(this,Or,new OD);R(this,to,null);R(this,cc,0);R(this,fa,new Set);R(this,oi,null);R(this,Fr,null);R(this,pa,new Set);R(this,Nd,!1);R(this,Dd,!1);R(this,uc,!1);R(this,Od,null);R(this,ai,null);R(this,no,null);R(this,dc,null);R(this,ro,!1);R(this,li,null);R(this,Ig,new DD);R(this,io,!1);R(this,Fd,!1);R(this,so,null);R(this,ga,null);R(this,jd,null);R(this,Bd,null);R(this,Yt,Ie.NONE);R(this,Qe,new Set);R(this,Yi,null);R(this,ma,null);R(this,zd,null);R(this,Hd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});R(this,oo,[0,0]);R(this,ci,null);R(this,Ki,null);R(this,Ud,null);R(this,fr,null);const y=this._signal=d(this,oc).signal;_(this,Ki,e),_(this,Ud,t),_(this,ac,n),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:y}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),s._on("setpreference",this.onSetPreference.bind(this),{signal:y}),s._on("switchannotationeditorparams",b=>this.updateParams(b.type,b.value),{signal:y}),k(this,se,uC).call(this),k(this,se,pC).call(this),k(this,se,ew).call(this),_(this,Xi,a.annotationStorage),_(this,Od,a.filterFactory),_(this,ma,l),_(this,dc,c||null),_(this,Nd,h),_(this,Dd,f),_(this,uc,g),_(this,Bd,m||null),this.viewParameters={realScale:Ro.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Jl.prototype,t=l=>d(l,Ki).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ve(this,"_keyboardManager",new Yh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&d(l,Ki).contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&d(l,Ki).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}destroy(){var e,t,n,s;(e=d(this,fr))==null||e.resolve(),_(this,fr,null),(t=d(this,oc))==null||t.abort(),_(this,oc,null),this._signal=null;for(const a of d(this,nn).values())a.destroy();d(this,nn).clear(),d(this,Ot).clear(),d(this,pa).clear(),_(this,Yn,null),d(this,Qe).clear(),d(this,Or).destroy(),(n=d(this,ac))==null||n.destroy(),(s=d(this,li))==null||s.hide(),_(this,li,null),d(this,ai)&&(clearTimeout(d(this,ai)),_(this,ai,null)),d(this,ci)&&(clearTimeout(d(this,ci)),_(this,ci,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return d(this,Bd)}get useNewAltTextFlow(){return d(this,Dd)}get useNewAltTextWhenAddingImage(){return d(this,uc)}get hcmFilter(){return Ve(this,"hcmFilter",d(this,ma)?d(this,Od).addHCMFilter(d(this,ma).foreground,d(this,ma).background):"none")}get direction(){return Ve(this,"direction",getComputedStyle(d(this,Ki)).direction)}get highlightColors(){return Ve(this,"highlightColors",d(this,dc)?new Map(d(this,dc).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ve(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){_(this,jd,e)}editAltText(e,t=!1){var n;(n=d(this,ac))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,uc,t);break}}onPageChanging({pageNumber:e}){_(this,cc,e-1)}focusMainContainer(){d(this,Ki).focus()}findParent(e,t){for(const n of d(this,nn).values()){const{x:s,y:a,width:l,height:c}=n.div.getBoundingClientRect();if(e>=s&&e<=s+l&&t>=a&&t<=a+c)return n}return null}disableUserSelect(e=!1){d(this,Ud).classList.toggle("noUserSelect",e)}addShouldRescale(e){d(this,pa).add(e)}removeShouldRescale(e){d(this,pa).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ro.PDF_TO_CSS_UNITS;for(const t of d(this,pa))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:l}=t,c=t.toString(),f=k(this,se,Up).call(this,t).closest(".textLayer"),g=this.getSelectionBoxes(f);if(!g)return;t.empty();const m=k(this,se,Zv).call(this,f),y=d(this,Yt)===Ie.NONE,b=()=>{m==null||m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:l,text:c}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Ie.HIGHLIGHT,b);return}b()}addToAnnotationStorage(e){!e.isEmpty()&&d(this,Xi)&&!d(this,Xi).has(e.id)&&d(this,Xi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,d(this,ro)&&(_(this,ro,!1),k(this,se,$p).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of d(this,Qe))if(t.div.contains(e)){_(this,ga,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!d(this,ga))return;const[e,t]=d(this,ga);_(this,ga,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){k(this,se,ew).call(this),k(this,se,tw).call(this)}removeEditListeners(){k(this,se,fC).call(this),k(this,se,nw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of d(this,Fr))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of d(this,Fr))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=d(this,Yn))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of d(this,Qe)){const a=s.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const l of d(this,Fr))if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){Oe(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const h of n){const f=await s.deserialize(h);if(!f)return;a.push(f)}const l=()=>{for(const h of a)k(this,se,rw).call(this,h);k(this,se,iw).call(this,a)},c=()=>{for(const h of a)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){Oe(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,Yt)!==Ie.NONE&&!this.isEditorHandlingKeyboard&&Jl._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,ro)&&(_(this,ro,!1),k(this,se,$p).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(k(this,se,dC).call(this),k(this,se,tw).call(this),k(this,se,Sn).call(this,{isEditing:d(this,Yt)!==Ie.NONE,isEmpty:k(this,se,od).call(this),hasSomethingToUndo:d(this,Or).hasSomethingToUndo(),hasSomethingToRedo:d(this,Or).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,se,hC).call(this),k(this,se,nw).call(this),k(this,se,Sn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!d(this,Fr)){_(this,Fr,e);for(const t of d(this,Fr))k(this,se,Ys).call(this,t.defaultPropertiesToUpdate)}}getId(){return d(this,Ig).id}get currentLayer(){return d(this,nn).get(d(this,cc))}getLayer(e){return d(this,nn).get(e)}get currentPageIndex(){return d(this,cc)}addLayer(e){d(this,nn).set(e.pageIndex,e),d(this,io)?e.enable():e.disable()}removeLayer(e){d(this,nn).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(d(this,Yt)!==e&&!(d(this,fr)&&(await d(this,fr).promise,!d(this,fr)))){if(_(this,fr,Promise.withResolvers()),_(this,Yt,e),e===Ie.NONE){this.setEditingState(!1),k(this,se,mC).call(this),d(this,fr).resolve();return}this.setEditingState(!0),await k(this,se,gC).call(this),this.unselectAll();for(const s of d(this,nn).values())s.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),d(this,fr).resolve();return}for(const s of d(this,Ot).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();d(this,fr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==d(this,Yt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(d(this,Fr)){switch(e){case Pe.CREATE:this.currentLayer.addNewEditor();return;case Pe.HIGHLIGHT_DEFAULT_COLOR:(n=d(this,jd))==null||n.updateColor(t);break;case Pe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,zd)||_(this,zd,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of d(this,Qe))s.updateParams(e,t);for(const s of d(this,Fr))s.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var a;for(const l of d(this,Ot).values())l.editorType===e&&l.show(t);(((a=d(this,zd))==null?void 0:a.get(Pe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&k(this,se,Ys).call(this,[[Pe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(d(this,Fd)!==e){_(this,Fd,e);for(const t of d(this,nn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of d(this,Ot).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return d(this,Ot).get(e)}addEditor(e){d(this,Ot).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(d(this,ai)&&clearTimeout(d(this,ai)),_(this,ai,setTimeout(()=>{this.focusMainContainer(),_(this,ai,null)},0))),d(this,Ot).delete(e.id),this.unselect(e),(!e.annotationElementId||!d(this,fa).has(e.annotationElementId))&&((t=d(this,Xi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){d(this,fa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return d(this,fa).has(e)}removeDeletedAnnotationElement(e){d(this,fa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){d(this,Yn)!==e&&(_(this,Yn,e),e&&k(this,se,Ys).call(this,e.propertiesToUpdate))}updateUI(e){d(this,se,yC)===e&&k(this,se,Ys).call(this,e.propertiesToUpdate)}toggleSelected(e){if(d(this,Qe).has(e)){d(this,Qe).delete(e),e.unselect(),k(this,se,Sn).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,Qe).add(e),e.select(),k(this,se,Ys).call(this,e.propertiesToUpdate),k(this,se,Sn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of d(this,Qe))t!==e&&t.unselect();d(this,Qe).clear(),d(this,Qe).add(e),e.select(),k(this,se,Ys).call(this,e.propertiesToUpdate),k(this,se,Sn).call(this,{hasSelectedEditor:!0})}isSelected(e){return d(this,Qe).has(e)}get firstSelectedEditor(){return d(this,Qe).values().next().value}unselect(e){e.unselect(),d(this,Qe).delete(e),k(this,se,Sn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,Qe).size!==0}get isEnterHandled(){return d(this,Qe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){d(this,Or).undo(),k(this,se,Sn).call(this,{hasSomethingToUndo:d(this,Or).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,se,od).call(this)})}redo(){d(this,Or).redo(),k(this,se,Sn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,Or).hasSomethingToRedo(),isEmpty:k(this,se,od).call(this)})}addCommands(e){d(this,Or).add(e),k(this,se,Sn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,se,od).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...d(this,Qe)],t=()=>{for(const s of e)s.remove()},n=()=>{for(const s of e)k(this,se,rw).call(this,s)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=d(this,Yn))==null||e.commitOrRemove()}hasSomethingToControl(){return d(this,Yn)||this.hasSelection}selectAll(){for(const e of d(this,Qe))e.commit();k(this,se,iw).call(this,d(this,Ot).values())}unselectAll(){if(!(d(this,Yn)&&(d(this,Yn).commitOrRemove(),d(this,Yt)!==Ie.NONE))&&this.hasSelection){for(const e of d(this,Qe))e.unselect();d(this,Qe).clear(),k(this,se,Sn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;d(this,oo)[0]+=e,d(this,oo)[1]+=t;const[s,a]=d(this,oo),l=[...d(this,Qe)],c=1e3;d(this,ci)&&clearTimeout(d(this,ci)),_(this,ci,setTimeout(()=>{_(this,ci,null),d(this,oo)[0]=d(this,oo)[1]=0,this.addCommands({cmd:()=>{for(const h of l)d(this,Ot).has(h.id)&&h.translateInPage(s,a)},undo:()=>{for(const h of l)d(this,Ot).has(h.id)&&h.translateInPage(-s,-a)},mustExec:!1})},c));for(const h of l)h.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,oi,new Map);for(const e of d(this,Qe))d(this,oi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,oi))return!1;this.disableUserSelect(!1);const e=d(this,oi);_(this,oi,null);let t=!1;for(const[{x:s,y:a,pageIndex:l},c]of e)c.newX=s,c.newY=a,c.newPageIndex=l,t||(t=s!==c.savedX||a!==c.savedY||l!==c.savedPageIndex);if(!t)return!1;const n=(s,a,l,c)=>{if(d(this,Ot).has(s.id)){const h=d(this,nn).get(c);h?s._setParentAndPosition(h,a,l):(s.pageIndex=c,s.x=a,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:l,newPageIndex:c}]of e)n(s,a,l,c)},undo:()=>{for(const[s,{savedX:a,savedY:l,savedPageIndex:c}]of e)n(s,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(d(this,oi))for(const n of d(this,oi).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||d(this,Qe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return d(this,Yn)===e}getActive(){return d(this,Yn)}getMode(){return d(this,Yt)}get imageManager(){return Ve(this,"imageManager",new Qv)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,g=t.rangeCount;f<g;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:s,width:a,height:l}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(f,g,m,y)=>({x:(g-s)/l,y:1-(f+m-n)/a,width:y/l,height:m/a});break;case"180":c=(f,g,m,y)=>({x:1-(f+m-n)/a,y:1-(g+y-s)/l,width:m/a,height:y/l});break;case"270":c=(f,g,m,y)=>({x:1-(g+y-s)/l,y:(f-n)/a,width:y/l,height:m/a});break;default:c=(f,g,m,y)=>({x:(f-n)/a,y:(g-s)/l,width:m/a,height:y/l});break}const h=[];for(let f=0,g=t.rangeCount;f<g;f++){const m=t.getRangeAt(f);if(!m.collapsed)for(const{x:y,y:b,width:E,height:x}of m.getClientRects())E===0||x===0||h.push(c(y,b,E,x))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:t}){(d(this,lc)||_(this,lc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=d(this,lc))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=d(this,lc))==null?void 0:s.get(e.data.id);if(!t)return;const n=d(this,Xi).getRawValue(t);n&&(d(this,Yt)===Ie.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};oc=new WeakMap,Yn=new WeakMap,Ot=new WeakMap,nn=new WeakMap,ac=new WeakMap,Xi=new WeakMap,lc=new WeakMap,Or=new WeakMap,to=new WeakMap,cc=new WeakMap,fa=new WeakMap,oi=new WeakMap,Fr=new WeakMap,pa=new WeakMap,Nd=new WeakMap,Dd=new WeakMap,uc=new WeakMap,Od=new WeakMap,ai=new WeakMap,no=new WeakMap,dc=new WeakMap,ro=new WeakMap,li=new WeakMap,Ig=new WeakMap,io=new WeakMap,Fd=new WeakMap,so=new WeakMap,ga=new WeakMap,jd=new WeakMap,Bd=new WeakMap,Yt=new WeakMap,Qe=new WeakMap,Yi=new WeakMap,ma=new WeakMap,zd=new WeakMap,Hd=new WeakMap,oo=new WeakMap,ci=new WeakMap,Ki=new WeakMap,Ud=new WeakMap,fr=new WeakMap,se=new WeakSet,Up=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Zv=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of d(this,nn).values())if(n.hasTextLayer(e))return n;return null},lC=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=k(this,se,Up).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(d(this,li)||_(this,li,new ID(this)),d(this,li).show(n,s,this.direction==="ltr"))},cC=function(){var a,l,c;const e=document.getSelection();if(!e||e.isCollapsed){d(this,Yi)&&((a=d(this,li))==null||a.hide(),_(this,Yi,null),k(this,se,Sn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===d(this,Yi))return;const s=k(this,se,Up).call(this,e).closest(".textLayer");if(!s){d(this,Yi)&&((l=d(this,li))==null||l.hide(),_(this,Yi,null),k(this,se,Sn).call(this,{hasSelectedText:!1}));return}if((c=d(this,li))==null||c.hide(),_(this,Yi,t),k(this,se,Sn).call(this,{hasSelectedText:!0}),!(d(this,Yt)!==Ie.HIGHLIGHT&&d(this,Yt)!==Ie.NONE)&&(d(this,Yt)===Ie.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,ro,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=d(this,Yt)===Ie.HIGHLIGHT?k(this,se,Zv).call(this,s):null;h==null||h.toggleDrawing();const f=new AbortController,g=this.combinedSignal(f),m=y=>{y.type==="pointerup"&&y.button!==0||(f.abort(),h==null||h.toggleDrawing(!0),y.type==="pointerup"&&k(this,se,$p).call(this,"main_toolbar"))};window.addEventListener("pointerup",m,{signal:g}),window.addEventListener("blur",m,{signal:g})}},$p=function(e=""){d(this,Yt)===Ie.HIGHLIGHT?this.highlightSelection(e):d(this,Nd)&&k(this,se,lC).call(this)},uC=function(){document.addEventListener("selectionchange",k(this,se,cC).bind(this),{signal:this._signal})},dC=function(){if(d(this,no))return;_(this,no,new AbortController);const e=this.combinedSignal(d(this,no));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},hC=function(){var e;(e=d(this,no))==null||e.abort(),_(this,no,null)},ew=function(){if(d(this,so))return;_(this,so,new AbortController);const e=this.combinedSignal(d(this,so));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},fC=function(){var e;(e=d(this,so))==null||e.abort(),_(this,so,null)},tw=function(){if(d(this,to))return;_(this,to,new AbortController);const e=this.combinedSignal(d(this,to));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},nw=function(){var e;(e=d(this,to))==null||e.abort(),_(this,to,null)},pC=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Sn=function(e){Object.entries(e).some(([n,s])=>d(this,Hd)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,Hd),e)}),d(this,Yt)===Ie.HIGHLIGHT&&e.hasSelectedEditor===!1&&k(this,se,Ys).call(this,[[Pe.HIGHLIGHT_FREE,!0]]))},Ys=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},gC=async function(){if(!d(this,io)){_(this,io,!0);const e=[];for(const t of d(this,nn).values())e.push(t.enable());await Promise.all(e);for(const t of d(this,Ot).values())t.enable()}},mC=function(){if(this.unselectAll(),d(this,io)){_(this,io,!1);for(const e of d(this,nn).values())e.disable();for(const e of d(this,Ot).values())e.disable()}},rw=function(e){const t=d(this,nn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},yC=function(){let e=null;for(e of d(this,Qe));return e},od=function(){if(d(this,Ot).size===0)return!0;if(d(this,Ot).size===1)for(const e of d(this,Ot).values())return e.isEmpty();return!1},iw=function(e){for(const t of d(this,Qe))t.unselect();d(this,Qe).clear();for(const t of e)t.isEmpty()||(d(this,Qe).add(t),t.select());k(this,se,Sn).call(this,{hasSelectedEditor:this.hasSelection})},Re(Jl,"TRANSLATE_SMALL",1),Re(Jl,"TRANSLATE_BIG",10);let al=Jl;var Kt,ui,jr,hc,di,Kn,fc,hi,Bn,Qi,ya,fi,ao,Yr,ad,Vp;const _n=class _n{constructor(e){R(this,Yr);R(this,Kt,null);R(this,ui,!1);R(this,jr,null);R(this,hc,null);R(this,di,null);R(this,Kn,null);R(this,fc,!1);R(this,hi,null);R(this,Bn,null);R(this,Qi,null);R(this,ya,null);R(this,fi,!1);_(this,Bn,e),_(this,fi,e._uiManager.useNewAltTextFlow),d(_n,ao)||_(_n,ao,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){_n._l10n??(_n._l10n=e)}async render(){const e=_(this,jr,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=_(this,hc,document.createElement("span"));e.append(t),d(this,fi)?(e.classList.add("new"),e.setAttribute("data-l10n-id",d(_n,ao).missing),t.setAttribute("data-l10n-id",d(_n,ao)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=d(this,Bn)._uiManager._signal;e.addEventListener("contextmenu",Sr,{signal:n}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const s=a=>{a.preventDefault(),d(this,Bn)._uiManager.editAltText(d(this,Bn)),d(this,fi)&&d(this,Bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,Yr,ad)}})};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(_(this,fc,!0),s(a))},{signal:n}),await k(this,Yr,Vp).call(this),e}finish(){d(this,jr)&&(d(this,jr).focus({focusVisible:d(this,fc)}),_(this,fc,!1))}isEmpty(){return d(this,fi)?d(this,Kt)===null:!d(this,Kt)&&!d(this,ui)}hasData(){return d(this,fi)?d(this,Kt)!==null||!!d(this,Qi):this.isEmpty()}get guessedText(){return d(this,Qi)}async setGuessedText(e){d(this,Kt)===null&&(_(this,Qi,e),_(this,ya,await _n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),k(this,Yr,Vp).call(this))}toggleAltTextBadge(e=!1){var t;if(!d(this,fi)||d(this,Kt)){(t=d(this,hi))==null||t.remove(),_(this,hi,null);return}if(!d(this,hi)){const n=_(this,hi,document.createElement("div"));n.className="noAltTextBadge",d(this,Bn).div.append(n)}d(this,hi).classList.toggle("hidden",!e)}serialize(e){let t=d(this,Kt);return!e&&d(this,Qi)===t&&(t=d(this,ya)),{altText:t,decorative:d(this,ui),guessedText:d(this,Qi),textWithDisclaimer:d(this,ya)}}get data(){return{altText:d(this,Kt),decorative:d(this,ui)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:s,cancel:a=!1}){n&&(_(this,Qi,n),_(this,ya,s)),!(d(this,Kt)===e&&d(this,ui)===t)&&(a||(_(this,Kt,e),_(this,ui,t)),k(this,Yr,Vp).call(this))}toggle(e=!1){d(this,jr)&&(!e&&d(this,Kn)&&(clearTimeout(d(this,Kn)),_(this,Kn,null)),d(this,jr).disabled=!e)}shown(){d(this,Bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,Yr,ad)}})}destroy(){var e,t;(e=d(this,jr))==null||e.remove(),_(this,jr,null),_(this,hc,null),_(this,di,null),(t=d(this,hi))==null||t.remove(),_(this,hi,null)}};Kt=new WeakMap,ui=new WeakMap,jr=new WeakMap,hc=new WeakMap,di=new WeakMap,Kn=new WeakMap,fc=new WeakMap,hi=new WeakMap,Bn=new WeakMap,Qi=new WeakMap,ya=new WeakMap,fi=new WeakMap,ao=new WeakMap,Yr=new WeakSet,ad=function(){return d(this,Kt)&&"added"||d(this,Kt)===null&&this.guessedText&&"review"||"missing"},Vp=async function(){var s,a,l;const e=d(this,jr);if(!e)return;if(d(this,fi)){if(e.classList.toggle("done",!!d(this,Kt)),e.setAttribute("data-l10n-id",d(_n,ao)[d(this,Yr,ad)]),(s=d(this,hc))==null||s.setAttribute("data-l10n-id",d(_n,ao)[`${d(this,Yr,ad)}-label`]),!d(this,Kt)){(a=d(this,di))==null||a.remove();return}}else{if(!d(this,Kt)&&!d(this,ui)){e.classList.remove("done"),(l=d(this,di))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=d(this,di);if(!t){_(this,di,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${d(this,Bn).id}`;const c=100,h=d(this,Bn)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(d(this,Kn)),_(this,Kn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,Kn,setTimeout(()=>{_(this,Kn,null),d(this,di).classList.add("show"),d(this,Bn)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:h}),e.addEventListener("mouseleave",()=>{var f;d(this,Kn)&&(clearTimeout(d(this,Kn)),_(this,Kn,null)),(f=d(this,di))==null||f.classList.remove("show")},{signal:h})}d(this,ui)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=d(this,Kt)),t.parentNode||e.append(t);const n=d(this,Bn).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},R(_n,ao,null),Re(_n,"_l10n",null);let _g=_n;var va,Br,pt,pc,wa,rn,ba,lo,$d,Ea,co,Vd,xa,Ji,pi,gc,mc,pr,Wd,Ng,De,sw,Gd,ow,aw,vC,wC,lw,cw,uw,bC,dw,EC,xC,SC,hw,ld;const Ye=class Ye{constructor(e){R(this,De);R(this,va,null);R(this,Br,null);R(this,pt,null);R(this,pc,!1);R(this,wa,!1);R(this,rn,null);R(this,ba,null);R(this,lo,null);R(this,$d,"");R(this,Ea,!1);R(this,co,null);R(this,Vd,!1);R(this,xa,!1);R(this,Ji,!1);R(this,pi,null);R(this,gc,0);R(this,mc,0);R(this,pr,null);Re(this,"_editToolbar",null);Re(this,"_initialOptions",Object.create(null));Re(this,"_initialData",null);Re(this,"_isVisible",!0);Re(this,"_uiManager",null);Re(this,"_focusEventsAllowed",!0);R(this,Wd,!1);R(this,Ng,Ye._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:s,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[a,l];const[c,h]=this.parentDimensions;this.x=e.x/c,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ye.prototype._resizeWithKeyboard,t=al.TRANSLATE_SMALL,n=al.TRANSLATE_BIG;return Ve(this,"_resizerKeyboardManager",new Yh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ye.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ve(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new FD({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ye._l10n??(Ye._l10n=e),Ye._l10nResizer||(Ye._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ye._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ye._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){at("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,Wd)}set _isDraggable(e){var t;_(this,Wd,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,Ng)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):k(this,De,ld).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(d(this,Ea)?_(this,Ea,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,s){const[a,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/a,this.y=(t+s)/l,this.fixAndSetPosition()}translate(e,t){k(this,De,sw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){d(this,co)||_(this,co,[this.x,this.y]),k(this,De,sw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){d(this,co)||_(this,co,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=e/n,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:l}=this;const[c,h]=this.getBaseTranslation();a+=c,l+=h,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!d(this,co)&&(d(this,co)[0]!==this.x||d(this,co)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ye,s=n/e,a=n/t;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:s,y:a,width:l,height:c}=this;if(l*=t,c*=n,s*=t,a*=n,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-l,s)),a=Math.max(0,Math.min(n-c,a));break;case 90:s=Math.max(0,Math.min(t-c,s)),a=Math.min(n,Math.max(l,a));break;case 180:s=Math.min(t,Math.max(l,s)),a=Math.min(n,Math.max(c,a));break;case 270:s=Math.min(t,Math.max(c,s)),a=Math.max(0,Math.min(n-l,a));break}this.x=s/=t,this.y=a/=n;const[h,f]=this.getBaseTranslation();s+=h,a+=f;const{style:g}=this.div;g.left=`${(100*s).toFixed(2)}%`,g.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return k(n=Ye,Gd,ow).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return k(n=Ye,Gd,ow).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,d(this,wa)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,s=n.endsWith("%"),a=!d(this,wa)&&t.endsWith("%");if(s&&a)return;const[l,c]=this.parentDimensions;s||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!d(this,wa)&&!a&&(e.height=`${(100*parseFloat(t)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=d(this,pt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||d(this,xa)?this._editToolbar:(this._editToolbar=new Yv(this),this.div.append(this._editToolbar.render()),d(this,pt)&&await this._editToolbar.addAltText(d(this,pt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=d(this,pt))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,pt)||(_g.initialize(Ye._l10n),_(this,pt,new _g(this)),d(this,va)&&(d(this,pt).data=d(this,va),_(this,va,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=d(this,pt))==null?void 0:e.data}set altTextData(e){d(this,pt)&&(d(this,pt).data=e)}get guessedAltText(){var e;return(e=d(this,pt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=d(this,pt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=d(this,pt))==null?void 0:t.serialize(e)}hasAltText(){return!!d(this,pt)&&!d(this,pt).isEmpty()}hasAltTextData(){var e;return((e=d(this,pt))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,pc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),k(this,De,dw).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),Sg(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Tn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(_(this,Ea,!0),this._isDraggable){k(this,De,bC).call(this,e);return}k(this,De,uw).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){d(this,pi)&&clearTimeout(d(this,pi)),_(this,pi,setTimeout(()=>{var e;_(this,pi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const s=this.parentScale,[a,l]=this.pageDimensions,[c,h]=this.pageTranslation,f=e/s,g=t/s,m=this.x*a,y=this.y*l,b=this.width*a,E=this.height*l;switch(n){case 0:return[m+f+c,l-y-g-E+h,m+f+b+c,l-y-g+h];case 90:return[m+g+c,l-y+f+h,m+g+E+c,l-y+f+b+h];case 180:return[m-f-b+c,l-y+g+h,m-f+c,l-y+g+E+h];case 270:return[m-g-E+c,l-y-f-b+h,m-g+c,l-y-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,s,a,l]=e,c=a-n,h=l-s;switch(this.rotation){case 0:return[n,t-l,c,h];case 90:return[n,t-s,h,c];case 180:return[a,t-s,c,h];case 270:return[a,t-l,h,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_(this,xa,!0)}disableEditMode(){_(this,xa,!1)}isInEditMode(){return d(this,xa)}shouldGetKeyboardEvents(){return d(this,Ji)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){k(this,De,dw).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){at("An editor must be serializable")}static async deserialize(e,t,n){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});s.rotation=e.rotation,_(s,va,e.accessibilityData);const[a,l]=s.pageDimensions,[c,h,f,g]=s.getRectInCurrentCoords(e.rect,l);return s.x=c/a,s.y=h/l,s.width=f/a,s.height=g/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=d(this,lo))==null||e.abort(),_(this,lo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,pi)&&(clearTimeout(d(this,pi)),_(this,pi,null)),k(this,De,ld).call(this),this.removeEditToolbar(),d(this,pr)){for(const t of d(this,pr).values())clearTimeout(t);_(this,pr,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,De,vC).call(this),d(this,rn).classList.remove("hidden"),Sg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,ba,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=d(this,rn).children;if(!d(this,Br)){_(this,Br,Array.from(t));const l=k(this,De,EC).bind(this),c=k(this,De,xC).bind(this),h=this._uiManager._signal;for(const f of d(this,Br)){const g=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:h}),f.addEventListener("blur",c,{signal:h}),f.addEventListener("focus",k(this,De,SC).bind(this,g),{signal:h}),f.setAttribute("data-l10n-id",Ye._l10nResizer[g])}}const n=d(this,Br)[0];let s=0;for(const l of t){if(l===n)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(d(this,Br).length/4);if(a!==s){if(a<s)for(let c=0;c<s-a;c++)d(this,rn).append(d(this,rn).firstChild);else if(a>s)for(let c=0;c<a-s;c++)d(this,rn).firstChild.before(d(this,rn).lastChild);let l=0;for(const c of t){const f=d(this,Br)[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Ye._l10nResizer[f])}}k(this,De,hw).call(this,0),_(this,Ji,!0),d(this,rn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){d(this,Ji)&&k(this,De,cw).call(this,d(this,$d),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){k(this,De,ld).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,a;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(t=this._editToolbar)==null||t.show(),(n=d(this,pt))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,s,a;(e=d(this,rn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(a=d(this,pt))==null||a.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,Vd)}set isEditing(e){_(this,Vd,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){_(this,wa,!0);const n=e/t,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){d(this,pr)||_(this,pr,new Map);const{action:n}=e;let s=d(this,pr).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),d(this,pr).delete(n),d(this,pr).size===0&&_(this,pr,null)},Ye._telemetryTimeout),d(this,pr).set(n,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,pc,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,pc,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};va=new WeakMap,Br=new WeakMap,pt=new WeakMap,pc=new WeakMap,wa=new WeakMap,rn=new WeakMap,ba=new WeakMap,lo=new WeakMap,$d=new WeakMap,Ea=new WeakMap,co=new WeakMap,Vd=new WeakMap,xa=new WeakMap,Ji=new WeakMap,pi=new WeakMap,gc=new WeakMap,mc=new WeakMap,pr=new WeakMap,Wd=new WeakMap,Ng=new WeakMap,De=new WeakSet,sw=function([e,t],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/e,this.y+=s/t,this.fixAndSetPosition()},Gd=new WeakSet,ow=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},aw=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},vC=function(){if(d(this,rn))return;_(this,rn,document.createElement("div")),d(this,rn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const s=document.createElement("div");d(this,rn).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",k(this,De,wC).bind(this,n),{signal:t}),s.addEventListener("contextmenu",Sr,{signal:t}),s.tabIndex=-1}this.div.prepend(d(this,rn))},wC=function(e,t){var E;t.preventDefault();const{isMac:n}=Tn.platform;if(t.button!==0||t.ctrlKey&&n)return;(E=d(this,pt))==null||E.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,De,cw).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("contextmenu",Sr,{signal:l});const c=this.x,h=this.y,f=this.width,g=this.height,m=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const b=()=>{var x;a.abort(),this.parent.togglePointerEvents(!0),(x=d(this,pt))==null||x.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=m,this.div.style.cursor=y,k(this,De,lw).call(this,c,h,f,g)};window.addEventListener("pointerup",b,{signal:l}),window.addEventListener("blur",b,{signal:l})},lw=function(e,t,n,s){const a=this.x,l=this.y,c=this.width,h=this.height;a===e&&l===t&&c===n&&h===s||this.addCommands({cmd:()=>{this.width=c,this.height=h,this.x=a,this.y=l;const[f,g]=this.parentDimensions;this.setDims(f*c,g*h),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=e,this.y=t;const[f,g]=this.parentDimensions;this.setDims(f*n,g*s),this.fixAndSetPosition()},mustExec:!0})},cw=function(e,t){const[n,s]=this.parentDimensions,a=this.x,l=this.y,c=this.width,h=this.height,f=Ye.MIN_SIZE/n,g=Ye.MIN_SIZE/s,m=ee=>Math.round(ee*1e4)/1e4,y=k(this,De,aw).call(this,this.rotation),b=(ee,W)=>[y[0]*ee+y[2]*W,y[1]*ee+y[3]*W],E=k(this,De,aw).call(this,360-this.rotation),x=(ee,W)=>[E[0]*ee+E[2]*W,E[1]*ee+E[3]*W];let T,A,P=!1,L=!1;switch(e){case"topLeft":P=!0,T=(ee,W)=>[0,0],A=(ee,W)=>[ee,W];break;case"topMiddle":T=(ee,W)=>[ee/2,0],A=(ee,W)=>[ee/2,W];break;case"topRight":P=!0,T=(ee,W)=>[ee,0],A=(ee,W)=>[0,W];break;case"middleRight":L=!0,T=(ee,W)=>[ee,W/2],A=(ee,W)=>[0,W/2];break;case"bottomRight":P=!0,T=(ee,W)=>[ee,W],A=(ee,W)=>[0,0];break;case"bottomMiddle":T=(ee,W)=>[ee/2,W],A=(ee,W)=>[ee/2,0];break;case"bottomLeft":P=!0,T=(ee,W)=>[0,W],A=(ee,W)=>[ee,0];break;case"middleLeft":L=!0,T=(ee,W)=>[0,W/2],A=(ee,W)=>[ee,W/2];break}const I=T(c,h),O=A(c,h);let N=b(...O);const z=m(a+N[0]),V=m(l+N[1]);let q=1,X=1,[Z,xe]=this.screenToPageTranslation(t.movementX,t.movementY);if([Z,xe]=x(Z/n,xe/s),P){const ee=Math.hypot(c,h);q=X=Math.max(Math.min(Math.hypot(O[0]-I[0]-Z,O[1]-I[1]-xe)/ee,1/c,1/h),f/c,g/h)}else L?q=Math.max(f,Math.min(1,Math.abs(O[0]-I[0]-Z)))/c:X=Math.max(g,Math.min(1,Math.abs(O[1]-I[1]-xe)))/h;const ce=m(c*q),oe=m(h*X);N=b(...A(ce,oe));const ge=z-N[0],J=V-N[1];this.width=ce,this.height=oe,this.x=ge,this.y=J,this.setDims(n*ce,s*oe),this.fixAndSetPosition()},uw=function(e){const{isMac:t}=Tn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},bC=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,s=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),_(this,gc,e.clientX),_(this,mc,e.clientY);const l=c=>{const{clientX:h,clientY:f}=c,[g,m]=this.screenToPageTranslation(h-d(this,gc),f-d(this,mc));_(this,gc,h),_(this,mc,f),this._uiManager.dragSelectedEditors(g,m)};window.addEventListener("pointermove",l,{passive:!0,capture:!0,signal:s})}const a=()=>{n.abort(),t&&this.div.classList.remove("moving"),_(this,Ea,!1),this._uiManager.endDragSession()||k(this,De,uw).call(this,e)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},dw=function(){if(d(this,lo)||!this.div)return;_(this,lo,new AbortController);const e=this._uiManager.combinedSignal(d(this,lo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},EC=function(e){Ye._resizerKeyboardManager.exec(this,e)},xC=function(e){var t;d(this,Ji)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==d(this,rn)&&k(this,De,ld).call(this)},SC=function(e){_(this,$d,d(this,Ji)?e:"")},hw=function(e){if(d(this,Br))for(const t of d(this,Br))t.tabIndex=e},ld=function(){if(_(this,Ji,!1),k(this,De,hw).call(this,-1),d(this,ba)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:s}=d(this,ba);k(this,De,lw).call(this,e,t,n,s),_(this,ba,null)}},R(Ye,Gd),Re(Ye,"_l10n",null),Re(Ye,"_l10nResizer",null),Re(Ye,"_borderLineWidth",-1),Re(Ye,"_colorManager",new Jv),Re(Ye,"_zIndex",1),Re(Ye,"_telemetryTimeout",1e3);let Ze=Ye;class FD extends Ze{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const PS=3285377520,hr=4294901760,si=65535;class _C{constructor(e){this.h1=e?e&4294967295:PS,this.h2=e?e&4294967295:PS}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let x=0,T=e.length;x<T;x++){const A=e.charCodeAt(x);A<=255?t[n++]=A:(t[n++]=A>>>8,t[n++]=A&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,a=n-s*4,l=new Uint32Array(t.buffer,0,s);let c=0,h=0,f=this.h1,g=this.h2;const m=3432918353,y=461845907,b=m&si,E=y&si;for(let x=0;x<s;x++)x&1?(c=l[x],c=c*m&hr|c*b&si,c=c<<15|c>>>17,c=c*y&hr|c*E&si,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(h=l[x],h=h*m&hr|h*b&si,h=h<<15|h>>>17,h=h*y&hr|h*E&si,g^=h,g=g<<13|g>>>19,g=g*5+3864292196);switch(c=0,a){case 3:c^=t[s*4+2]<<16;case 2:c^=t[s*4+1]<<8;case 1:c^=t[s*4],c=c*m&hr|c*b&si,c=c<<15|c>>>17,c=c*y&hr|c*E&si,s&1?f^=c:g^=c}this.h1=f,this.h2=g}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&hr|e*36045&si,t=t*4283543511&hr|((t<<16|e>>>16)*2950163797&hr)>>>16,e^=t>>>1,e=e*444984403&hr|e*60499&si,t=t*3301882366&hr|((t<<16|e>>>16)*3120437893&hr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const fw=Object.freeze({map:null,hash:"",transfer:void 0});var Sa,_a,Qt,Dg,AC;class Ub{constructor(){R(this,Dg);R(this,Sa,!1);R(this,_a,null);R(this,Qt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=d(this,Qt).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return d(this,Qt).get(e)}remove(e){if(d(this,Qt).delete(e),d(this,Qt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of d(this,Qt).values())if(t instanceof Ze)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=d(this,Qt).get(e);let s=!1;if(n!==void 0)for(const[a,l]of Object.entries(t))n[a]!==l&&(s=!0,n[a]=l);else s=!0,d(this,Qt).set(e,t);s&&k(this,Dg,AC).call(this),t instanceof Ze&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return d(this,Qt).has(e)}getAll(){return d(this,Qt).size>0?Ob(d(this,Qt)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return d(this,Qt).size}resetModified(){d(this,Sa)&&(_(this,Sa,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new CC(this)}get serializable(){if(d(this,Qt).size===0)return fw;const e=new Map,t=new _C,n=[],s=Object.create(null);let a=!1;for(const[l,c]of d(this,Qt)){const h=c instanceof Ze?c.serialize(!1,s):c;h&&(e.set(l,h),t.update(`${l}:${JSON.stringify(h)}`),a||(a=!!h.bitmap))}if(a)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:fw}get editorStats(){let e=null;const t=new Map;for(const n of d(this,Qt).values()){if(!(n instanceof Ze))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:a}=s;t.has(a)||t.set(a,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[a]||(e[a]=new Map);for(const[c,h]of Object.entries(s)){if(c==="type")continue;let f=l.get(c);f||(f=new Map,l.set(c,f));const g=f.get(h)??0;f.set(h,g+1)}}for(const[n,s]of t)e[n]=s.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){_(this,_a,null)}get modifiedIds(){if(d(this,_a))return d(this,_a);const e=[];for(const t of d(this,Qt).values())!(t instanceof Ze)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return _(this,_a,{ids:new Set(e),hash:e.join(",")})}}Sa=new WeakMap,_a=new WeakMap,Qt=new WeakMap,Dg=new WeakSet,AC=function(){d(this,Sa)||(_(this,Sa,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var qd;class CC extends Ub{constructor(t){super();R(this,qd);const{map:n,hash:s,transfer:a}=t.serializable,l=structuredClone(n,a?{transfer:a}:null);_(this,qd,{map:l,hash:s,transfer:a})}get print(){at("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,qd)}get modifiedIds(){return Ve(this,"modifiedIds",{ids:new Set,hash:""})}}qd=new WeakMap;var yc;class jD{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){R(this,yc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),d(this,yc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||d(this,yc).has(e.loadedName))){if(Bt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:a}=e,l=new FontFace(n,s,a);this.addNativeFontFace(l);try{await l.load(),d(this,yc).add(n),t==null||t(e)}catch{Oe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}at("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw Oe(`Failed to load font '${n.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ve(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(vn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ve(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Bt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:t,callback:e};return n.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ve(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(I,O){return I.charCodeAt(O)<<24|I.charCodeAt(O+1)<<16|I.charCodeAt(O+2)<<8|I.charCodeAt(O+3)&255}function s(I,O,N,z){const V=I.substring(0,O),q=I.substring(O+N);return V+z+q}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let f=0;function g(I,O){if(++f>30){Oe("Load test font never loaded."),O();return}if(h.font="30px "+I,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){O();return}setTimeout(g.bind(null,I,O))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=s(y,976,m.length,m);const E=16,x=1482184792;let T=n(y,E);for(a=0,l=m.length-3;a<l;a+=4)T=T-x+n(m,a)|0;a<m.length&&(T=T-x+n(m+"XXX",a)|0),y=s(y,E,4,xD(T));const A=`url(data:font/opentype;base64,${btoa(y)});`,P=`@font-face {font-family:"${m}";src:${A}}`;this.insertRule(P);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const I of[e.loadedName,m]){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=I,L.append(O)}this._document.body.append(L),g(m,()=>{L.remove(),t.complete()})}}yc=new WeakMap;class BD{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${TD(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(a){Oe(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(a,l){};const s=[];for(let a=0,l=n.length;a<l;)switch(n[a++]){case Ui.BEZIER_CURVE_TO:{const[c,h,f,g,m,y]=n.slice(a,a+6);s.push(b=>b.bezierCurveTo(c,h,f,g,m,y)),a+=6}break;case Ui.MOVE_TO:{const[c,h]=n.slice(a,a+2);s.push(f=>f.moveTo(c,h)),a+=2}break;case Ui.LINE_TO:{const[c,h]=n.slice(a,a+2);s.push(f=>f.lineTo(c,h)),a+=2}break;case Ui.QUADRATIC_CURVE_TO:{const[c,h,f,g]=n.slice(a,a+4);s.push(m=>m.quadraticCurveTo(c,h,f,g)),a+=4}break;case Ui.RESTORE:s.push(c=>c.restore());break;case Ui.SAVE:s.push(c=>c.save());break;case Ui.SCALE:Bt(s.length===2,"Scale command is only valid at the third position.");break;case Ui.TRANSFORM:{const[c,h,f,g,m,y]=n.slice(a,a+6);s.push(b=>b.transform(c,h,f,g,m,y)),a+=6}break;case Ui.TRANSLATE:{const[c,h]=n.slice(a,a+2);s.push(f=>f.translate(c,h)),a+=2}break}return this.compiledGlyphs[t]=function(l,c){s[0](l),s[1](l),l.scale(c,-c);for(let h=2,f=s.length;h<f;h++)s[h](l)}}}var Xd;class kC{constructor({enableHWA:e=!1}){R(this,Xd,!1);_(this,Xd,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!d(this,Xd)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){at("Abstract method `_createCanvas` called.")}}Xd=new WeakMap;class zD extends kC{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class TC{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){at("Abstract method `_fetch` called.")}}class RC extends TC{async _fetch(e){const t=await sm(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):im(t)}}class PC{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,s,a){return"none"}destroy(e=!1){}}var Aa,Ca,gi,Zi,pn,Og,ka,le,hn,Vl,Wl,Wp,Gl,LC,pw,ql,cd,ud,gw,dd;class HD extends PC{constructor({docId:t,ownerDocument:n=globalThis.document}){super();R(this,le);R(this,Aa);R(this,Ca);R(this,gi);R(this,Zi);R(this,pn);R(this,Og);R(this,ka,0);_(this,Zi,t),_(this,pn,n)}addFilter(t){if(!t)return"none";let n=d(this,le,hn).get(t);if(n)return n;const[s,a,l]=k(this,le,Wp).call(this,t),c=t.length===1?s:`${s}${a}${l}`;if(n=d(this,le,hn).get(c),n)return d(this,le,hn).set(t,n),n;const h=`g_${d(this,Zi)}_transfer_map_${xn(this,ka)._++}`,f=k(this,le,Gl).call(this,h);d(this,le,hn).set(t,f),d(this,le,hn).set(c,f);const g=k(this,le,ql).call(this,h);return k(this,le,ud).call(this,s,a,l,g),f}addHCMFilter(t,n){var E;const s=`${t}-${n}`,a="base";let l=d(this,le,Vl).get(a);if((l==null?void 0:l.key)===s||(l?((E=l.filter)==null||E.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},d(this,le,Vl).set(a,l)),!t||!n))return l.url;const c=k(this,le,dd).call(this,t);t=be.makeHexColor(...c);const h=k(this,le,dd).call(this,n);if(n=be.makeHexColor(...h),d(this,le,Wl).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const f=new Array(256);for(let x=0;x<=255;x++){const T=x/255;f[x]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}const g=f.join(","),m=`g_${d(this,Zi)}_hcm_filter`,y=l.filter=k(this,le,ql).call(this,m);k(this,le,ud).call(this,g,g,g,y),k(this,le,pw).call(this,y);const b=(x,T)=>{const A=c[x]/255,P=h[x]/255,L=new Array(T+1);for(let I=0;I<=T;I++)L[I]=A+I/T*(P-A);return L.join(",")};return k(this,le,ud).call(this,b(0,5),b(1,5),b(2,5),y),l.url=k(this,le,Gl).call(this,m),l.url}addAlphaFilter(t){let n=d(this,le,hn).get(t);if(n)return n;const[s]=k(this,le,Wp).call(this,[t]),a=`alpha_${s}`;if(n=d(this,le,hn).get(a),n)return d(this,le,hn).set(t,n),n;const l=`g_${d(this,Zi)}_alpha_map_${xn(this,ka)._++}`,c=k(this,le,Gl).call(this,l);d(this,le,hn).set(t,c),d(this,le,hn).set(a,c);const h=k(this,le,ql).call(this,l);return k(this,le,gw).call(this,s,h),c}addLuminosityFilter(t){let n=d(this,le,hn).get(t||"luminosity");if(n)return n;let s,a;if(t?([s]=k(this,le,Wp).call(this,[t]),a=`luminosity_${s}`):a="luminosity",n=d(this,le,hn).get(a),n)return d(this,le,hn).set(t,n),n;const l=`g_${d(this,Zi)}_luminosity_map_${xn(this,ka)._++}`,c=k(this,le,Gl).call(this,l);d(this,le,hn).set(t,c),d(this,le,hn).set(a,c);const h=k(this,le,ql).call(this,l);return k(this,le,LC).call(this,h),t&&k(this,le,gw).call(this,s,h),c}addHighlightHCMFilter(t,n,s,a,l){var P;const c=`${n}-${s}-${a}-${l}`;let h=d(this,le,Vl).get(t);if((h==null?void 0:h.key)===c||(h?((P=h.filter)==null||P.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},d(this,le,Vl).set(t,h)),!n||!s))return h.url;const[f,g]=[n,s].map(k(this,le,dd).bind(this));let m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),y=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[b,E]=[a,l].map(k(this,le,dd).bind(this));y<m&&([m,y,b,E]=[y,m,E,b]),d(this,le,Wl).style.color="";const x=(L,I,O)=>{const N=new Array(256),z=(y-m)/O,V=L/255,q=(I-L)/(255*O);let X=0;for(let Z=0;Z<=O;Z++){const xe=Math.round(m+Z*z),ce=V+Z*q;for(let oe=X;oe<=xe;oe++)N[oe]=ce;X=xe+1}for(let Z=X;Z<256;Z++)N[Z]=N[X-1];return N.join(",")},T=`g_${d(this,Zi)}_hcm_${t}_filter`,A=h.filter=k(this,le,ql).call(this,T);return k(this,le,pw).call(this,A),k(this,le,ud).call(this,x(b[0],E[0],5),x(b[1],E[1],5),x(b[2],E[2],5),A),h.url=k(this,le,Gl).call(this,T),h.url}destroy(t=!1){t&&d(this,le,Vl).size!==0||(d(this,gi)&&(d(this,gi).parentNode.parentNode.remove(),_(this,gi,null)),d(this,Ca)&&(d(this,Ca).clear(),_(this,Ca,null)),_(this,ka,0))}}Aa=new WeakMap,Ca=new WeakMap,gi=new WeakMap,Zi=new WeakMap,pn=new WeakMap,Og=new WeakMap,ka=new WeakMap,le=new WeakSet,hn=function(){return d(this,Ca)||_(this,Ca,new Map)},Vl=function(){return d(this,Og)||_(this,Og,new Map)},Wl=function(){if(!d(this,gi)){const t=d(this,pn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=d(this,pn).createElementNS(Wi,"svg");s.setAttribute("width",0),s.setAttribute("height",0),_(this,gi,d(this,pn).createElementNS(Wi,"defs")),t.append(s),s.append(d(this,gi)),d(this,pn).body.append(t)}return d(this,gi)},Wp=function(t){if(t.length===1){const f=t[0],g=new Array(256);for(let y=0;y<256;y++)g[y]=f[y]/255;const m=g.join(",");return[m,m,m]}const[n,s,a]=t,l=new Array(256),c=new Array(256),h=new Array(256);for(let f=0;f<256;f++)l[f]=n[f]/255,c[f]=s[f]/255,h[f]=a[f]/255;return[l.join(","),c.join(","),h.join(",")]},Gl=function(t){if(d(this,Aa)===void 0){_(this,Aa,"");const n=d(this,pn).URL;n!==d(this,pn).baseURI&&(om(n)?Oe('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,Aa,n.split("#",1)[0]))}return`url(${d(this,Aa)}#${t})`},LC=function(t){const n=d(this,pn).createElementNS(Wi,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},pw=function(t){const n=d(this,pn).createElementNS(Wi,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},ql=function(t){const n=d(this,pn).createElementNS(Wi,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),d(this,le,Wl).append(n),n},cd=function(t,n,s){const a=d(this,pn).createElementNS(Wi,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),t.append(a)},ud=function(t,n,s,a){const l=d(this,pn).createElementNS(Wi,"feComponentTransfer");a.append(l),k(this,le,cd).call(this,l,"feFuncR",t),k(this,le,cd).call(this,l,"feFuncG",n),k(this,le,cd).call(this,l,"feFuncB",s)},gw=function(t,n){const s=d(this,pn).createElementNS(Wi,"feComponentTransfer");n.append(s),k(this,le,cd).call(this,s,"feFuncA",t)},dd=function(t){return d(this,le,Wl).style.color=t,Hb(getComputedStyle(d(this,le,Wl)).getPropertyValue("color"))};class MC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){at("Abstract method `_fetch` called.")}}class IC extends MC{async _fetch(e){const t=await sm(e,"arraybuffer");return new Uint8Array(t)}}if(vn){var mw=Promise.withResolvers(),xd=null;(async()=>{const e=await Ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,l;return new Map(Object.entries({fs:e,http:t,https:n,url:s,canvas:a,path2d:l}))})().then(e=>{xd=e,mw.resolve()},e=>{Oe(`loadPackages: ${e}`),xd=new Map,mw.resolve()})}class Po{static get promise(){return mw.promise}static get(e){return xd==null?void 0:xd.get(e)}}async function NC(i){const t=await Po.get("fs").promises.readFile(i);return new Uint8Array(t)}class UD extends PC{}class $D extends kC{_createCanvas(e,t){return Po.get("canvas").createCanvas(e,t)}}class VD extends TC{async _fetch(e){return NC(e)}}class WD extends MC{async _fetch(e){return NC(e)}}const An={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function yw(i,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,n),i.clip(s)}class $b{getPattern(){at("Abstract method `getPattern` called.")}}class GD extends $b{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let a;if(s===An.STROKE||s===An.FILL){const l=t.current.getClippedPathBoundingBox(s,mt(e))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,f=t.cachedCanvases.getCanvas("pattern",c,h),g=f.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-l[0],-l[1]),n=be.transform(n,[1,0,0,1,l[0],l[1]]),g.transform(...t.baseTransform),this.matrix&&g.transform(...this.matrix),yw(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),a=e.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(n);a.setTransform(m)}else yw(e,this._bbox),a=this._createGradient(e);return a}}function _v(i,e,t,n,s,a,l,c){const h=e.coords,f=e.colors,g=i.data,m=i.width*4;let y;h[t+1]>h[n+1]&&(y=t,t=n,n=y,y=a,a=l,l=y),h[n+1]>h[s+1]&&(y=n,n=s,s=y,y=l,l=c,c=y),h[t+1]>h[n+1]&&(y=t,t=n,n=y,y=a,a=l,l=y);const b=(h[t]+e.offsetX)*e.scaleX,E=(h[t+1]+e.offsetY)*e.scaleY,x=(h[n]+e.offsetX)*e.scaleX,T=(h[n+1]+e.offsetY)*e.scaleY,A=(h[s]+e.offsetX)*e.scaleX,P=(h[s+1]+e.offsetY)*e.scaleY;if(E>=P)return;const L=f[a],I=f[a+1],O=f[a+2],N=f[l],z=f[l+1],V=f[l+2],q=f[c],X=f[c+1],Z=f[c+2],xe=Math.round(E),ce=Math.round(P);let oe,ge,J,ee,W,re,ne,B;for(let G=xe;G<=ce;G++){if(G<T){const me=G<E?0:(E-G)/(E-T);oe=b-(b-x)*me,ge=L-(L-N)*me,J=I-(I-z)*me,ee=O-(O-V)*me}else{let me;G>P?me=1:T===P?me=0:me=(T-G)/(T-P),oe=x-(x-A)*me,ge=N-(N-q)*me,J=z-(z-X)*me,ee=V-(V-Z)*me}let ue;G<E?ue=0:G>P?ue=1:ue=(E-G)/(E-P),W=b-(b-A)*ue,re=L-(L-q)*ue,ne=I-(I-X)*ue,B=O-(O-Z)*ue;const Ee=Math.round(Math.min(oe,W)),ke=Math.round(Math.max(oe,W));let we=m*G+Ee*4;for(let me=Ee;me<=ke;me++)ue=(oe-me)/(oe-W),ue<0?ue=0:ue>1&&(ue=1),g[we++]=ge-(ge-re)*ue|0,g[we++]=J-(J-ne)*ue|0,g[we++]=ee-(ee-B)*ue|0,g[we++]=255}}function qD(i,e,t){const n=e.coords,s=e.colors;let a,l;switch(e.type){case"lattice":const c=e.verticesPerRow,h=Math.floor(n.length/c)-1,f=c-1;for(a=0;a<h;a++){let g=a*c;for(let m=0;m<f;m++,g++)_v(i,t,n[g],n[g+1],n[g+c],s[g],s[g+1],s[g+c]),_v(i,t,n[g+c+1],n[g+1],n[g+c],s[g+c+1],s[g+1],s[g+c])}break;case"triangles":for(a=0,l=n.length;a<l;a+=3)_v(i,t,n[a],n[a+1],n[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class XD extends $b{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,g=Math.ceil(this._bounds[3])-h,m=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),b=f/m,E=g/y,x={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/b,scaleY:1/E},T=m+2*2,A=y+2*2,P=n.getCanvas("mesh",T,A),L=P.context,I=L.createImageData(m,y);if(t){const N=I.data;for(let z=0,V=N.length;z<V;z+=4)N[z]=t[0],N[z+1]=t[1],N[z+2]=t[2],N[z+3]=255}for(const N of this._figures)qD(I,N,x);return L.putImageData(I,2,2),{canvas:P.canvas,offsetX:c-2*b,offsetY:h-2*E,scaleX:b,scaleY:E}}getPattern(e,t,n,s){yw(e,this._bbox);let a;if(s===An.SHADING)a=be.singularValueDecompose2dScale(mt(e));else if(a=be.singularValueDecompose2dScale(t.baseTransform),this.matrix){const c=be.singularValueDecompose2dScale(this.matrix);a=[a[0]*c[0],a[1]*c[1]]}const l=this._createMeshCanvas(a,s===An.SHADING?null:this._background,t.cachedCanvases);return s!==An.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class YD extends $b{getPattern(){return"hotpink"}}function KD(i){switch(i[0]){case"RadialAxial":return new GD(i);case"Mesh":return new XD(i);case"Dummy":return new YD}throw new Error(`Unknown IR type: ${i[0]}`)}const LS={COLORED:1,UNCOLORED:2},Fg=class Fg{constructor(e,t,n,s,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:s,tilingType:a,color:l,canvasGraphicsFactory:c}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),nm("TilingType: "+a);const g=t[0],m=t[1],y=t[2],b=t[3],E=y-g,x=b-m,T=be.singularValueDecompose2dScale(this.matrix),A=be.singularValueDecompose2dScale(this.baseTransform),P=T[0]*A[0],L=T[1]*A[1];let I=E,O=x,N=!1,z=!1;const V=Math.ceil(h*P),q=Math.ceil(f*L),X=Math.ceil(E*P),Z=Math.ceil(x*L);V>=X?I=h:N=!0,q>=Z?O=f:z=!0;const xe=this.getSizeAndScale(I,this.ctx.canvas.width,P),ce=this.getSizeAndScale(O,this.ctx.canvas.height,L),oe=e.cachedCanvases.getCanvas("pattern",xe.size,ce.size),ge=oe.context,J=c.createCanvasGraphics(ge);if(J.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(J,s,l),ge.translate(-xe.scale*g,-ce.scale*m),J.transform(xe.scale,0,0,ce.scale,0,0),ge.save(),this.clipBbox(J,g,m,y,b),J.baseTransform=mt(J.ctx),J.executeOperatorList(n),J.endDrawing(),ge.restore(),N||z){const ee=oe.canvas;N&&(I=h),z&&(O=f);const W=this.getSizeAndScale(I,this.ctx.canvas.width,P),re=this.getSizeAndScale(O,this.ctx.canvas.height,L),ne=W.size,B=re.size,G=e.cachedCanvases.getCanvas("pattern-workaround",ne,B),ue=G.context,Ee=N?Math.floor(E/h):0,ke=z?Math.floor(x/f):0;for(let we=0;we<=Ee;we++)for(let me=0;me<=ke;me++)ue.drawImage(ee,ne*we,B*me,ne,B,0,0,ne,B);return{canvas:G.canvas,scaleX:W.scale,scaleY:re.scale,offsetX:g,offsetY:m}}return{canvas:oe.canvas,scaleX:xe.scale,scaleY:ce.scale,offsetX:g,offsetY:m}}getSizeAndScale(e,t,n){const s=Math.max(Fg.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*n);return a>=s?a=s:n=a/e,{scale:n,size:a}}clipBbox(e,t,n,s,a){const l=s-t,c=a-n;e.ctx.rect(t,n,l,c),e.current.updateRectMinMax(mt(e.ctx),[t,n,s,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,a=e.current;switch(t){case LS.COLORED:const l=this.ctx;s.fillStyle=l.fillStyle,s.strokeStyle=l.strokeStyle,a.fillColor=l.fillStyle,a.strokeColor=l.strokeStyle;break;case LS.UNCOLORED:const c=be.makeHexColor(n[0],n[1],n[2]);s.fillStyle=c,s.strokeStyle=c,a.fillColor=c,a.strokeColor=c;break;default:throw new ED(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,s){let a=n;s!==An.SHADING&&(a=be.transform(a,t.baseTransform),this.matrix&&(a=be.transform(a,this.matrix)));const l=this.createPatternCanvas(t);let c=new DOMMatrix(a);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const h=e.createPattern(l.canvas,"repeat");return h.setTransform(c),h}};Re(Fg,"MAX_PATTERN_SIZE",3e3);let vw=Fg;function QD({src:i,srcPos:e=0,dest:t,width:n,height:s,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=Tn.isLittleEndian?4278190080:255,[h,f]=l?[a,c]:[c,a],g=n>>3,m=n&7,y=i.length;t=new Uint32Array(t.buffer);let b=0;for(let E=0;E<s;E++){for(const T=e+g;e<T;e++){const A=e<y?i[e]:255;t[b++]=A&128?f:h,t[b++]=A&64?f:h,t[b++]=A&32?f:h,t[b++]=A&16?f:h,t[b++]=A&8?f:h,t[b++]=A&4?f:h,t[b++]=A&2?f:h,t[b++]=A&1?f:h}if(m===0)continue;const x=e<y?i[e++]:255;for(let T=0;T<m;T++)t[b++]=x&1<<7-T?f:h}return{srcPos:e,destPos:b}}const MS=16,IS=100,JD=15,NS=10,DS=1e3,Un=16;function ZD(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(n,s){e.translate(n,s),this.__originalTranslate(n,s)},i.scale=function(n,s){e.scale(n,s),this.__originalScale(n,s)},i.transform=function(n,s,a,l,c,h){e.transform(n,s,a,l,c,h),this.__originalTransform(n,s,a,l,c,h)},i.setTransform=function(n,s,a,l,c,h){e.setTransform(n,s,a,l,c,h),this.__originalSetTransform(n,s,a,l,c,h)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){e.rotate(n),this.__originalRotate(n)},i.clip=function(n){e.clip(n),this.__originalClip(n)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,s,a,l,c){e.bezierCurveTo(t,n,s,a,l,c),this.__originalBezierCurveTo(t,n,s,a,l,c)},i.rect=function(t,n,s,a){e.rect(t,n,s,a),this.__originalRect(t,n,s,a)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class eO{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,n)):(s=this.canvasFactory.create(t,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function xp(i,e,t,n,s,a,l,c,h,f){const[g,m,y,b,E,x]=mt(i);if(m===0&&y===0){const P=l*g+E,L=Math.round(P),I=c*b+x,O=Math.round(I),N=(l+h)*g+E,z=Math.abs(Math.round(N)-L)||1,V=(c+f)*b+x,q=Math.abs(Math.round(V)-O)||1;return i.setTransform(Math.sign(g),0,0,Math.sign(b),L,O),i.drawImage(e,t,n,s,a,0,0,z,q),i.setTransform(g,m,y,b,E,x),[z,q]}if(g===0&&b===0){const P=c*y+E,L=Math.round(P),I=l*m+x,O=Math.round(I),N=(c+f)*y+E,z=Math.abs(Math.round(N)-L)||1,V=(l+h)*m+x,q=Math.abs(Math.round(V)-O)||1;return i.setTransform(0,Math.sign(m),Math.sign(y),0,L,O),i.drawImage(e,t,n,s,a,0,0,q,z),i.setTransform(g,m,y,b,E,x),[q,z]}i.drawImage(e,t,n,s,a,l,c,h,f);const T=Math.hypot(g,m),A=Math.hypot(y,b);return[T*h,A*f]}function tO(i){const{width:e,height:t}=i;if(e>DS||t>DS)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let l=new Uint8Array(a*(t+1)),c,h,f;const g=e+7&-8;let m=new Uint8Array(g*t),y=0;for(const A of i.data){let P=128;for(;P>0;)m[y++]=A&P?0:255,P>>=1}let b=0;for(y=0,m[y]!==0&&(l[0]=1,++b),h=1;h<e;h++)m[y]!==m[y+1]&&(l[h]=m[y]?2:1,++b),y++;for(m[y]!==0&&(l[h]=2,++b),c=1;c<t;c++){y=c*g,f=c*a,m[y-g]!==m[y]&&(l[f]=m[y]?1:8,++b);let A=(m[y]?4:0)+(m[y-g]?8:0);for(h=1;h<e;h++)A=(A>>2)+(m[y+1]?4:0)+(m[y-g+1]?8:0),s[A]&&(l[f+h]=s[A],++b),y++;if(m[y-g]!==m[y]&&(l[f+h]=m[y]?2:4,++b),b>n)return null}for(y=g*(t-1),f=c*a,m[y]!==0&&(l[f]=8,++b),h=1;h<e;h++)m[y]!==m[y+1]&&(l[f+h]=m[y]?4:8,++b),y++;if(m[y]!==0&&(l[f+h]=4,++b),b>n)return null;const E=new Int32Array([0,a,-1,0,-a,0,0,0,1]),x=new Path2D;for(c=0;b&&c<=t;c++){let A=c*a;const P=A+e;for(;A<P&&!l[A];)A++;if(A===P)continue;x.moveTo(A%a,c);const L=A;let I=l[A];do{const O=E[I];do A+=O;while(!l[A]);const N=l[A];N!==5&&N!==10?(I=N,l[A]=0):(I=N&51*I>>4,l[A]&=I>>2|I<<2),x.lineTo(A%a,A/a|0),l[A]||--b}while(L!==A);--c}return m=null,l=null,function(A){A.save(),A.scale(1/e,-1/t),A.translate(0,-t),A.fill(x),A.beginPath(),A.restore()}}class OS{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=QA,this.textMatrixScale=1,this.fontMatrix=Vv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=dn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=be.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=be.applyTransform(t,e),s=be.applyTransform(t.slice(2),e),a=be.applyTransform([t[0],t[3]],e),l=be.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],s[0],a[0],l[0]),this.minY=Math.min(this.minY,n[1],s[1],a[1],l[1]),this.maxX=Math.max(this.maxX,n[0],s[0],a[0],l[0]),this.maxY=Math.max(this.maxY,n[1],s[1],a[1],l[1])}updateScalingPathMinMax(e,t){be.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,s,a,l,c,h,f,g){const m=be.bezierBoundingBox(t,n,s,a,l,c,h,f,g);g||this.updateRectMinMax(e,m)}getPathBoundingBox(e=An.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===An.STROKE){t||at("Stroke bounding box must include transform.");const s=be.singularValueDecompose2dScale(t),a=s[0]*this.lineWidth/2,l=s[1]*this.lineWidth/2;n[0]-=a,n[1]-=l,n[2]+=a,n[3]+=l}return n}updateClipFromPath(){const e=be.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=An.FILL,t=null){return be.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function FS(i,e){if(typeof ImageData<"u"&&e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,n=e.width,s=t%Un,a=(t-s)/Un,l=s===0?a:a+1,c=i.createImageData(n,Un);let h=0,f;const g=e.data,m=c.data;let y,b,E,x;if(e.kind===jp.GRAYSCALE_1BPP){const T=g.byteLength,A=new Uint32Array(m.buffer,0,m.byteLength>>2),P=A.length,L=n+7>>3,I=4294967295,O=Tn.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(E=y<a?Un:s,f=0,b=0;b<E;b++){const N=T-h;let z=0;const V=N>L?n:N*8-7,q=V&-8;let X=0,Z=0;for(;z<q;z+=8)Z=g[h++],A[f++]=Z&128?I:O,A[f++]=Z&64?I:O,A[f++]=Z&32?I:O,A[f++]=Z&16?I:O,A[f++]=Z&8?I:O,A[f++]=Z&4?I:O,A[f++]=Z&2?I:O,A[f++]=Z&1?I:O;for(;z<V;z++)X===0&&(Z=g[h++],X=128),A[f++]=Z&X?I:O,X>>=1}for(;f<P;)A[f++]=0;i.putImageData(c,0,y*Un)}}else if(e.kind===jp.RGBA_32BPP){for(b=0,x=n*Un*4,y=0;y<a;y++)m.set(g.subarray(h,h+x)),h+=x,i.putImageData(c,0,b),b+=Un;y<l&&(x=n*s*4,m.set(g.subarray(h,h+x)),i.putImageData(c,0,b))}else if(e.kind===jp.RGB_24BPP)for(E=Un,x=n*E,y=0;y<l;y++){for(y>=a&&(E=s,x=n*E),f=0,b=x;b--;)m[f++]=g[h++],m[f++]=g[h++],m[f++]=g[h++],m[f++]=255;i.putImageData(c,0,y*Un)}else throw new Error(`bad image kind: ${e.kind}`)}function jS(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,s=t%Un,a=(t-s)/Un,l=s===0?a:a+1,c=i.createImageData(n,Un);let h=0;const f=e.data,g=c.data;for(let m=0;m<l;m++){const y=m<a?Un:s;({srcPos:h}=QD({src:f,srcPos:h,dest:g,width:n,height:y,nonBlackColor:0})),i.putImageData(c,0,m*Un)}}function nd(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function Sp(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!vn){const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}}function BS(i,e){if(e)return!0;const t=be.singularValueDecompose2dScale(i);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Ro.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const nO=["butt","round","square"],rO=["miter","round","bevel"],iO={},zS={};var Mo,ww,bw;const Qb=class Qb{constructor(e,t,n,s,a,{optionalContentConfig:l,markedContentStack:c=null},h,f){R(this,Mo);this.ctx=e,this.current=new OS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new eO(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:s=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...mt(this.compositeCtx))}this.ctx.save(),Sp(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=mt(this.ctx)}executeOperatorList(e,t,n,s){const a=e.argsArray,l=e.fnArray;let c=t||0;const h=a.length;if(h===c)return c;const f=h-c>NS&&typeof n=="function",g=f?Date.now()+JD:0;let m=0;const y=this.commonObjs,b=this.objs;let E;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,n),c;if(E=l[c],E!==Nr.dependency)this[E].apply(this,a[c]);else for(const x of a[c]){const T=x.startsWith("g_")?y:b;if(!T.has(x))return T.get(x,n),c}if(c++,c===h)return c;if(f&&++m>NS){if(Date.now()>g)return n(),c;m=0}}}endDrawing(){k(this,Mo,ww).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),k(this,Mo,bw).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,s=e.height??e.displayHeight;let a=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),c=n,h=s,f="prescale1",g,m;for(;a>2&&c>1||l>2&&h>1;){let y=c,b=h;a>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/y),l>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/b),g=this.cachedCanvases.getCanvas(f,y,b),m=g.context,m.clearRect(0,0,y,b),m.drawImage(e,0,0,c,h,0,0,y,b),e=g.canvas,c=y,h=b,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:h}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,a=this.current.fillColor,l=this.current.patternFill,c=mt(t);let h,f,g,m;if((e.bitmap||e.data)&&e.count>1){const V=e.bitmap||e.data.buffer;f=JSON.stringify(l?c:[c.slice(0,4),a]),h=this._cachedBitmapsMap.get(V),h||(h=new Map,this._cachedBitmapsMap.set(V,h));const q=h.get(f);if(q&&!l){const X=Math.round(Math.min(c[0],c[2])+c[4]),Z=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:q,offsetX:X,offsetY:Z}}g=q}g||(m=this.cachedCanvases.getCanvas("maskCanvas",n,s),jS(m.context,e));let y=be.transform(c,[1/n,0,0,-1/s,0,0]);y=be.transform(y,[1,0,0,1,0,-s]);const[b,E,x,T]=be.getAxialAlignedBoundingBox([0,0,n,s],y),A=Math.round(x-b)||1,P=Math.round(T-E)||1,L=this.cachedCanvases.getCanvas("fillCanvas",A,P),I=L.context,O=b,N=E;I.translate(-O,-N),I.transform(...y),g||(g=this._scaleImage(m.canvas,$i(I)),g=g.img,h&&l&&h.set(f,g)),I.imageSmoothingEnabled=BS(mt(I),e.interpolate),xp(I,g,0,0,g.width,g.height,0,0,n,s),I.globalCompositeOperation="source-in";const z=be.transform($i(I),[1,0,0,1,-O,-N]);return I.fillStyle=l?a.getPattern(t,this,z,An.FILL):a,I.fillRect(0,0,n,s),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,L.canvas)),{canvas:L.canvas,offsetX:Math.round(O),offsetY:Math.round(N)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=nO[e]}setLineJoin(e){this.ctx.lineJoin=rO[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const a=this.ctx;a.setTransform(...mt(this.suspendedCtx)),nd(this.suspendedCtx,a),ZD(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),nd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,s){const a=s[0],l=s[1],c=s[2]-a,h=s[3]-l;c===0||h===0||(this.genericComposeSMask(t.context,n,c,h,t.subtype,t.backdrop,t.transferMap,a,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,s,a,l,c,h,f,g,m){let y=e.canvas,b=h-g,E=f-m;if(l){const T=be.makeHexColor(...l);if(b<0||E<0||b+n>y.width||E+s>y.height){const A=this.cachedCanvases.getCanvas("maskExtension",n,s),P=A.context;P.drawImage(y,-b,-E),P.globalCompositeOperation="destination-atop",P.fillStyle=T,P.fillRect(0,0,n,s),P.globalCompositeOperation="source-over",y=A.canvas,b=E=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(b,E,n,s),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=T,e.fillRect(b,E,n,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const x=new Path2D;x.rect(h,f,n,s),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(y,b,E,n,s,h,f,n,s),t.restore()}save(){this.inSMaskMode?(nd(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),nd(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,s,a,l){this.ctx.transform(e,t,n,s,a,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const s=this.ctx,a=this.current;let l=a.x,c=a.y,h,f;const g=mt(s),m=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,y=m?n.slice(0):null;for(let b=0,E=0,x=e.length;b<x;b++)switch(e[b]|0){case Nr.rectangle:l=t[E++],c=t[E++];const T=t[E++],A=t[E++],P=l+T,L=c+A;s.moveTo(l,c),T===0||A===0?s.lineTo(P,L):(s.lineTo(P,c),s.lineTo(P,L),s.lineTo(l,L)),m||a.updateRectMinMax(g,[l,c,P,L]),s.closePath();break;case Nr.moveTo:l=t[E++],c=t[E++],s.moveTo(l,c),m||a.updatePathMinMax(g,l,c);break;case Nr.lineTo:l=t[E++],c=t[E++],s.lineTo(l,c),m||a.updatePathMinMax(g,l,c);break;case Nr.curveTo:h=l,f=c,l=t[E+4],c=t[E+5],s.bezierCurveTo(t[E],t[E+1],t[E+2],t[E+3],l,c),a.updateCurvePathMinMax(g,h,f,t[E],t[E+1],t[E+2],t[E+3],l,c,y),E+=6;break;case Nr.curveTo2:h=l,f=c,s.bezierCurveTo(l,c,t[E],t[E+1],t[E+2],t[E+3]),a.updateCurvePathMinMax(g,h,f,l,c,t[E],t[E+1],t[E+2],t[E+3],y),l=t[E+2],c=t[E+3],E+=4;break;case Nr.curveTo3:h=l,f=c,l=t[E+2],c=t[E+3],s.bezierCurveTo(t[E],t[E+1],l,c,l,c),a.updateCurvePathMinMax(g,h,f,t[E],t[E+1],l,c,l,c,y),E+=4;break;case Nr.closePath:s.closePath();break}m&&a.updateScalingPathMinMax(g,y),a.setCurrentPoint(l,c)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,$i(t),An.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let a=!1;s&&(t.save(),t.fillStyle=n.getPattern(t,this,$i(t),An.FILL),a=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),a&&t.restore(),e&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=iO}eoClip(){this.pendingClip=zS}beginText(){this.current.textMatrix=QA,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var g;const n=this.commonObjs.get(e),s=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=n.fontMatrix||Vv,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Oe("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const a=n.loadedName||"sans-serif",l=((g=n.systemFontInfo)==null?void 0:g.css)||`"${a}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const h=n.italic?"italic":"normal";let f=t;t<MS?f=MS:t>IS&&(f=IS),this.current.fontSizeScale=t/f,this.ctx.font=`${h} ${c} ${f}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,s,a,l){this.current.textMatrix=[e,t,n,s,a,l],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s){const a=this.ctx,l=this.current,c=l.font,h=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,g=h&dn.FILL_STROKE_MASK,m=!!(h&dn.ADD_TO_PATH_FLAG),y=l.patternFill&&!c.missingFile;let b;(c.disableFontFace||m||y)&&(b=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||y?(a.save(),a.translate(t,n),a.beginPath(),b(a,f),s&&a.setTransform(...s),(g===dn.FILL||g===dn.FILL_STROKE)&&a.fill(),(g===dn.STROKE||g===dn.FILL_STROKE)&&a.stroke(),a.restore()):((g===dn.FILL||g===dn.FILL_STROKE)&&a.fillText(e,t,n),(g===dn.STROKE||g===dn.FILL_STROKE)&&a.strokeText(e,t,n)),m&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:mt(a),x:t,y:n,fontSize:f,addToPath:b})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){n=!0;break}return Ve(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const a=this.ctx,l=t.fontSizeScale,c=t.charSpacing,h=t.wordSpacing,f=t.fontDirection,g=t.textHScale*f,m=e.length,y=n.vertical,b=y?1:-1,E=n.defaultVMetrics,x=s*t.fontMatrix[0],T=t.textRenderingMode===dn.FILL&&!n.disableFontFace&&!t.patternFill;a.save(),a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),f>0?a.scale(g,-1):a.scale(g,1);let A;if(t.patternFill){a.save();const N=t.fillColor.getPattern(a,this,$i(a),An.FILL);A=mt(a),a.restore(),a.fillStyle=N}let P=t.lineWidth;const L=t.textMatrixScale;if(L===0||P===0){const N=t.textRenderingMode&dn.FILL_STROKE_MASK;(N===dn.STROKE||N===dn.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=L;if(l!==1&&(a.scale(l,l),P/=l),a.lineWidth=P,n.isInvalidPDFjsFont){const N=[];let z=0;for(const V of e)N.push(V.unicode),z+=V.width;a.fillText(N.join(""),0,0),t.x+=z*x*g,a.restore(),this.compose();return}let I=0,O;for(O=0;O<m;++O){const N=e[O];if(typeof N=="number"){I+=b*N*s/1e3;continue}let z=!1;const V=(N.isSpace?h:0)+c,q=N.fontChar,X=N.accent;let Z,xe,ce=N.width;if(y){const ge=N.vmetric||E,J=-(N.vmetric?ge[1]:ce*.5)*x,ee=ge[2]*x;ce=ge?-ge[0]:ce,Z=J/l,xe=(I+ee)/l}else Z=I/l,xe=0;if(n.remeasure&&ce>0){const ge=a.measureText(q).width*1e3/s*l;if(ce<ge&&this.isFontSubpixelAAEnabled){const J=ce/ge;z=!0,a.save(),a.scale(J,1),Z/=J}else ce!==ge&&(Z+=(ce-ge)/2e3*s/l)}if(this.contentVisible&&(N.isInFont||n.missingFile)){if(T&&!X)a.fillText(q,Z,xe);else if(this.paintChar(q,Z,xe,A),X){const ge=Z+s*X.offset.x/l,J=xe-s*X.offset.y/l;this.paintChar(X.fontChar,ge,J,A)}}const oe=y?ce*x-V*f:ce*x+V*f;I+=oe,z&&a.restore()}y?t.y-=I:t.x+=I*g,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,s=n.font,a=n.fontSize,l=n.fontDirection,c=s.vertical?1:-1,h=n.charSpacing,f=n.wordSpacing,g=n.textHScale*l,m=n.fontMatrix||Vv,y=e.length,b=n.textRenderingMode===dn.INVISIBLE;let E,x,T,A;if(!(b||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(g,l),E=0;E<y;++E){if(x=e[E],typeof x=="number"){A=c*x*a/1e3,this.ctx.translate(A,0),n.x+=A*g;continue}const P=(x.isSpace?f:0)+h,L=s.charProcOperatorList[x.operatorListId];if(!L){Oe(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),t.scale(a,a),t.transform(...m),this.executeOperatorList(L),this.restore()),T=be.applyTransform([x.width,0],m)[0]*a+P,t.translate(T,0),n.x+=T*g}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,s,a,l){this.ctx.rect(n,s,a-n,l-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],s=this.baseTransform||mt(this.ctx),a={createCanvasGraphics:l=>new Qb(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new vw(e,n,this.ctx,a,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=be.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=be.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=KD(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,$i(t),An.SHADING);const s=$i(t);if(s){const{width:a,height:l}=t.canvas,[c,h,f,g]=be.getAxialAlignedBoundingBox([0,0,a,l],s);this.ctx.fillRect(c,h,f-c,g-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){at("Should not call beginInlineImage")}beginImageData(){at("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=mt(this.ctx),t)){const n=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],n,s),this.current.updateRectMinMax(mt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||nm("TODO: Support non-isolated groups."),e.knockout&&Oe("Knockout groups not supported.");const n=mt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=be.getAxialAlignedBoundingBox(e.bbox,mt(t));const a=[0,0,t.canvas.width,t.canvas.height];s=be.intersect(s,a)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-l,1),f=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,h,f]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(g,h,f),y=m.context;y.translate(-l,-c),y.transform(...n),e.smask?this.smaskStack.push({canvas:m.canvas,context:y,offsetX:l,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.save()),nd(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=mt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const a=be.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,n,s,a){if(k(this,Mo,ww).call(this),Sp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],c=t[3]-t[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=c;const[h,f]=be.singularValueDecompose2dScale(mt(this.ctx)),{viewportScale:g}=this,m=Math.ceil(l*this.outputScaleX*g),y=Math.ceil(c*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(m,y);const{canvas:b,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(h,0,0,-f,0,c*f),Sp(this.ctx)}else Sp(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],l,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new OS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),k(this,Mo,bw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=tO(e)),s.compiled)){s.compiled(n);return}const a=this._createMaskCanvas(e),l=a.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,a.offsetX,a.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,s=0,a,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const c=this.ctx;c.save();const h=mt(c);c.transform(t,n,s,a,0,0);const f=this._createMaskCanvas(e);c.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]);for(let g=0,m=l.length;g<m;g+=2){const y=be.transform(h,[t,n,s,a,l[g],l[g+1]]),[b,E]=be.applyTransform([0,0],y);c.drawImage(f.canvas,b,E)}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const a of e){const{data:l,width:c,height:h,transform:f}=a,g=this.cachedCanvases.getCanvas("maskCanvas",c,h),m=g.context;m.save();const y=this.getObject(l,a);jS(m,y),m.globalCompositeOperation="source-in",m.fillStyle=s?n.getPattern(m,this,$i(t),An.FILL):n,m.fillRect(0,0,c,h),m.restore(),t.save(),t.transform(...f),t.scale(1,-1),xp(t,g.canvas,0,0,c,h,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Oe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,s){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){Oe("Dependent image isn't ready yet");return}const l=a.width,c=a.height,h=[];for(let f=0,g=s.length;f<g;f+=2)h.push({transform:[t,0,0,n,s[f],s[f+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(a,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:s}=e,a=this.cachedCanvases.getCanvas("inlineImage",n,s),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;if(this.save(),!vn){const{filter:c}=s;c!=="none"&&c!==""&&(s.filter="none")}s.scale(1/t,-1/n);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const h=this.cachedCanvases.getCanvas("inlineImage",t,n).context;FS(h,e),a=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(a,$i(s));s.imageSmoothingEnabled=BS(mt(s),e.interpolate),xp(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const a=e.width,l=e.height,h=this.cachedCanvases.getCanvas("inlineImage",a,l).context;FS(h,e),s=this.applyTransferMapsToCanvas(h)}for(const a of t)n.save(),n.transform(...a.transform),n.scale(1,-1),xp(n,s,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===zS?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=mt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:s,d:a}=this.ctx.getTransform();let l,c;if(n===0&&s===0){const h=Math.abs(t),f=Math.abs(a);if(h===f)if(e===0)l=c=1/h;else{const g=h*e;l=c=g<1?1/g:1}else if(e===0)l=1/h,c=1/f;else{const g=h*e,m=f*e;l=g<1?1/g:1,c=m<1?1/m:1}}else{const h=Math.abs(t*a-n*s),f=Math.hypot(t,n),g=Math.hypot(s,a);if(e===0)l=g/h,c=f/h;else{const m=e*h;l=g>m?g/m:1,c=f>m?f/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[s,a]=this.getScaleForStroking();if(t.lineWidth=n||1,s===1&&a===1){t.stroke();return}const l=t.getLineDash();if(e&&t.save(),t.scale(s,a),l.length>0){const c=Math.max(s,a);t.setLineDash(l.map(h=>h/c)),t.lineDashOffset/=c}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Mo=new WeakSet,ww=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},bw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let ec=Qb;for(const i in Nr)ec.prototype[i]!==void 0&&(ec.prototype[Nr[i]]=ec.prototype[i]);var Yd,Kd;class vs{static get workerPort(){return d(this,Yd)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,Yd,e)}static get workerSrc(){return d(this,Kd)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,Kd,e)}}Yd=new WeakMap,Kd=new WeakMap,R(vs,Yd,null),R(vs,Kd,"");const _p={DATA:1,ERROR:2},Tt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Xn(i){switch(i instanceof Error||typeof i=="object"&&i!==null||at('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new fl(i.message);case"MissingPDFException":return new hl(i.message);case"PasswordException":return new Wv(i.message,i.code);case"UnexpectedResponseException":return new rm(i.message,i.status);case"UnknownErrorException":return new Gv(i.message,i.details);default:return new Gv(i.message,i.toString())}}var vc,xr,DC,OC,FC,Gp;class hd{constructor(e,t,n){R(this,xr);R(this,vc,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",k(this,xr,DC).bind(this),{signal:d(this,vc).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(l){a.reject(l)}return a.promise}sendWithStream(e,t,n,s){const a=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const g=Promise.withResolvers();return this.streamControllers[a]={controller:f,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:e,streamId:a,data:t,desiredSize:f.desiredSize},s),g.promise},pull:f=>{const g=Promise.withResolvers();return this.streamControllers[a].pullCall=g,h.postMessage({sourceName:l,targetName:c,stream:Tt.PULL,streamId:a,desiredSize:f.desiredSize}),g.promise},cancel:f=>{Bt(f instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[a].cancelCall=g,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:Tt.CANCEL,streamId:a,reason:Xn(f)}),g.promise}},n)}destroy(){var e;(e=d(this,vc))==null||e.abort(),_(this,vc,null)}}vc=new WeakMap,xr=new WeakSet,DC=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){k(this,xr,FC).call(this,e);return}if(e.callback){const n=e.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===_p.DATA)s.resolve(e.data);else if(e.callback===_p.ERROR)s.reject(Xn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,s=e.sourceName,a=this.comObj;new Promise(function(l){l(t(e.data))}).then(function(l){a.postMessage({sourceName:n,targetName:s,callback:_p.DATA,callbackId:e.callbackId,data:l})},function(l){a.postMessage({sourceName:n,targetName:s,callback:_p.ERROR,callbackId:e.callbackId,reason:Xn(l)})});return}if(e.streamId){k(this,xr,OC).call(this,e);return}t(e.data)},OC=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,a=this.comObj,l=this,c=this.actionHandler[e.action],h={enqueue(f,g=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=g,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:s,stream:Tt.ENQUEUE,streamId:t,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:Tt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(f){Bt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:Tt.ERROR,streamId:t,reason:Xn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[t]=h,new Promise(function(f){f(c(e.data,h))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:Tt.START_COMPLETE,streamId:t,success:!0})},function(f){a.postMessage({sourceName:n,targetName:s,stream:Tt.START_COMPLETE,streamId:t,reason:Xn(f)})})},FC=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,a=this.comObj,l=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case Tt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Xn(e.reason));break;case Tt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Xn(e.reason));break;case Tt.PULL:if(!c){a.postMessage({sourceName:n,targetName:s,stream:Tt.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,new Promise(function(h){var f;h((f=c.onPull)==null?void 0:f.call(c))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:Tt.PULL_COMPLETE,streamId:t,success:!0})},function(h){a.postMessage({sourceName:n,targetName:s,stream:Tt.PULL_COMPLETE,streamId:t,reason:Xn(h)})});break;case Tt.ENQUEUE:if(Bt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Tt.CLOSE:if(Bt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),k(this,xr,Gp).call(this,l,t);break;case Tt.ERROR:Bt(l,"error should have stream controller"),l.controller.error(Xn(e.reason)),k(this,xr,Gp).call(this,l,t);break;case Tt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Xn(e.reason)),k(this,xr,Gp).call(this,l,t);break;case Tt.CANCEL:if(!c)break;new Promise(function(h){var f;h((f=c.onCancel)==null?void 0:f.call(c,Xn(e.reason)))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:Tt.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){a.postMessage({sourceName:n,targetName:s,stream:Tt.CANCEL_COMPLETE,streamId:t,reason:Xn(h)})}),c.sinkCapability.reject(Xn(e.reason)),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Gp=async function(e,t){var n,s,a;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(s=e.pullCall)==null?void 0:s.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[t]};var Ta,Qd;class sO{constructor({parsedData:e,rawData:t}){R(this,Ta);R(this,Qd);_(this,Ta,e),_(this,Qd,t)}getRaw(){return d(this,Qd)}get(e){return d(this,Ta).get(e)??null}getAll(){return Ob(d(this,Ta))}has(e){return d(this,Ta).has(e)}}Ta=new WeakMap,Qd=new WeakMap;const Xl=Symbol("INTERNAL");var Jd,Zd,eh,wc;class oO{constructor(e,{name:t,intent:n,usage:s,rbGroups:a}){R(this,Jd,!1);R(this,Zd,!1);R(this,eh,!1);R(this,wc,!0);_(this,Jd,!!(e&rr.DISPLAY)),_(this,Zd,!!(e&rr.PRINT)),this.name=t,this.intent=n,this.usage=s,this.rbGroups=a}get visible(){if(d(this,eh))return d(this,wc);if(!d(this,wc))return!1;const{print:e,view:t}=this.usage;return d(this,Jd)?(t==null?void 0:t.viewState)!=="OFF":d(this,Zd)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Xl&&at("Internal method `_setVisible` called."),_(this,eh,n),_(this,wc,t)}}Jd=new WeakMap,Zd=new WeakMap,eh=new WeakMap,wc=new WeakMap;var uo,Je,bc,Ec,th,Ew;class aO{constructor(e,t=rr.DISPLAY){R(this,th);R(this,uo,null);R(this,Je,new Map);R(this,bc,null);R(this,Ec,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,Ec,e.order);for(const n of e.groups)d(this,Je).set(n.id,new oO(t,n));if(e.baseState==="OFF")for(const n of d(this,Je).values())n._setVisible(Xl,!1);for(const n of e.on)d(this,Je).get(n)._setVisible(Xl,!0);for(const n of e.off)d(this,Je).get(n)._setVisible(Xl,!1);_(this,bc,this.getHash())}}isVisible(e){if(d(this,Je).size===0)return!0;if(!e)return nm("Optional content group not defined."),!0;if(e.type==="OCG")return d(this,Je).has(e.id)?d(this,Je).get(e.id).visible:(Oe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return k(this,th,Ew).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!d(this,Je).has(t))return Oe(`Optional content group not found: ${t}`),!0;if(d(this,Je).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!d(this,Je).has(t))return Oe(`Optional content group not found: ${t}`),!0;if(!d(this,Je).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!d(this,Je).has(t))return Oe(`Optional content group not found: ${t}`),!0;if(!d(this,Je).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!d(this,Je).has(t))return Oe(`Optional content group not found: ${t}`),!0;if(d(this,Je).get(t).visible)return!1}return!0}return Oe(`Unknown optional content policy ${e.policy}.`),!0}return Oe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var a;const s=d(this,Je).get(e);if(!s){Oe(`Optional content group not found: ${e}`);return}if(n&&t&&s.rbGroups.length)for(const l of s.rbGroups)for(const c of l)c!==e&&((a=d(this,Je).get(c))==null||a._setVisible(Xl,!1,!0));s._setVisible(Xl,!!t,!0),_(this,uo,null)}setOCGState({state:e,preserveRB:t}){let n;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const a=d(this,Je).get(s);if(a)switch(n){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!a.visible,t);break}}_(this,uo,null)}get hasInitialVisibility(){return d(this,bc)===null||this.getHash()===d(this,bc)}getOrder(){return d(this,Je).size?d(this,Ec)?d(this,Ec).slice():[...d(this,Je).keys()]:null}getGroups(){return d(this,Je).size>0?Ob(d(this,Je)):null}getGroup(e){return d(this,Je).get(e)||null}getHash(){if(d(this,uo)!==null)return d(this,uo);const e=new _C;for(const[t,n]of d(this,Je))e.update(`${t}:${n.visible}`);return _(this,uo,e.hexdigest())}}uo=new WeakMap,Je=new WeakMap,bc=new WeakMap,Ec=new WeakMap,th=new WeakSet,Ew=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const a=e[s];let l;if(Array.isArray(a))l=k(this,th,Ew).call(this,a);else if(d(this,Je).has(a))l=d(this,Je).get(a).visible;else return Oe(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class lO{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Bt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:l,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,(a==null?void 0:a.length)>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,f)=>{this._onReceiveData({begin:h,chunk:f})}),e.addProgressListener((h,f)=>{this._onProgress({loaded:h,total:f})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(n),!0)});Bt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,s,a;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(a=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||a.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Bt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new cO(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new uO(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class cO{constructor(e,t,n=!1,s=null){this._stream=e,this._done=n||!1,this._filename=Bb(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class uO{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function dO(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let g=c(t);return g=unescape(g),g=h(g),g=f(g),a(g)}if(t=l(i),t){const g=f(t);return a(g)}if(t=n("filename","i").exec(i),t){t=t[1];let g=c(t);return g=f(g),a(g)}function n(g,m){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function s(g,m){if(g){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(g,{fatal:!0}),b=im(m);m=y.decode(b),e=!1}catch{}}return m}function a(g){return e&&/[\x80-\xff]/.test(g)&&(g=s("utf-8",g),e&&(g=s("iso-8859-1",g))),g}function l(g){const m=[];let y;const b=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=b.exec(g))!==null;){let[,x,T,A]=y;if(x=parseInt(x,10),x in m){if(x===0)break;continue}m[x]=[T,A]}const E=[];for(let x=0;x<m.length&&x in m;++x){let[T,A]=m[x];A=c(A),T&&(A=unescape(A),x===0&&(A=h(A))),E.push(A)}return E.join("")}function c(g){if(g.startsWith('"')){const m=g.slice(1).split('\\"');for(let y=0;y<m.length;++y){const b=m[y].indexOf('"');b!==-1&&(m[y]=m[y].slice(0,b),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}g=m.join('"')}return g}function h(g){const m=g.indexOf("'");if(m===-1)return g;const y=g.slice(0,m),E=g.slice(m+1).replace(/^[^']*'/,"");return s(y,E)}function f(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,b,E){if(b==="q"||b==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,T){return String.fromCharCode(parseInt(T,16))}),s(y,E);try{E=atob(E)}catch{}return s(y,E)})}return""}function Vb(i,e){const t=new Headers;if(!i||!e||typeof e!="object")return t;for(const n in e){const s=e[n];s!==void 0&&t.append(n,s)}return t}function Wb({responseHeaders:i,isHttp:e,rangeChunkSize:t,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(i.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*t)||n||!e||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Gb(i){const e=i.get("Content-Disposition");if(e){let t=dO(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Bb(t))return t}return null}function am(i,e){return i===404||i===0&&e.startsWith("file:")?new hl('Missing PDF "'+e+'".'):new rm(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i)}function jC(i){return i===200||i===206}function BC(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function zC(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(Oe(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class HS{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Vb(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new hO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new fO(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class hO{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),s=t.url;fetch(s,BC(n,this._withCredentials,this._abortController)).then(a=>{if(!jC(a.status))throw am(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:c,suggestedLength:h}=Wb({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=Gb(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new fl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:zC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class fO{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${t}-${n-1}`);const l=s.url;fetch(l,BC(a,this._withCredentials,this._abortController)).then(c=>{if(!jC(c.status))throw am(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:zC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Av=200,Cv=206;function pO(i){const e=i.response;return typeof e!="string"?e:im(e).buffer}class gO{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Vb(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const s={begin:e,end:t};for(const a in n)s[a]=n[a];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,l]of this.headers)t.setRequestHeader(a,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=Cv):s.expectedStatus=Av,t.responseType="arraybuffer",e.onError&&(t.onerror=function(a){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var s;const n=this.pendingRequests[e];n&&((s=n.onProgress)==null||s.call(n,t))}onStateChange(e,t){var h,f,g;const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){(h=n.onError)==null||h.call(n,s.status);return}const a=s.status||Av;if(!(a===Av&&n.expectedStatus===Cv)&&a!==n.expectedStatus){(f=n.onError)==null||f.call(n,s.status);return}const c=pO(s);if(a===Cv){const m=s.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(m);n.onDone({begin:parseInt(y[1],10),chunk:c})}else c?n.onDone({begin:0,chunk:c}):(g=n.onError)==null||g.call(n,s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class mO{constructor(e){this._source=e,this._manager=new gO(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Bt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new yO(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new vO(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class yO{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(l=>{const[c,...h]=l.split(": ");return[c,h.join(": ")]})),{allowRangeRequests:s,suggestedLength:a}=Wb({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Gb(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=am(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class vO{constructor(e,t,n){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=am(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const wO=/^[a-z][a-z0-9\-+.]+:/i;function bO(i){if(wO.test(i))return new URL(i);const e=Po.get("url");return new URL(e.pathToFileURL(i))}function HC(i,e,t){return i.protocol==="http:"?Po.get("http").request(i,{headers:e},t):Po.get("https").request(i,{headers:e},t)}class EO{constructor(e){this.source=e,this.url=bO(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=Vb(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _O(this):new xO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new AO(this,e,t):new SO(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class UC{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new fl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class $C{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class xO extends UC{constructor(e){super(e);const t=Object.fromEntries(e.headers),n=s=>{if(s.statusCode===404){const h=new hl(`Missing PDF "${this._url}".`);this._storedError=h,this._headersCapability.reject(h);return}this._headersCapability.resolve(),this._setReadableStream(s);const a=new Headers(this._readableStream.headers),{allowRangeRequests:l,suggestedLength:c}=Wb({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=Gb(a)};this._request=HC(this._url,t,n),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class SO extends $C{constructor(e,t,n){super(e);const s=Object.fromEntries(e.headers);s.Range=`bytes=${t}-${n-1}`;const a=l=>{if(l.statusCode===404){const c=new hl(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(l)};this._request=HC(this._url,s,a),this._request.on("error",l=>{this._storedError=l}),this._request.end()}}class _O extends UC{constructor(e){super(e);const t=Po.get("fs");t.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new hl(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class AO extends $C{constructor(e,t,n){super(e);const s=Po.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}}const CO=1e5,Fn=30,kO=.8;var r_,ho,zn,nh,rh,Ra,es,ih,sh,Pa,xc,Sc,fo,_c,oh,Ac,La,ah,lh,bt,Ma,Ia,ch,po,Cc,_s,VC,WC,Sw,sr,qp,_w,GC,qC;let xw=(bt=class{constructor({textContentSource:e,container:t,viewport:n}){R(this,_s);R(this,ho,Promise.withResolvers());R(this,zn,null);R(this,nh,!1);R(this,rh,!!((r_=globalThis.FontInspector)!=null&&r_.enabled));R(this,Ra,null);R(this,es,null);R(this,ih,0);R(this,sh,0);R(this,Pa,null);R(this,xc,null);R(this,Sc,0);R(this,fo,0);R(this,_c,Object.create(null));R(this,oh,[]);R(this,Ac,null);R(this,La,[]);R(this,ah,new WeakMap);R(this,lh,null);var h;if(e instanceof ReadableStream)_(this,Ac,e);else if(typeof e=="object")_(this,Ac,new ReadableStream({start(f){f.enqueue(e),f.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,zn,_(this,xc,t)),_(this,fo,n.scale*(globalThis.devicePixelRatio||1)),_(this,Sc,n.rotation),_(this,es,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:l,pageY:c}=n.rawDims;_(this,lh,[1,0,0,-1,-l,c+a]),_(this,sh,s),_(this,ih,a),k(h=bt,sr,GC).call(h),ol(t,n),d(this,ho).promise.finally(()=>{d(bt,Cc).delete(this),_(this,es,null),_(this,_c,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Tn.platform;return Ve(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{d(this,Pa).read().then(({value:t,done:n})=>{if(n){d(this,ho).resolve();return}d(this,Ra)??_(this,Ra,t.lang),Object.assign(d(this,_c),t.styles),k(this,_s,VC).call(this,t.items),e()},d(this,ho).reject)};return _(this,Pa,d(this,Ac).getReader()),d(bt,Cc).add(this),e(),d(this,ho).promise}update({viewport:e,onBefore:t=null}){var a;const n=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==d(this,Sc)&&(t==null||t(),_(this,Sc,s),ol(d(this,xc),{rotation:s})),n!==d(this,fo)){t==null||t(),_(this,fo,n);const l={div:null,properties:null,ctx:k(a=bt,sr,qp).call(a,d(this,Ra))};for(const c of d(this,La))l.properties=d(this,ah).get(c),l.div=c,k(this,_s,Sw).call(this,l)}}cancel(){var t;const e=new fl("TextLayer task cancelled.");(t=d(this,Pa))==null||t.cancel(e).catch(()=>{}),_(this,Pa,null),d(this,ho).reject(e)}get textDivs(){return d(this,La)}get textContentItemsStr(){return d(this,oh)}static cleanup(){if(!(d(this,Cc).size>0)){d(this,Ma).clear();for(const{canvas:e}of d(this,Ia).values())e.remove();d(this,Ia).clear()}}},ho=new WeakMap,zn=new WeakMap,nh=new WeakMap,rh=new WeakMap,Ra=new WeakMap,es=new WeakMap,ih=new WeakMap,sh=new WeakMap,Pa=new WeakMap,xc=new WeakMap,Sc=new WeakMap,fo=new WeakMap,_c=new WeakMap,oh=new WeakMap,Ac=new WeakMap,La=new WeakMap,ah=new WeakMap,lh=new WeakMap,Ma=new WeakMap,Ia=new WeakMap,ch=new WeakMap,po=new WeakMap,Cc=new WeakMap,_s=new WeakSet,VC=function(e){var s,a;if(d(this,nh))return;(a=d(this,es)).ctx??(a.ctx=k(s=bt,sr,qp).call(s,d(this,Ra)));const t=d(this,La),n=d(this,oh);for(const l of e){if(t.length>CO){Oe("Ignoring additional textDivs for performance reasons."),_(this,nh,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const c=d(this,zn);_(this,zn,document.createElement("span")),d(this,zn).classList.add("markedContent"),l.id!==null&&d(this,zn).setAttribute("id",`${l.id}`),c.append(d(this,zn))}else l.type==="endMarkedContent"&&_(this,zn,d(this,zn).parentNode);continue}n.push(l.str),k(this,_s,WC).call(this,l)}},WC=function(e){var x;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};d(this,La).push(t);const s=be.transform(d(this,lh),e.transform);let a=Math.atan2(s[1],s[0]);const l=d(this,_c)[e.fontName];l.vertical&&(a+=Math.PI/2);let c=d(this,rh)&&l.fontSubstitution||l.fontFamily;c=bt.fontFamilyMap.get(c)||c;const h=Math.hypot(s[2],s[3]),f=h*k(x=bt,sr,qC).call(x,c,d(this,Ra));let g,m;a===0?(g=s[4],m=s[5]-f):(g=s[4]+f*Math.sin(a),m=s[5]-f*Math.cos(a));const y="calc(var(--scale-factor)*",b=t.style;d(this,zn)===d(this,xc)?(b.left=`${(100*g/d(this,sh)).toFixed(2)}%`,b.top=`${(100*m/d(this,ih)).toFixed(2)}%`):(b.left=`${y}${g.toFixed(2)}px)`,b.top=`${y}${m.toFixed(2)}px)`),b.fontSize=`${y}${(d(bt,po)*h).toFixed(2)}px)`,b.fontFamily=c,n.fontSize=h,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,d(this,rh)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),a!==0&&(n.angle=a*(180/Math.PI));let E=!1;if(e.str.length>1)E=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const T=Math.abs(e.transform[0]),A=Math.abs(e.transform[3]);T!==A&&Math.max(T,A)/Math.min(T,A)>1.5&&(E=!0)}if(E&&(n.canvasWidth=l.vertical?e.height:e.width),d(this,ah).set(t,n),d(this,es).div=t,d(this,es).properties=n,k(this,_s,Sw).call(this,d(this,es)),n.hasText&&d(this,zn).append(t),n.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),d(this,zn).append(T)}},Sw=function(e){var c;const{div:t,properties:n,ctx:s}=e,{style:a}=t;let l="";if(d(bt,po)>1&&(l=`scale(${1/d(bt,po)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:h}=a,{canvasWidth:f,fontSize:g}=n;k(c=bt,sr,_w).call(c,s,g*d(this,fo),h);const{width:m}=s.measureText(t.textContent);m>0&&(l=`scaleX(${f*d(this,fo)/m}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(a.transform=l)},sr=new WeakSet,qp=function(e=null){let t=d(this,Ia).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,Ia).set(e,t),d(this,ch).set(t,{size:0,family:""})}return t},_w=function(e,t,n){const s=d(this,ch).get(e);t===s.size&&n===s.family||(e.font=`${t}px ${n}`,s.size=t,s.family=n)},GC=function(){if(d(this,po)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,po,e.getBoundingClientRect().height),e.remove()},qC=function(e,t){const n=d(this,Ma).get(e);if(n)return n;const s=k(this,sr,qp).call(this,t);s.canvas.width=s.canvas.height=Fn,k(this,sr,_w).call(this,s,Fn,e);const a=s.measureText("");let l=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);if(l){const g=l/(l+c);return d(this,Ma).set(e,g),s.canvas.width=s.canvas.height=0,g}s.strokeStyle="red",s.clearRect(0,0,Fn,Fn),s.strokeText("g",0,0);let h=s.getImageData(0,0,Fn,Fn).data;c=0;for(let g=h.length-1-3;g>=0;g-=4)if(h[g]>0){c=Math.ceil(g/4/Fn);break}s.clearRect(0,0,Fn,Fn),s.strokeText("A",0,Fn),h=s.getImageData(0,0,Fn,Fn).data,l=0;for(let g=0,m=h.length;g<m;g+=4)if(h[g]>0){l=Fn-Math.floor(g/4/Fn);break}s.canvas.width=s.canvas.height=0;const f=l?l/(l+c):kO;return d(this,Ma).set(e,f),f},R(bt,sr),R(bt,Ma,new Map),R(bt,Ia,new Map),R(bt,ch,new WeakMap),R(bt,po,null),R(bt,Cc,new Set),bt);class kd{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function s(a){var h;if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(kd.shouldBuildText(c))(h=a==null?void 0:a.attributes)!=null&&h.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&t.push({str:l}),!!a.children)for(const f of a.children)s(f)}return s(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const TO=65536,RO=100,PO=5e3,LO=vn?$D:zD,MO=vn?VD:RC,IO=vn?UD:HD,NO=vn?WD:IC;function DO(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new Aw,{docId:t}=e,n=i.url?OO(i.url):null,s=i.data?FO(i.data):null,a=i.httpHeaders||null,l=i.withCredentials===!0,c=i.password??null,h=i.range instanceof XC?i.range:null,f=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:TO;let g=i.worker instanceof tc?i.worker:null;const m=i.verbosity,y=typeof i.docBaseUrl=="string"&&!om(i.docBaseUrl)?i.docBaseUrl:null,b=typeof i.cMapUrl=="string"?i.cMapUrl:null,E=i.cMapPacked!==!1,x=i.CMapReaderFactory||MO,T=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,A=i.StandardFontDataFactory||NO,P=i.stopAtErrors!==!0,L=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,I=i.isEvalSupported!==!1,O=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!vn,N=typeof i.isChrome=="boolean"?i.isChrome:!Tn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),z=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,V=typeof i.disableFontFace=="boolean"?i.disableFontFace:vn,q=i.fontExtraProperties===!0,X=i.enableXfa===!0,Z=i.ownerDocument||globalThis.document,xe=i.disableRange===!0,ce=i.disableStream===!0,oe=i.disableAutoFetch===!0,ge=i.pdfBug===!0,J=i.CanvasFactory||LO,ee=i.FilterFactory||IO,W=i.enableHWA===!0,re=h?h.length:i.length??NaN,ne=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!vn&&!V,B=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:x===RC&&A===IC&&b&&T&&sd(b,document.baseURI)&&sd(T,document.baseURI);i.canvasFactory&&RS("`canvasFactory`-instance option, please use `CanvasFactory` instead."),i.filterFactory&&RS("`filterFactory`-instance option, please use `FilterFactory` instead.");const G=null;yD(m);const ue={canvasFactory:new J({ownerDocument:Z,enableHWA:W}),filterFactory:new ee({docId:t,ownerDocument:Z}),cMapReaderFactory:B?null:new x({baseUrl:b,isCompressed:E}),standardFontDataFactory:B?null:new A({baseUrl:T})};if(!g){const we={verbosity:m,port:vs.workerPort};g=we.port?tc.fromPort(we):new tc(we),e._worker=g}const Ee={docId:t,apiVersion:"4.8.69",data:s,password:c,disableAutoFetch:oe,rangeChunkSize:f,length:re,docBaseUrl:y,enableXfa:X,evaluatorOptions:{maxImageSize:L,disableFontFace:V,ignoreErrors:P,isEvalSupported:I,isOffscreenCanvasSupported:O,isChrome:N,canvasMaxAreaInBytes:z,fontExtraProperties:q,useSystemFonts:ne,cMapUrl:B?b:null,standardFontDataUrl:B?T:null}},ke={disableFontFace:V,fontExtraProperties:q,ownerDocument:Z,pdfBug:ge,styleElement:G,loadingParams:{disableAutoFetch:oe,enableXfa:X}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const we=g.messageHandler.sendWithPromise("GetDocRequest",Ee,s?[s.buffer]:null);let me;if(h)me=new lO(h,{disableRange:xe,disableStream:ce});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Ne;vn?Ne=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&sd(n)?HS:EO:Ne=sd(n)?HS:mO,me=new Ne({url:n,length:re,httpHeaders:a,withCredentials:l,rangeChunkSize:f,disableRange:xe,disableStream:ce})}return we.then(Ne=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ze=new hd(t,Ne,g.port),Fe=new HO(ze,e,me,ke,ue);e._transport=Fe,ze.send("Ready",null)})}).catch(e._capability.reject),e}function OO(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(vn&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function FO(i){if(vn&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return im(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function US(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var jg;const Bg=class Bg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${xn(Bg,jg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};jg=new WeakMap,R(Bg,jg,0);let Aw=Bg,XC=class{constructor(e,t,n=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){at("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class jO{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ve(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var go,ts,br,Yl,Xp;class BO{constructor(e,t,n,s=!1){R(this,br);R(this,go,null);R(this,ts,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=s?new TS:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new YC,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:a=!1}={}){return new Xh({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ve(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:s=Qs.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:g=null,isEditing:m=!1}){var I,O;(I=this._stats)==null||I.time("Overall");const y=this._transport.getRenderingIntent(n,s,g,m),{renderingIntent:b,cacheKey:E}=y;_(this,ts,!1),k(this,br,Xp).call(this),c||(c=this._transport.getOptionalContentConfig(b));let x=this._intentStates.get(E);x||(x=Object.create(null),this._intentStates.set(E,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const T=!!(b&rr.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(O=this._stats)==null||O.time("Page Request"),this._pumpOperatorList(y));const A=N=>{var z;x.renderTasks.delete(P),(this._maybeCleanupAfterRender||T)&&_(this,ts,!0),k(this,br,Yl).call(this,!T),N?(P.capability.reject(N),this._abortOperatorList({intentState:x,reason:N instanceof Error?N:new Error(N)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(z=globalThis.Stats)!=null&&z.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new kw({callback:A,params:{canvasContext:e,viewport:t,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:f});(x.renderTasks||(x.renderTasks=new Set)).add(P);const L=P.task;return Promise.all([x.displayReadyCapability.promise,c]).then(([N,z])=>{var V;if(this.destroyed){A();return}if((V=this._stats)==null||V.time("Rendering"),!(z.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:N,optionalContentConfig:z}),P.operatorListChanged()}).catch(A),L}getOperatorList({intent:e="display",annotationMode:t=Qs.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){var f;function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(e,t,n,s,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>kd.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,s){function a(){l.read().then(function({value:h,done:f}){if(f){n(c);return}c.lang??(c.lang=h.lang),Object.assign(c.styles,h.styles),c.items.push(...h.items),a()},s)}const l=t.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),_(this,ts,!1),k(this,br,Xp).call(this),Promise.all(e)}cleanup(e=!1){_(this,ts,!0);const t=k(this,br,Yl).call(this,!1);return e&&t&&this._stats&&(this._stats=new TS),t}_startRenderPage(e,t){var s,a;const n=this._intentStates.get(t);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&k(this,br,Yl).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:s}){const{map:a,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:s},l).getReader(),f=this._intentStates.get(t);f.streamReader=h;const g=()=>{h.read().then(({value:m,done:y})=>{if(y){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),g())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const y of f.renderTasks)y.operatorListChanged();k(this,br,Yl).call(this,!0)}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};g()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof jb){let s=RO;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new fl(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}go=new WeakMap,ts=new WeakMap,br=new WeakSet,Yl=function(e=!1){if(k(this,br,Xp).call(this),!d(this,ts)||this.destroyed)return!1;if(e)return _(this,go,setTimeout(()=>{_(this,go,null),k(this,br,Yl).call(this,!1)},PO)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,ts,!1),!0},Xp=function(){d(this,go)&&(clearTimeout(d(this,go)),_(this,go,null))};var ns,zg;class zO{constructor(){R(this,ns,new Map);R(this,zg,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};d(this,zg).then(()=>{for(const[s]of d(this,ns))s.call(this,n)})}addEventListener(e,t,n=null){let s=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){Oe("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);s=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}d(this,ns).set(t,s)}removeEventListener(e,t){const n=d(this,ns).get(t);n==null||n(),d(this,ns).delete(t)}terminate(){for(const[,e]of d(this,ns))e==null||e();d(this,ns).clear()}}ns=new WeakMap,zg=new WeakMap;var Hg,Na,Da,kc,Yp,Tc,Kp;const ut=class ut{constructor({name:e=null,port:t=null,verbosity:n=vD()}={}){R(this,kc);var s;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=d(ut,Da))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(d(ut,Da)||_(ut,Da,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return vn?Promise.all([Po.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new hd("main","worker",e),this._messageHandler.on("ready",function(){}),k(this,kc,Yp).call(this)}_initialize(){if(d(ut,Na)||d(ut,Tc,Kp)){this._setupFakeWorker();return}let{workerSrc:e}=ut;try{ut._isSameOrigin(window.location.href,e)||(e=ut._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new hd("main","worker",t),s=()=>{a.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:a.signal}),n.on("test",c=>{if(a.abort(),this.destroyed||!c){s();return}this._messageHandler=n,this._port=t,this._webWorker=t,k(this,kc,Yp).call(this)}),n.on("ready",c=>{if(a.abort(),this.destroyed){s();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{nm("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(ut,Na)||(Oe("Setting up fake worker."),_(ut,Na,!0)),ut._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new zO;this._port=t;const n=`fake${xn(ut,Hg)._++}`,s=new hd(n+"_worker",n,t);e.setup(s,t),this._messageHandler=new hd(n,n+"_worker",t),k(this,kc,Yp).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=d(ut,Da))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=d(this,Da))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ut(e)}static get workerSrc(){if(vs.workerSrc)return vs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ve(this,"_setupFakeWorkerGlobal",(async()=>d(this,Tc,Kp)?d(this,Tc,Kp):(await import(this.workerSrc)).WorkerMessageHandler)())}};Hg=new WeakMap,Na=new WeakMap,Da=new WeakMap,kc=new WeakSet,Yp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Tc=new WeakSet,Kp=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},R(ut,Tc),R(ut,Hg,0),R(ut,Na,!1),R(ut,Da),vn&&(_(ut,Na,!0),vs.workerSrc||(vs.workerSrc="./pdf.worker.mjs")),ut._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const s=new URL(t,n);return n.origin===s.origin},ut._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let tc=ut;var rs,mi,Rc,Pc,yi,Oa,fd;class HO{constructor(e,t,n,s,a){R(this,Oa);R(this,rs,new Map);R(this,mi,new Map);R(this,Rc,new Map);R(this,Pc,new Map);R(this,yi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new YC,this.fontLoader=new jD({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ve(this,"annotationStorage",new Ub)}getRenderingIntent(e,t=Qs.ENABLE,n=null,s=!1,a=!1){let l=rr.DISPLAY,c=fw;switch(e){case"any":l=rr.ANY;break;case"display":break;case"print":l=rr.PRINT;break;default:Oe(`getRenderingIntent - invalid intent: ${e}`)}const h=l&rr.PRINT&&n instanceof CC?n:this.annotationStorage;switch(t){case Qs.DISABLE:l+=rr.ANNOTATIONS_DISABLE;break;case Qs.ENABLE:break;case Qs.ENABLE_FORMS:l+=rr.ANNOTATIONS_FORMS;break;case Qs.ENABLE_STORAGE:l+=rr.ANNOTATIONS_STORAGE,c=h.serializable;break;default:Oe(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(l+=rr.IS_EDITING),a&&(l+=rr.OPLIST);const{ids:f,hash:g}=h.modifiedIds,m=[l,c.hash,g];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=d(this,yi))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of d(this,mi).values())e.push(s._destroy());d(this,mi).clear(),d(this,Rc).clear(),d(this,Pc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),d(this,rs).clear(),this.filterFactory.destroy(),xw.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new fl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,s)=>{Bt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){s.close();return}Bt(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:l}=this._fullReader;return(!s||!a)&&(this._lastProgress&&((c=t.onProgress)==null||c.call(t,this._lastProgress)),this._fullReader.onProgress=h=>{var f;(f=t.onProgress)==null||f.call(t,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:l}}),e.on("GetRangeReader",(n,s)=>{Bt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){s.close();return}Bt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{a.cancel(l),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new jO(n,this))}),e.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new Wv(n.message,n.code);break;case"InvalidPDFException":s=new JA(n.message);break;case"MissingPDFException":s=new hl(n.message);break;case"UnexpectedResponseException":s=new rm(n.message,n.status);break;case"UnknownErrorException":s=new Gv(n.message,n.details);break;default:at("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",n=>{if(_(this,yi,Promise.withResolvers()),t.onPassword){const s=a=>{a instanceof Error?d(this,yi).reject(a):d(this,yi).resolve({password:a})};try{t.onPassword(s,n.code)}catch(a){d(this,yi).reject(a)}}else d(this,yi).reject(new Wv(n.message,n.code));return d(this,yi).promise}),e.on("DataLoaded",n=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;d(this,mi).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,s,a])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:c,fontExtraProperties:h,pdfBug:f}=this._params;if("error"in a){const b=a.error;Oe(`Error during font loading: ${b}`),this.commonObjs.resolve(n,b);break}const g=f&&((l=globalThis.FontInspector)!=null&&l.enabled)?(b,E)=>globalThis.FontInspector.fontAdded(b,E):null,m=new BD(a,{disableFontFace:c,inspectFont:g});this.fontLoader.bind(m).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h&&m.data&&(m.data=null),this.commonObjs.resolve(n,m)});break;case"CopyLocalImage":const{imageRef:y}=a;Bt(y,"The imageRef must be defined.");for(const b of d(this,mi).values())for(const[,E]of b.objs)if((E==null?void 0:E.ref)===y)return E.dataLen?(this.commonObjs.resolve(n,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([n,s,a,l])=>{var h;if(this.destroyed)return;const c=d(this,mi).get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){(h=l==null?void 0:l.bitmap)==null||h.close();return}switch(a){case"Image":c.objs.resolve(n,l),(l==null?void 0:l.dataLen)>fD&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",n=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Oe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=d(this,Rc).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&d(this,Pc).set(a.refStr,e);const l=new BO(t,a,this,this._params.pdfBug);return d(this,mi).set(t,l),l});return d(this,Rc).set(t,s),s}getPageIndex(e){return US(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return k(this,Oa,fd).call(this,"GetFieldObjects")}hasJSActions(){return k(this,Oa,fd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return k(this,Oa,fd).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return k(this,Oa,fd).call(this,"GetOptionalContentConfig").then(t=>new aO(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=d(this,rs).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(s=>{var a,l;return{info:s[0],metadata:s[1]?new sO(s[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return d(this,rs).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of d(this,mi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),d(this,rs).clear(),this.filterFactory.destroy(!0),xw.cleanup()}}cachedPageNumber(e){if(!US(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return d(this,Pc).get(t)??null}}rs=new WeakMap,mi=new WeakMap,Rc=new WeakMap,Pc=new WeakMap,yi=new WeakMap,Oa=new WeakSet,fd=function(e,t=null){const n=d(this,rs).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,t);return d(this,rs).set(e,s),s};const Ap=Symbol("INITIAL_DATA");var zr,uh,Cw;class YC{constructor(){R(this,uh);R(this,zr,Object.create(null))}get(e,t=null){if(t){const s=k(this,uh,Cw).call(this,e);return s.promise.then(()=>t(s.data)),null}const n=d(this,zr)[e];if(!n||n.data===Ap)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=d(this,zr)[e];return!!t&&t.data!==Ap}resolve(e,t=null){const n=k(this,uh,Cw).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in d(this,zr)){const{data:n}=d(this,zr)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}_(this,zr,Object.create(null))}*[Symbol.iterator](){for(const e in d(this,zr)){const{data:t}=d(this,zr)[e];t!==Ap&&(yield[e,t])}}}zr=new WeakMap,uh=new WeakSet,Cw=function(e){var t;return(t=d(this,zr))[e]||(t[e]={...Promise.withResolvers(),data:Ap})};var mo;class UO{constructor(e){R(this,mo,null);_(this,mo,e),this.onContinue=null}get promise(){return d(this,mo).capability.promise}cancel(e=0){d(this,mo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=d(this,mo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=d(this,mo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}mo=new WeakMap;var yo,Fa;const aa=class aa{constructor({callback:e,params:t,objs:n,commonObjs:s,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:g=!1,pdfBug:m=!1,pageColors:y=null}){R(this,yo,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=m,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new UO(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,h;if(this.cancelled)return;if(this._canvas){if(d(aa,Fa).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(aa,Fa).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:a,background:l}=this.params;this.gfx=new ec(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),d(this,yo)&&(window.cancelAnimationFrame(d(this,yo)),_(this,yo,null)),d(aa,Fa).delete(this._canvas),this.callback(e||new jb(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,yo,window.requestAnimationFrame(()=>{_(this,yo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(aa,Fa).delete(this._canvas),this.callback())))}};yo=new WeakMap,Fa=new WeakMap,R(aa,Fa,new WeakSet);let kw=aa;const $O="4.8.69",VO="3634dab10";function $S(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function rd(i){return Math.max(0,Math.min(255,255*i))}class VS{static CMYK_G([e,t,n,s]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=rd(e),[e,e,e]}static G_HTML([e]){const t=$S(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(rd)}static RGB_HTML(e){return`#${e.map($S).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,n+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,n,s]){return[rd(1-Math.min(1,e+s)),rd(1-Math.min(1,n+s)),rd(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const s=1-e,a=1-t,l=1-n,c=Math.min(s,a,l);return["CMYK",s,a,l,c]}}class WO{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){at("Abstract method `_createSVG` called.")}}class qb extends WO{_createSVG(e){return document.createElementNS(Wi,e)}}class KC{static setupStorage(e,t,n,s,a){const l=s.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),a==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",c=>{s.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),a==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const h=c.target.options,f=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:s,linkService:a}){const{attributes:l}=t,c=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[h,f]of Object.entries(l))if(f!=null)switch(h){case"class":f.length&&e.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!c||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,f)}c&&a.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var m,y;const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,a=e.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:a,linkService:n});const c=a!=="richText",h=e.div;if(h.append(l),e.viewport){const b=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=b}c&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(s.children.length===0){if(s.value){const b=document.createTextNode(s.value);l.append(b),c&&kd.shouldBuildText(s.name)&&f.push(b)}return{textDivs:f}}const g=[[s,-1,l]];for(;g.length>0;){const[b,E,x]=g.at(-1);if(E+1===b.children.length){g.pop();continue}const T=b.children[++g.at(-1)[1]];if(T===null)continue;const{name:A}=T;if(A==="#text"){const L=document.createTextNode(T.value);f.push(L),x.append(L);continue}const P=(m=T==null?void 0:T.attributes)!=null&&m.xmlns?document.createElementNS(T.attributes.xmlns,A):document.createElement(A);if(x.append(P),T.attributes&&this.setAttributes({html:P,element:T,storage:t,intent:a,linkService:n}),((y=T.children)==null?void 0:y.length)>0)g.push([T,-1,P]);else if(T.value){const L=document.createTextNode(T.value);c&&kd.shouldBuildText(A)&&f.push(L),P.append(L)}}for(const b of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))b.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Kh=1e3,GO=9,ll=new WeakSet;function bs(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class qO{static create(e){switch(e.data.annotationType){case Dt.LINK:return new QC(e);case Dt.TEXT:return new XO(e);case Dt.WIDGET:switch(e.data.fieldType){case"Tx":return new YO(e);case"Btn":return e.data.radioButton?new e1(e):e.data.checkBox?new QO(e):new JO(e);case"Ch":return new ZO(e);case"Sig":return new KO(e)}return new pl(e);case Dt.POPUP:return new Rw(e);case Dt.FREETEXT:return new s1(e);case Dt.LINE:return new tF(e);case Dt.SQUARE:return new nF(e);case Dt.CIRCLE:return new rF(e);case Dt.POLYLINE:return new o1(e);case Dt.CARET:return new sF(e);case Dt.INK:return new Xb(e);case Dt.POLYGON:return new iF(e);case Dt.HIGHLIGHT:return new a1(e);case Dt.UNDERLINE:return new oF(e);case Dt.SQUIGGLY:return new aF(e);case Dt.STRIKEOUT:return new lF(e);case Dt.STAMP:return new l1(e);case Dt.FILEATTACHMENT:return new cF(e);default:return new Ct(e)}}}var ja,Lc,Mc,dh,Tw;const Jb=class Jb{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){R(this,dh);R(this,ja,null);R(this,Lc,!1);R(this,Mc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Jb._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;d(this,ja)||_(this,ja,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&k(this,dh,Tw).call(this,t),(n=d(this,Mc))==null||n.popup.updateEdited(e)}resetEdited(){var e;d(this,ja)&&(k(this,dh,Tw).call(this,d(this,ja).rect),(e=d(this,Mc))==null||e.popup.resetEdited(),_(this,ja,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),this instanceof pl||(a.tabIndex=Kh);const{style:l}=a;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof Rw){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:c,height:h}=bs(t.rect);if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,T=t.borderStyle.verticalCornerRadius;if(x>0||T>0){const P=`calc(${x}px * var(--scale-factor)) / calc(${T}px * var(--scale-factor))`;l.borderRadius=P}else if(this instanceof e1){const P=`calc(${c}px * var(--scale-factor)) / calc(${h}px * var(--scale-factor))`;l.borderRadius=P}switch(t.borderStyle.style){case td.SOLID:l.borderStyle="solid";break;case td.DASHED:l.borderStyle="dashed";break;case td.BEVELED:Oe("Unimplemented border style: beveled");break;case td.INSET:Oe("Unimplemented border style: inset");break;case td.UNDERLINE:l.borderBottomStyle="solid";break}const A=t.borderColor||null;A?(_(this,Lc,!0),l.borderColor=be.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):l.borderWidth=0}const f=be.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:g,pageHeight:m,pageX:y,pageY:b}=s.rawDims;l.left=`${100*(f[0]-y)/g}%`,l.top=`${100*(f[1]-b)/m}%`;const{rotation:E}=t;return t.hasOwnCanvas||E===0?(l.width=`${100*c/g}%`,l.height=`${100*h/m}%`):this.setRotation(E,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:a,height:l}=bs(this.data.rect);let c,h;e%180===0?(c=100*a/n,h=100*l/s):(c=100*l/n,h=100*a/s),t.style.width=`${c}%`,t.style.height=`${h}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,s)=>{const a=s.detail[t],l=a[0],c=a.slice(1);s.target.style[n]=VS[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:VS[`${l}_rgb`](c)})};return Ve(this,"_commonActions",{display:t=>{const{display:n}=t.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const s of Object.keys(t.detail)){const a=e[s]||n[s];a==null||a(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[s,a]of Object.entries(t)){const l=n[s];if(l){const c={detail:{[s]:a},target:e};l(c),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,s,a]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,T,A,P]=e.subarray(2,6);if(s===x&&a===T&&t===A&&n===P)return}const{style:l}=this.container;let c;if(d(this,Lc)){const{borderColor:x,borderWidth:T}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const h=s-t,f=a-n,{svgFactory:g}=this,m=g.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0);const y=g.createElement("defs");m.append(y);const b=g.createElement("clipPath"),E=`clippath_${this.data.id}`;b.setAttribute("id",E),b.setAttribute("clipPathUnits","objectBoundingBox"),y.append(b);for(let x=2,T=e.length;x<T;x+=8){const A=e[x],P=e[x+1],L=e[x+2],I=e[x+3],O=g.createElement("rect"),N=(L-t)/h,z=(a-P)/f,V=(A-L)/h,q=(P-I)/f;O.setAttribute("x",N),O.setAttribute("y",z),O.setAttribute("width",V),O.setAttribute("height",q),b.append(O),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${z}" width="${V}" height="${q}"/>`)}d(this,Lc)&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:e}=this,t=_(this,Mc,new Rw({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){at("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:a,id:l,exportValues:c}of s){if(a===-1||l===t)continue;const h=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!ll.has(f)){Oe(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:f})}return n}for(const s of document.getElementsByName(e)){const{exportValue:a}=s,l=s.getAttribute("data-element-id");l!==t&&ll.has(s)&&n.push({id:l,exportValue:a,domElement:s})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};ja=new WeakMap,Lc=new WeakMap,Mc=new WeakMap,dh=new WeakSet,Tw=function(e){const{container:{style:t},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:h}}}}=this;n==null||n.splice(0,4,...e);const{width:f,height:g}=bs(e);t.left=`${100*(e[0]-c)/a}%`,t.top=`${100*(l-e[3]+h)/l}%`,s===0?(t.width=`${100*f/a}%`,t.height=`${100*g/l}%`):this.setRotation(s)};let Ct=Jb;var ir,na,JC,ZC;class QC extends Ct{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});R(this,ir);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let a=!1;return t.url?(n.addLinkAttributes(s,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(s,t.action),a=!0):t.attachment?(k(this,ir,JC).call(this,s,t.attachment,t.attachmentDest),a=!0):t.setOCGState?(k(this,ir,ZC).call(this,s,t.setOCGState),a=!0):t.dest?(this._bindLink(s,t.dest),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),a=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&k(this,ir,na).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),k(this,ir,na).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const l=s.get(a);l&&(t[l]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}t.onclick||(t.onclick=()=>!1),k(this,ir,na).call(this)}_bindResetFormAction(t,n){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),k(this,ir,na).call(this),!this._fieldObjects){Oe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var m;s==null||s();const{fields:a,refs:l,include:c}=n,h=[];if(a.length!==0||l.length!==0){const y=new Set(l);for(const b of a){const E=this._fieldObjects[b]||[];for(const{id:x}of E)y.add(x)}for(const b of Object.values(this._fieldObjects))for(const E of b)y.has(E.id)===c&&h.push(E)}else for(const y of Object.values(this._fieldObjects))h.push(...y);const f=this.annotationStorage,g=[];for(const y of h){const{id:b}=y;switch(g.push(b),y.type){case"text":{const x=y.defaultValue||"";f.setValue(b,{value:x});break}case"checkbox":case"radiobutton":{const x=y.defaultValue===y.exportValues;f.setValue(b,{value:x});break}case"combobox":case"listbox":{const x=y.defaultValue||"";f.setValue(b,{value:x});break}default:continue}const E=document.querySelector(`[data-element-id="${b}"]`);if(E){if(!ll.has(E)){Oe(`_bindResetFormAction - element not allowed: ${b}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}ir=new WeakSet,na=function(){this.container.setAttribute("data-internal-link","")},JC=function(t,n,s=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,s),!1},k(this,ir,na).call(this)},ZC=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),k(this,ir,na).call(this)};class XO extends Ct{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class pl extends Ct{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Tn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,s,a){n.includes("mouse")?e.addEventListener(n,l=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var c;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}a&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l)}}))})}_setEventListeners(e,t,n,s){var a,l,c;for(const[h,f]of n)(f==="Action"||(a=this.data.actions)!=null&&a[f])&&((f==="Focus"||f==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,h,f,s),f==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):f==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":be.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||GO,a=e.style;let l;const c=2,h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),g=Math.round(f/(Ev*s))||1,m=f/g;l=Math.min(s,h(m/Ev))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(s,h(f/Ev))}a.fontSize=`calc(${l}px * var(--scale-factor))`,a.color=be.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class YO extends pl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,s){const a=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),a.setValue(l.id,{[s]:n})}render(){var s,a;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let c=l.value||"";const h=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;h&&c.length>h&&(c=c.slice(0,h));let f=l.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;f&&this.data.comb&&(f=f.replaceAll(/\s+/g,""));const g={userValue:c,formattedValue:f,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=f??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",f??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ll.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Kh,this._setRequired(n,this.data.required),h&&(n.maxLength=h),n.addEventListener("input",y=>{e.setValue(t,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),g.formattedValue=null}),n.addEventListener("resetform",y=>{const b=this.data.defaultFieldValue??"";n.value=g.userValue=b,g.formattedValue=null});let m=y=>{const{formattedValue:b}=g;b!=null&&(y.target.value=b),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",b=>{var x;if(g.focused)return;const{target:E}=b;g.userValue&&(E.value=g.userValue),g.lastCommittedValue=E.value,g.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(g.focused=!0)}),n.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const E={value(x){g.userValue=x.detail.value??"",e.setValue(t,{value:g.userValue.toString()}),x.target.value=g.userValue},formattedValue(x){const{formattedValue:T}=x.detail;g.formattedValue=T,T!=null&&x.target!==document.activeElement&&(x.target.value=T),e.setValue(t,{formattedValue:T})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var L;const{charLimit:T}=x.detail,{target:A}=x;if(T===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",T);let P=g.userValue;!P||P.length<=T||(P=P.slice(0,T),A.value=g.userValue=P,e.setValue(t,{value:P}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(E,b)}),n.addEventListener("keydown",b=>{var T;g.commitKey=1;let E=-1;if(b.key==="Escape"?E=0:b.key==="Enter"&&!this.data.multiLine?E=2:b.key==="Tab"&&(g.commitKey=3),E===-1)return;const{value:x}=b.target;g.lastCommittedValue!==x&&(g.lastCommittedValue=x,g.userValue=x,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:E,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const y=m;m=null,n.addEventListener("blur",b=>{var x,T;if(!g.focused||!b.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(g.focused=!1);const{value:E}=b.target;g.userValue=E,g.lastCommittedValue!==E&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:g.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})),y(b)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",b=>{var O;g.lastCommittedValue=null;const{data:E,target:x}=b,{value:T,selectionStart:A,selectionEnd:P}=x;let L=A,I=P;switch(b.inputType){case"deleteWordBackward":{const N=T.substring(0,A).match(/\w*[^\w]*$/);N&&(L-=N[0].length);break}case"deleteWordForward":{const N=T.substring(A).match(/^[^\w]*\w*/);N&&(I+=N[0].length);break}case"deleteContentBackward":A===P&&(L-=1);break;case"deleteContentForward":A===P&&(I+=1);break}b.preventDefault(),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,change:E||"",willCommit:!1,selStart:L,selEnd:I}})}),this._setEventListeners(n,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/h;n.classList.add("comb"),n.style.letterSpacing=`calc(${b}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class KO extends pl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class QO extends pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return ll.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=Kh,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const f of this._getElementsByName(c,n)){const g=h&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=g),e.setValue(f.id,{value:g})}e.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=t.defaultFieldValue||"Off";l.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class e1 extends pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(n,{value:s})),s)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const a=document.createElement("input");if(ll.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=Kh,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const f of this._getElementsByName(c,n))e.setValue(f.id,{value:!1});e.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=t.defaultFieldValue;l.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;a.addEventListener("updatefromsandbox",c=>{const h={value:f=>{const g=l===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const y=g&&m.id===n;m.domElement&&(m.domElement.checked=y),e.setValue(m.id,{value:y})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class JO extends QC{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class ZO extends pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");ll.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Kh;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",g=>{const m=this.data.defaultFieldValue;for(const y of s.options)y.selected=y.value===m});for(const g of this.data.options){const m=document.createElement("option");m.textContent=g.displayValue,m.value=g.exportValue,n.value.includes(g.exportValue)&&(m.setAttribute("selected",!0),a=!1),s.append(m)}let l=null;if(a){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),s.prepend(g),l=()=>{g.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const c=g=>{const m=g?"value":"textContent",{options:y,multiple:b}=s;return b?Array.prototype.filter.call(y,E=>E.selected).map(E=>E[m]):y.selectedIndex===-1?null:y[y.selectedIndex][m]};let h=c(!1);const f=g=>{const m=g.target.options;return Array.prototype.map.call(m,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",g=>{const m={value(y){l==null||l();const b=y.detail.value,E=new Set(Array.isArray(b)?b:[b]);for(const x of s.options)x.selected=E.has(x.value);e.setValue(t,{value:c(!0)}),h=c(!1)},multipleSelection(y){s.multiple=!0},remove(y){const b=s.options,E=y.detail.remove;b[E].selected=!1,s.remove(E),b.length>0&&Array.prototype.findIndex.call(b,T=>T.selected)===-1&&(b[0].selected=!0),e.setValue(t,{value:c(!0),items:f(y)}),h=c(!1)},clear(y){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),h=c(!1)},insert(y){const{index:b,displayValue:E,exportValue:x}=y.detail.insert,T=s.children[b],A=document.createElement("option");A.textContent=E,A.value=x,T?T.before(A):s.append(A),e.setValue(t,{value:c(!0),items:f(y)}),h=c(!1)},items(y){const{items:b}=y.detail;for(;s.length!==0;)s.remove(0);for(const E of b){const{displayValue:x,exportValue:T}=E,A=document.createElement("option");A.textContent=x,A.value=T,s.append(A)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:c(!0),items:f(y)}),h=c(!1)},indices(y){const b=new Set(y.detail.indices);for(const E of y.target.options)E.selected=b.has(E.index);e.setValue(t,{value:c(!0)}),h=c(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(m,g)}),s.addEventListener("input",g=>{var b;const m=c(!0),y=c(!1);e.setValue(t,{value:m}),g.preventDefault(),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,change:y,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):s.addEventListener("input",function(g){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Rw extends Ct{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Ct._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new eF({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${Fb}${n}`).join(",")),this.container}}var Ic,Ug,$g,Nc,Ba,wt,is,Dc,hh,fh,Oc,ss,Hr,os,ph,as,gh,za,Ha,tt,Qp,Pw,t1,n1,r1,i1,Jp,Zp,Lw;class eF{constructor({container:e,color:t,elements:n,titleObj:s,modificationDate:a,contentsObj:l,richText:c,parent:h,rect:f,parentRect:g,open:m}){R(this,tt);R(this,Ic,k(this,tt,r1).bind(this));R(this,Ug,k(this,tt,Lw).bind(this));R(this,$g,k(this,tt,Zp).bind(this));R(this,Nc,k(this,tt,Jp).bind(this));R(this,Ba,null);R(this,wt,null);R(this,is,null);R(this,Dc,null);R(this,hh,null);R(this,fh,null);R(this,Oc,null);R(this,ss,!1);R(this,Hr,null);R(this,os,null);R(this,ph,null);R(this,as,null);R(this,gh,null);R(this,za,null);R(this,Ha,!1);var y;_(this,wt,e),_(this,gh,s),_(this,is,l),_(this,as,c),_(this,fh,h),_(this,Ba,t),_(this,ph,f),_(this,Oc,g),_(this,hh,n),_(this,Dc,zb.toDateObject(a)),this.trigger=n.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",d(this,Nc)),b.addEventListener("mouseenter",d(this,$g)),b.addEventListener("mouseleave",d(this,Ug)),b.classList.add("popupTriggerArea");for(const b of n)(y=b.container)==null||y.addEventListener("keydown",d(this,Ic));d(this,wt).hidden=!0,m&&k(this,tt,Jp).call(this)}render(){if(d(this,Hr))return;const e=_(this,Hr,document.createElement("div"));if(e.className="popup",d(this,Ba)){const a=e.style.outlineColor=be.makeHexColor(...d(this,Ba));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:e.style.backgroundColor=be.makeHexColor(...d(this,Ba).map(c=>Math.floor(.7*(255-c)+c)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=d(this,gh),e.append(t),d(this,Dc)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,Dc).valueOf()})),t.append(a)}const s=d(this,tt,Qp);if(s)KC.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(d(this,is));e.append(a)}d(this,wt).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let a=0,l=s.length;a<l;++a){const c=s[a];n.append(document.createTextNode(c)),a<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;d(this,za)||_(this,za,{contentsObj:d(this,is),richText:d(this,as)}),e&&_(this,os,null),t&&(_(this,as,k(this,tt,n1).call(this,t)),_(this,is,null)),(n=d(this,Hr))==null||n.remove(),_(this,Hr,null)}resetEdited(){var e;d(this,za)&&({contentsObj:xn(this,is)._,richText:xn(this,as)._}=d(this,za),_(this,za,null),(e=d(this,Hr))==null||e.remove(),_(this,Hr,null),_(this,os,null))}forceHide(){_(this,Ha,this.isVisible),d(this,Ha)&&(d(this,wt).hidden=!0)}maybeShow(){d(this,Ha)&&(d(this,Hr)||k(this,tt,Zp).call(this),_(this,Ha,!1),d(this,wt).hidden=!1)}get isVisible(){return d(this,wt).hidden===!1}}Ic=new WeakMap,Ug=new WeakMap,$g=new WeakMap,Nc=new WeakMap,Ba=new WeakMap,wt=new WeakMap,is=new WeakMap,Dc=new WeakMap,hh=new WeakMap,fh=new WeakMap,Oc=new WeakMap,ss=new WeakMap,Hr=new WeakMap,os=new WeakMap,ph=new WeakMap,as=new WeakMap,gh=new WeakMap,za=new WeakMap,Ha=new WeakMap,tt=new WeakSet,Qp=function(){const e=d(this,as),t=d(this,is);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&d(this,as).html||null},Pw=function(){var e,t,n;return((n=(t=(e=d(this,tt,Qp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},t1=function(){var e,t,n;return((n=(t=(e=d(this,tt,Qp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},n1=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:d(this,tt,t1),fontSize:d(this,tt,Pw)?`calc(${d(this,tt,Pw)}px * var(--scale-factor))`:""}};for(const a of e.split(`
`))t.push({name:"span",value:a,attributes:s});return n},r1=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&d(this,ss))&&k(this,tt,Jp).call(this)},i1=function(){if(d(this,os)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:a}}}=d(this,fh);let l=!!d(this,Oc),c=l?d(this,Oc):d(this,ph);for(const E of d(this,hh))if(!c||be.intersect(E.data.rect,c)!==null){c=E.data.rect,l=!0;break}const h=be.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),g=l?c[2]-c[0]+5:0,m=h[0]+g,y=h[1];_(this,os,[100*(m-s)/t,100*(y-a)/n]);const{style:b}=d(this,wt);b.left=`${d(this,os)[0]}%`,b.top=`${d(this,os)[1]}%`},Jp=function(){_(this,ss,!d(this,ss)),d(this,ss)?(k(this,tt,Zp).call(this),d(this,wt).addEventListener("click",d(this,Nc)),d(this,wt).addEventListener("keydown",d(this,Ic))):(k(this,tt,Lw).call(this),d(this,wt).removeEventListener("click",d(this,Nc)),d(this,wt).removeEventListener("keydown",d(this,Ic)))},Zp=function(){d(this,Hr)||this.render(),this.isVisible?d(this,ss)&&d(this,wt).classList.add("focused"):(k(this,tt,i1).call(this),d(this,wt).hidden=!1,d(this,wt).style.zIndex=parseInt(d(this,wt).style.zIndex)+1e3)},Lw=function(){d(this,wt).classList.remove("focused"),!(d(this,ss)||!this.isVisible)&&(d(this,wt).hidden=!0,d(this,wt).style.zIndex=parseInt(d(this,wt).style.zIndex)-1e3)};class s1 extends Ct{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ie.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mh;class tF extends Ct{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,mh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:s}=bs(t.rect),a=this.svgFactory.create(n,s,!0),l=_(this,mh,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,mh)}addHighlightArea(){this.container.classList.add("highlightArea")}}mh=new WeakMap;var yh;class nF extends Ct{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,yh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:s}=bs(t.rect),a=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,c=_(this,yh,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",n-l),c.setAttribute("height",s-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,yh)}addHighlightArea(){this.container.classList.add("highlightArea")}}yh=new WeakMap;var vh;class rF extends Ct{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,vh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:s}=bs(t.rect),a=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,c=_(this,vh,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",s/2),c.setAttribute("rx",n/2-l/2),c.setAttribute("ry",s/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,vh)}addHighlightArea(){this.container.classList.add("highlightArea")}}vh=new WeakMap;var wh;class o1 extends Ct{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,wh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:s,popupRef:a}}=this;if(!n)return this.container;const{width:l,height:c}=bs(t),h=this.svgFactory.create(l,c,!0);let f=[];for(let m=0,y=n.length;m<y;m+=2){const b=n[m]-t[0],E=t[3]-n[m+1];f.push(`${b},${E}`)}f=f.join(" ");const g=_(this,wh,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",f),g.setAttribute("stroke-width",s.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),h.append(g),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,wh)}addHighlightArea(){this.container.classList.add("highlightArea")}}wh=new WeakMap;class iF extends o1{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class sF extends Ct{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var bh;class Xb extends Ct{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,bh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ie.HIGHLIGHT:Ie.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:s,popupRef:a}}=this,{width:l,height:c}=bs(t),h=this.svgFactory.create(l,c,!0);for(const f of n){let g=[];for(let y=0,b=f.length;y<b;y+=2){const E=f[y]-t[0],x=t[3]-f[y+1];g.push(`${E},${x}`)}g=g.join(" ");const m=this.svgFactory.createElement(this.svgElementName);d(this,bh).push(m),m.setAttribute("points",g),m.setAttribute("stroke-width",s.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),h.append(m)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return d(this,bh)}addHighlightArea(){this.container.classList.add("highlightArea")}}bh=new WeakMap;class a1 extends Ct{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ie.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class oF extends Ct{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class aF extends Ct{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class lF extends Ct{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class l1 extends Ct{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ie.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Eh,xh,Mw;class cF extends Ct{constructor(t){var s;super(t,{isRenderable:!0});R(this,xh);R(this,Eh,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",k(this,xh,Mw).bind(this)),_(this,Eh,s);const{isMac:a}=Tn.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(a?l.metaKey:l.ctrlKey)&&k(this,xh,Mw).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return d(this,Eh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Eh=new WeakMap,xh=new WeakSet,Mw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Sh,Ua,$a,_h,ul,c1,Iw,i_;let uF=(i_=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:s,page:a,viewport:l,structTreeLayer:c}){R(this,ul);R(this,Sh,null);R(this,Ua,null);R(this,$a,new Map);R(this,_h,null);this.div=e,_(this,Sh,t),_(this,Ua,n),_(this,_h,c||null),this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return d(this,$a).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;ol(n,this.viewport);const s=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new qb,annotationStorage:e.annotationStorage||new Ub,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const h=c.annotationType===Dt.POPUP;if(h){const m=s.get(c.id);if(!m)continue;a.elements=m}else{const{width:m,height:y}=bs(c.rect);if(m<=0||y<=0)continue}a.data=c;const f=qO.create(a);if(!f.isRenderable)continue;if(!h&&c.popupRef){const m=s.get(c.popupRef);m?m.push(f):s.set(c.popupRef,[f])}const g=f.render();c.hidden&&(g.style.visibility="hidden"),await k(this,ul,c1).call(this,g,c.id),f._isEditable&&(d(this,$a).set(f.data.id,f),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(f))}k(this,ul,Iw).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,ol(t,{rotation:e.rotation}),k(this,ul,Iw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(d(this,$a).values())}getEditableAnnotation(e){return d(this,$a).get(e)}},Sh=new WeakMap,Ua=new WeakMap,$a=new WeakMap,_h=new WeakMap,ul=new WeakSet,c1=async function(e,t){var l,c;const n=e.firstChild||e,s=n.id=`${Fb}${t}`,a=await((l=d(this,_h))==null?void 0:l.getAriaAttributes(s));if(a)for(const[h,f]of a)n.setAttribute(h,f);this.div.append(e),(c=d(this,Sh))==null||c.moveElementInDOM(this.div,e,n,!1)},Iw=function(){if(!d(this,Ua))return;const e=this.div;for(const[t,n]of d(this,Ua)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):s.append(n)}d(this,Ua).clear()},i_);const Cp=/\r\n?|\n/g;var Ur,Qn,Ah,Va,Jn,Lt,u1,d1,h1,eg,xs,tg,ng,f1,Dw,p1;const it=class it extends Ze{constructor(t){super({...t,name:"freeTextEditor"});R(this,Lt);R(this,Ur);R(this,Qn,"");R(this,Ah,`${this.id}-editor`);R(this,Va,null);R(this,Jn);_(this,Ur,t.color||it._defaultColor||Ze._defaultLineColor),_(this,Jn,t.fontSize||it._defaultFontSize)}static get _keyboardManager(){const t=it.prototype,n=l=>l.isEmpty(),s=al.TRANSLATE_SMALL,a=al.TRANSLATE_BIG;return Ve(this,"_keyboardManager",new Yh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(t,n){Ze.initialize(t,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Pe.FREETEXT_SIZE:it._defaultFontSize=n;break;case Pe.FREETEXT_COLOR:it._defaultColor=n;break}}updateParams(t,n){switch(t){case Pe.FREETEXT_SIZE:k(this,Lt,u1).call(this,n);break;case Pe.FREETEXT_COLOR:k(this,Lt,d1).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Pe.FREETEXT_SIZE,it._defaultFontSize],[Pe.FREETEXT_COLOR,it._defaultColor||Ze._defaultLineColor]]}get propertiesToUpdate(){return[[Pe.FREETEXT_SIZE,d(this,Jn)],[Pe.FREETEXT_COLOR,d(this,Ur)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-it._internalPadding*t,-(it._internalPadding+d(this,Jn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ie.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Va,new AbortController);const t=this._uiManager.combinedSignal(d(this,Va));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,Ah)),this._isDraggable=!0,(t=d(this,Va))==null||t.abort(),_(this,Va,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=d(this,Qn),n=_(this,Qn,k(this,Lt,h1).call(this).trimEnd());if(t===n)return;const s=a=>{if(_(this,Qn,a),!a){this.remove();return}k(this,Lt,ng).call(this),this._uiManager.rebuild(this),k(this,Lt,eg).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(t)},mustExec:!1}),k(this,Lt,eg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){it._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,Ah)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${d(this,Jn)}px * var(--scale-factor))`,s.color=d(this,Ur),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Sg(this,this.div,["dblclick","keydown"]),this.width){const[a,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,f]=this.getInitialTranslation();[h,f]=this.pageTranslationToScreen(h,f);const[g,m]=this.pageDimensions,[y,b]=this.pageTranslation;let E,x;switch(this.rotation){case 0:E=t+(c[0]-y)/g,x=n+this.height-(c[1]-b)/m;break;case 90:E=t+(c[0]-y)/g,x=n-(c[1]-b)/m,[h,f]=[f,-h];break;case 180:E=t-this.width+(c[0]-y)/g,x=n-(c[1]-b)/m,[h,f]=[-h,-f];break;case 270:E=t+(c[0]-y-this.height*m)/g,x=n+(c[1]-b-this.width*g)/m,[h,f]=[-f,h];break}this.setAt(E*a,x*l,h,f)}else this.setAt(t*a,n*l,this.width*a,this.height*l);k(this,Lt,ng).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var E,x,T;const n=t.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const a=k(E=it,xs,Dw).call(E,n.getData("text")||"").replaceAll(Cp,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:f}=c,g=[],m=[];if(h.nodeType===Node.TEXT_NODE){const A=h.parentElement;if(m.push(h.nodeValue.slice(f).replaceAll(Cp,"")),A!==this.editorDiv){let P=g;for(const L of this.editorDiv.childNodes){if(L===A){P=m;continue}P.push(k(x=it,xs,tg).call(x,L))}}g.push(h.nodeValue.slice(0,f).replaceAll(Cp,""))}else if(h===this.editorDiv){let A=g,P=0;for(const L of this.editorDiv.childNodes)P++===f&&(A=m),A.push(k(T=it,xs,tg).call(T,L))}_(this,Qn,`${g.join(`
`)}${a}${m.join(`
`)}`),k(this,Lt,ng).call(this);const y=new Range;let b=g.reduce((A,P)=>A+P.length,0);for(const{firstChild:A}of this.editorDiv.childNodes)if(A.nodeType===Node.TEXT_NODE){const P=A.nodeValue.length;if(b<=P){y.setStart(A,b),y.setEnd(A,b);break}b-=P}l.removeAllRanges(),l.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,s){var c;let a=null;if(t instanceof s1){const{data:{defaultAppearanceData:{fontSize:h,fontColor:f},rect:g,rotation:m,id:y,popupRef:b},textContent:E,textPosition:x,parent:{page:{pageNumber:T}}}=t;if(!E||E.length===0)return null;a=t={annotationType:Ie.FREETEXT,color:Array.from(f),fontSize:h,value:E.join(`
`),position:x,pageIndex:T-1,rect:g.slice(0),rotation:m,id:y,deleted:!1,popupRef:b}}const l=await super.deserialize(t,n,s);return _(l,Jn,t.fontSize),_(l,Ur,be.makeHexColor(...t.color)),_(l,Qn,k(c=it,xs,Dw).call(c,t.value)),l.annotationElementId=t.id||null,l._initialData=a,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=it._internalPadding*this.parentScale,s=this.getRect(n,n),a=Ze._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,Ur)),l={annotationType:Ie.FREETEXT,color:a,fontSize:d(this,Jn),value:k(this,Lt,f1).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!k(this,Lt,p1).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${d(this,Jn)}px * var(--scale-factor))`,s.color=d(this,Ur),n.replaceChildren();for(const l of d(this,Qn).split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),n.append(c)}const a=it._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(a,a),popupContent:d(this,Qn)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ur=new WeakMap,Qn=new WeakMap,Ah=new WeakMap,Va=new WeakMap,Jn=new WeakMap,Lt=new WeakSet,u1=function(t){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-d(this,Jn))*this.parentScale),_(this,Jn,a),k(this,Lt,eg).call(this)},s=d(this,Jn);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},d1=function(t){const n=a=>{_(this,Ur,this.editorDiv.style.color=a)},s=d(this,Ur);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},h1=function(){var s;const t=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(t.push(k(s=it,xs,tg).call(s,a)),n=a);return t.join(`
`)},eg=function(){const[t,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:l}=this,c=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",a.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/n):(this.width=s.height/t,this.height=s.width/n),this.fixAndSetPosition()},xs=new WeakSet,tg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Cp,"")},ng=function(){if(this.editorDiv.replaceChildren(),!!d(this,Qn))for(const t of d(this,Qn).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},f1=function(){return d(this,Qn).replaceAll(""," ")},Dw=function(t){return t.replaceAll(" ","")},p1=function(t){const{value:n,fontSize:s,color:a,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==s||t.color.some((c,h)=>c!==a[h])||t.pageIndex!==l},R(it,xs),Re(it,"_freeTextDefaultContent",""),Re(it,"_internalPadding",0),Re(it,"_defaultColor",null),Re(it,"_defaultFontSize",10),Re(it,"_type","freetext"),Re(it,"_editorType",Ie.FREETEXT);let Nw=it;class g1{toSVGPath(){at("Abstract method `toSVGPath` must be implemented.")}get box(){at("Abstract getter `box` must be implemented.")}serialize(e,t){at("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){at("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){at("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Zn,$r,Fc,jc,vi,Be,Wa,Ga,Ch,kh,Bc,zc,vo,Th,Vg,Wg,zt,pd,m1,y1,v1,w1,b1,E1;const qi=class qi{constructor({x:e,y:t},n,s,a,l,c=0){R(this,zt);R(this,Zn);R(this,$r,[]);R(this,Fc);R(this,jc);R(this,vi,[]);R(this,Be,new Float64Array(18));R(this,Wa);R(this,Ga);R(this,Ch);R(this,kh);R(this,Bc);R(this,zc);R(this,vo,[]);_(this,Zn,n),_(this,zc,a*s),_(this,jc,l),d(this,Be).set([NaN,NaN,NaN,NaN,e,t],6),_(this,Fc,c),_(this,kh,d(qi,Th)*s),_(this,Ch,d(qi,Wg)*s),_(this,Bc,s),d(this,vo).push(e,t)}isEmpty(){return isNaN(d(this,Be)[8])}add({x:e,y:t}){var q;_(this,Wa,e),_(this,Ga,t);const[n,s,a,l]=d(this,Zn);let[c,h,f,g]=d(this,Be).subarray(8,12);const m=e-f,y=t-g,b=Math.hypot(m,y);if(b<d(this,Ch))return!1;const E=b-d(this,kh),x=E/b,T=x*m,A=x*y;let P=c,L=h;c=f,h=g,f+=T,g+=A,(q=d(this,vo))==null||q.push(e,t);const I=-A/E,O=T/E,N=I*d(this,zc),z=O*d(this,zc);return d(this,Be).set(d(this,Be).subarray(2,8),0),d(this,Be).set([f+N,g+z],4),d(this,Be).set(d(this,Be).subarray(14,18),12),d(this,Be).set([f-N,g-z],16),isNaN(d(this,Be)[6])?(d(this,vi).length===0&&(d(this,Be).set([c+N,h+z],2),d(this,vi).push(NaN,NaN,NaN,NaN,(c+N-n)/a,(h+z-s)/l),d(this,Be).set([c-N,h-z],14),d(this,$r).push(NaN,NaN,NaN,NaN,(c-N-n)/a,(h-z-s)/l)),d(this,Be).set([P,L,c,h,f,g],6),!this.isEmpty()):(d(this,Be).set([P,L,c,h,f,g],6),Math.abs(Math.atan2(L-h,P-c)-Math.atan2(A,T))<Math.PI/2?([c,h,f,g]=d(this,Be).subarray(2,6),d(this,vi).push(NaN,NaN,NaN,NaN,((c+f)/2-n)/a,((h+g)/2-s)/l),[c,h,P,L]=d(this,Be).subarray(14,18),d(this,$r).push(NaN,NaN,NaN,NaN,((P+c)/2-n)/a,((L+h)/2-s)/l),!0):([P,L,c,h,f,g]=d(this,Be).subarray(0,6),d(this,vi).push(((P+5*c)/6-n)/a,((L+5*h)/6-s)/l,((5*c+f)/6-n)/a,((5*h+g)/6-s)/l,((c+f)/2-n)/a,((h+g)/2-s)/l),[f,g,c,h,P,L]=d(this,Be).subarray(12,18),d(this,$r).push(((P+5*c)/6-n)/a,((L+5*h)/6-s)/l,((5*c+f)/6-n)/a,((5*h+g)/6-s)/l,((c+f)/2-n)/a,((h+g)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=d(this,vi),t=d(this,$r);if(isNaN(d(this,Be)[6])&&!this.isEmpty())return k(this,zt,m1).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);k(this,zt,v1).call(this,n);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return k(this,zt,y1).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,s,a,l){return new x1(e,t,n,s,a,l)}getOutlines(){var m;const e=d(this,vi),t=d(this,$r),n=d(this,Be),[s,a,l,c]=d(this,Zn),h=new Float64Array((((m=d(this,vo))==null?void 0:m.length)??0)+2);for(let y=0,b=h.length-2;y<b;y+=2)h[y]=(d(this,vo)[y]-s)/l,h[y+1]=(d(this,vo)[y+1]-a)/c;if(h[h.length-2]=(d(this,Wa)-s)/l,h[h.length-1]=(d(this,Ga)-a)/c,isNaN(n[6])&&!this.isEmpty())return k(this,zt,w1).call(this,h);const f=new Float64Array(d(this,vi).length+24+d(this,$r).length);let g=e.length;for(let y=0;y<g;y+=2){if(isNaN(e[y])){f[y]=f[y+1]=NaN;continue}f[y]=e[y],f[y+1]=e[y+1]}g=k(this,zt,E1).call(this,f,g);for(let y=t.length-6;y>=6;y-=6)for(let b=0;b<6;b+=2){if(isNaN(t[y+b])){f[g]=f[g+1]=NaN,g+=2;continue}f[g]=t[y+b],f[g+1]=t[y+b+1],g+=2}return k(this,zt,b1).call(this,f,g),this.newFreeDrawOutline(f,h,d(this,Zn),d(this,Bc),d(this,Fc),d(this,jc))}};Zn=new WeakMap,$r=new WeakMap,Fc=new WeakMap,jc=new WeakMap,vi=new WeakMap,Be=new WeakMap,Wa=new WeakMap,Ga=new WeakMap,Ch=new WeakMap,kh=new WeakMap,Bc=new WeakMap,zc=new WeakMap,vo=new WeakMap,Th=new WeakMap,Vg=new WeakMap,Wg=new WeakMap,zt=new WeakSet,pd=function(){const e=d(this,Be).subarray(4,6),t=d(this,Be).subarray(16,18),[n,s,a,l]=d(this,Zn);return[(d(this,Wa)+(e[0]-t[0])/2-n)/a,(d(this,Ga)+(e[1]-t[1])/2-s)/l,(d(this,Wa)+(t[0]-e[0])/2-n)/a,(d(this,Ga)+(t[1]-e[1])/2-s)/l]},m1=function(){const[e,t,n,s]=d(this,Zn),[a,l,c,h]=k(this,zt,pd).call(this);return`M${(d(this,Be)[2]-e)/n} ${(d(this,Be)[3]-t)/s} L${(d(this,Be)[4]-e)/n} ${(d(this,Be)[5]-t)/s} L${a} ${l} L${c} ${h} L${(d(this,Be)[16]-e)/n} ${(d(this,Be)[17]-t)/s} L${(d(this,Be)[14]-e)/n} ${(d(this,Be)[15]-t)/s} Z`},y1=function(e){const t=d(this,$r);e.push(`L${t[4]} ${t[5]} Z`)},v1=function(e){const[t,n,s,a]=d(this,Zn),l=d(this,Be).subarray(4,6),c=d(this,Be).subarray(16,18),[h,f,g,m]=k(this,zt,pd).call(this);e.push(`L${(l[0]-t)/s} ${(l[1]-n)/a} L${h} ${f} L${g} ${m} L${(c[0]-t)/s} ${(c[1]-n)/a}`)},w1=function(e){const t=d(this,Be),[n,s,a,l]=d(this,Zn),[c,h,f,g]=k(this,zt,pd).call(this),m=new Float64Array(36);return m.set([NaN,NaN,NaN,NaN,(t[2]-n)/a,(t[3]-s)/l,NaN,NaN,NaN,NaN,(t[4]-n)/a,(t[5]-s)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,(t[16]-n)/a,(t[17]-s)/l,NaN,NaN,NaN,NaN,(t[14]-n)/a,(t[15]-s)/l],0),this.newFreeDrawOutline(m,e,d(this,Zn),d(this,Bc),d(this,Fc),d(this,jc))},b1=function(e,t){const n=d(this,$r);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},E1=function(e,t){const n=d(this,Be).subarray(4,6),s=d(this,Be).subarray(16,18),[a,l,c,h]=d(this,Zn),[f,g,m,y]=k(this,zt,pd).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/c,(n[1]-l)/h,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(s[0]-a)/c,(s[1]-l)/h],t),t+=24},R(qi,Th,8),R(qi,Vg,2),R(qi,Wg,d(qi,Th)+d(qi,Vg));let Ag=qi;var Hc,qa,ls,Rh,er,Ph,At,$n,gd,md,S1;class x1 extends g1{constructor(t,n,s,a,l,c){super();R(this,$n);R(this,Hc);R(this,qa,null);R(this,ls);R(this,Rh);R(this,er);R(this,Ph);R(this,At);_(this,At,t),_(this,er,n),_(this,Hc,s),_(this,Ph,a),_(this,ls,l),_(this,Rh,c),k(this,$n,S1).call(this,c);const{x:h,y:f,width:g,height:m}=d(this,qa);for(let y=0,b=t.length;y<b;y+=2)t[y]=(t[y]-h)/g,t[y+1]=(t[y+1]-f)/m;for(let y=0,b=n.length;y<b;y+=2)n[y]=(n[y]-h)/g,n[y+1]=(n[y+1]-f)/m}toSVGPath(){const t=[`M${d(this,At)[4]} ${d(this,At)[5]}`];for(let n=6,s=d(this,At).length;n<s;n+=6){if(isNaN(d(this,At)[n])){t.push(`L${d(this,At)[n+4]} ${d(this,At)[n+5]}`);continue}t.push(`C${d(this,At)[n]} ${d(this,At)[n+1]} ${d(this,At)[n+2]} ${d(this,At)[n+3]} ${d(this,At)[n+4]} ${d(this,At)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,s,a],l){const c=s-t,h=a-n;let f,g;switch(l){case 0:f=k(this,$n,gd).call(this,d(this,At),t,a,c,-h),g=k(this,$n,gd).call(this,d(this,er),t,a,c,-h);break;case 90:f=k(this,$n,md).call(this,d(this,At),t,n,c,h),g=k(this,$n,md).call(this,d(this,er),t,n,c,h);break;case 180:f=k(this,$n,gd).call(this,d(this,At),s,n,-c,h),g=k(this,$n,gd).call(this,d(this,er),s,n,-c,h);break;case 270:f=k(this,$n,md).call(this,d(this,At),s,a,-c,-h),g=k(this,$n,md).call(this,d(this,er),s,a,-c,-h);break}return{outline:Array.from(f),points:[Array.from(g)]}}get box(){return d(this,qa)}newOutliner(t,n,s,a,l,c=0){return new Ag(t,n,s,a,l,c)}getNewOutline(t,n){const{x:s,y:a,width:l,height:c}=d(this,qa),[h,f,g,m]=d(this,Hc),y=l*g,b=c*m,E=s*g+h,x=a*m+f,T=this.newOutliner({x:d(this,er)[0]*y+E,y:d(this,er)[1]*b+x},d(this,Hc),d(this,Ph),t,d(this,Rh),n??d(this,ls));for(let A=2;A<d(this,er).length;A+=2)T.add({x:d(this,er)[A]*y+E,y:d(this,er)[A+1]*b+x});return T.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Hc=new WeakMap,qa=new WeakMap,ls=new WeakMap,Rh=new WeakMap,er=new WeakMap,Ph=new WeakMap,At=new WeakMap,$n=new WeakSet,gd=function(t,n,s,a,l){const c=new Float64Array(t.length);for(let h=0,f=t.length;h<f;h+=2)c[h]=n+t[h]*a,c[h+1]=s+t[h+1]*l;return c},md=function(t,n,s,a,l){const c=new Float64Array(t.length);for(let h=0,f=t.length;h<f;h+=2)c[h]=n+t[h+1]*a,c[h+1]=s+t[h]*l;return c},S1=function(t){const n=d(this,At);let s=n[4],a=n[5],l=s,c=a,h=s,f=a,g=s,m=a;const y=t?Math.max:Math.min;for(let A=6,P=n.length;A<P;A+=6){if(isNaN(n[A]))l=Math.min(l,n[A+4]),c=Math.min(c,n[A+5]),h=Math.max(h,n[A+4]),f=Math.max(f,n[A+5]),m<n[A+5]?(g=n[A+4],m=n[A+5]):m===n[A+5]&&(g=y(g,n[A+4]));else{const L=be.bezierBoundingBox(s,a,...n.slice(A,A+6));l=Math.min(l,L[0]),c=Math.min(c,L[1]),h=Math.max(h,L[2]),f=Math.max(f,L[3]),m<L[3]?(g=L[2],m=L[3]):m===L[3]&&(g=y(g,L[2]))}s=n[A+4],a=n[A+5]}const b=l-d(this,ls),E=c-d(this,ls),x=h-l+2*d(this,ls),T=f-c+2*d(this,ls);_(this,qa,{x:b,y:E,width:x,height:T,lastPoint:[g,m]})};var Lh,wo,Vr,Pn,_1,rg,A1,C1,Ow;class WS{constructor(e,t=0,n=0,s=!0){R(this,Pn);R(this,Lh);R(this,wo,[]);R(this,Vr,[]);let a=1/0,l=-1/0,c=1/0,h=-1/0;const f=10**-4;for(const{x:T,y:A,width:P,height:L}of e){const I=Math.floor((T-t)/f)*f,O=Math.ceil((T+P+t)/f)*f,N=Math.floor((A-t)/f)*f,z=Math.ceil((A+L+t)/f)*f,V=[I,N,z,!0],q=[O,N,z,!1];d(this,wo).push(V,q),a=Math.min(a,I),l=Math.max(l,O),c=Math.min(c,N),h=Math.max(h,z)}const g=l-a+2*n,m=h-c+2*n,y=a-n,b=c-n,E=d(this,wo).at(s?-1:-2),x=[E[0],E[2]];for(const T of d(this,wo)){const[A,P,L]=T;T[0]=(A-y)/g,T[1]=(P-b)/m,T[2]=(L-b)/m}_(this,Lh,{x:y,y:b,width:g,height:m,lastPoint:x})}getOutlines(){d(this,wo).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of d(this,wo))t[3]?(e.push(...k(this,Pn,Ow).call(this,t)),k(this,Pn,A1).call(this,t)):(k(this,Pn,C1).call(this,t),e.push(...k(this,Pn,Ow).call(this,t)));return k(this,Pn,_1).call(this,e)}}Lh=new WeakMap,wo=new WeakMap,Vr=new WeakMap,Pn=new WeakSet,_1=function(e){const t=[],n=new Set;for(const l of e){const[c,h,f]=l;t.push([c,h,l],[c,f,l])}t.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=t.length;l<c;l+=2){const h=t[l][2],f=t[l+1][2];h.push(f),f.push(h),n.add(h),n.add(f)}const s=[];let a;for(;n.size>0;){const l=n.values().next().value;let[c,h,f,g,m]=l;n.delete(l);let y=c,b=h;for(a=[c,f],s.push(a);;){let E;if(n.has(g))E=g;else if(n.has(m))E=m;else break;n.delete(E),[c,h,f,g,m]=E,y!==c&&(a.push(y,b,c,b===h?h:f),y=c),b=b===h?f:h}a.push(y,b)}return new dF(s,d(this,Lh))},rg=function(e){const t=d(this,Vr);let n=0,s=t.length-1;for(;n<=s;){const a=n+s>>1,l=t[a][0];if(l===e)return a;l<e?n=a+1:s=a-1}return s+1},A1=function([,e,t]){const n=k(this,Pn,rg).call(this,e);d(this,Vr).splice(n,0,[e,t])},C1=function([,e,t]){const n=k(this,Pn,rg).call(this,e);for(let s=n;s<d(this,Vr).length;s++){const[a,l]=d(this,Vr)[s];if(a!==e)break;if(a===e&&l===t){d(this,Vr).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[a,l]=d(this,Vr)[s];if(a!==e)break;if(a===e&&l===t){d(this,Vr).splice(s,1);return}}},Ow=function(e){const[t,n,s]=e,a=[[t,n,s]],l=k(this,Pn,rg).call(this,s);for(let c=0;c<l;c++){const[h,f]=d(this,Vr)[c];for(let g=0,m=a.length;g<m;g++){const[,y,b]=a[g];if(!(f<=y||b<=h)){if(y>=h){if(b>f)a[g][1]=f;else{if(m===1)return[];a.splice(g,1),g--,m--}continue}a[g][2]=h,b>f&&a.push([t,f,b])}}}return a};var Mh,Uc;class dF extends g1{constructor(t,n){super();R(this,Mh);R(this,Uc);_(this,Uc,t),_(this,Mh,n)}toSVGPath(){const t=[];for(const n of d(this,Uc)){let[s,a]=n;t.push(`M${s} ${a}`);for(let l=2;l<n.length;l+=2){const c=n[l],h=n[l+1];c===s?(t.push(`V${h}`),a=h):h===a&&(t.push(`H${c}`),s=c)}t.push("Z")}return t.join(" ")}serialize([t,n,s,a],l){const c=[],h=s-t,f=a-n;for(const g of d(this,Uc)){const m=new Array(g.length);for(let y=0;y<g.length;y+=2)m[y]=t+g[y]*h,m[y+1]=a-g[y+1]*f;c.push(m)}return c}get box(){return d(this,Mh)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Mh=new WeakMap,Uc=new WeakMap;class Fw extends Ag{newFreeDrawOutline(e,t,n,s,a,l){return new hF(e,t,n,s,a,l)}get classNamesForDrawing(){return["highlight","free"]}}class hF extends x1{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,s,a,l=0){return new Fw(e,t,n,s,a,l)}}var Wr,Xa,$c,Ft,Ih,Vc,Nh,Dh,bo,Gr,Wc,Oh,et,jw,Bw,zw,ra,k1,Ks;const jn=class jn{constructor({editor:e=null,uiManager:t=null}){R(this,et);R(this,Wr,null);R(this,Xa,null);R(this,$c);R(this,Ft,null);R(this,Ih,!1);R(this,Vc,!1);R(this,Nh,null);R(this,Dh);R(this,bo,null);R(this,Gr,null);R(this,Wc);var n;e?(_(this,Vc,!1),_(this,Wc,Pe.HIGHLIGHT_COLOR),_(this,Nh,e)):(_(this,Vc,!0),_(this,Wc,Pe.HIGHLIGHT_DEFAULT_COLOR)),_(this,Gr,(e==null?void 0:e._uiManager)||t),_(this,Dh,d(this,Gr)._eventBus),_(this,$c,(e==null?void 0:e.color)||((n=d(this,Gr))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),d(jn,Oh)||_(jn,Oh,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ve(this,"_keyboardManager",new Yh([[["Escape","mac+Escape"],jn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],jn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],jn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],jn.prototype._moveToPrevious],[["Home","mac+Home"],jn.prototype._moveToBeginning],[["End","mac+End"],jn.prototype._moveToEnd]]))}renderButton(){const e=_(this,Wr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=d(this,Gr)._signal;e.addEventListener("click",k(this,et,ra).bind(this),{signal:t}),e.addEventListener("keydown",k(this,et,zw).bind(this),{signal:t});const n=_(this,Xa,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=d(this,$c),e.append(n),e}renderMainDropdown(){const e=_(this,Ft,k(this,et,jw).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===d(this,Wr)){k(this,et,ra).call(this,e);return}const t=e.target.getAttribute("data-color");t&&k(this,et,Bw).call(this,t,e)}_moveToNext(e){var t,n;if(!d(this,et,Ks)){k(this,et,ra).call(this,e);return}if(e.target===d(this,Wr)){(t=d(this,Ft).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=d(this,Ft))==null?void 0:t.firstChild)||e.target===d(this,Wr)){d(this,et,Ks)&&this._hideDropdownFromKeyboard();return}d(this,et,Ks)||k(this,et,ra).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!d(this,et,Ks)){k(this,et,ra).call(this,e);return}(t=d(this,Ft).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!d(this,et,Ks)){k(this,et,ra).call(this,e);return}(t=d(this,Ft).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=d(this,Ft))==null||e.classList.add("hidden"),(t=d(this,bo))==null||t.abort(),_(this,bo,null)}_hideDropdownFromKeyboard(){var e;if(!d(this,Vc)){if(!d(this,et,Ks)){(e=d(this,Nh))==null||e.unselect();return}this.hideDropdown(),d(this,Wr).focus({preventScroll:!0,focusVisible:d(this,Ih)})}}updateColor(e){if(d(this,Xa)&&(d(this,Xa).style.backgroundColor=e),!d(this,Ft))return;const t=d(this,Gr).highlightColors.values();for(const n of d(this,Ft).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=d(this,Wr))==null||e.remove(),_(this,Wr,null),_(this,Xa,null),(t=d(this,Ft))==null||t.remove(),_(this,Ft,null)}};Wr=new WeakMap,Xa=new WeakMap,$c=new WeakMap,Ft=new WeakMap,Ih=new WeakMap,Vc=new WeakMap,Nh=new WeakMap,Dh=new WeakMap,bo=new WeakMap,Gr=new WeakMap,Wc=new WeakMap,Oh=new WeakMap,et=new WeakSet,jw=function(){const e=document.createElement("div"),t=d(this,Gr)._signal;e.addEventListener("contextmenu",Sr,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of d(this,Gr).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=n,a.setAttribute("data-l10n-id",d(jn,Oh)[n]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=s,a.setAttribute("aria-selected",s===d(this,$c)),a.addEventListener("click",k(this,et,Bw).bind(this,s),{signal:t}),e.append(a)}return e.addEventListener("keydown",k(this,et,zw).bind(this),{signal:t}),e},Bw=function(e,t){t.stopPropagation(),d(this,Dh).dispatch("switchannotationeditorparams",{source:this,type:d(this,Wc),value:e})},zw=function(e){jn._keyboardManager.exec(this,e)},ra=function(e){if(d(this,et,Ks)){this.hideDropdown();return}if(_(this,Ih,e.detail===0),d(this,bo)||(_(this,bo,new AbortController),window.addEventListener("pointerdown",k(this,et,k1).bind(this),{signal:d(this,Gr).combinedSignal(d(this,bo))})),d(this,Ft)){d(this,Ft).classList.remove("hidden");return}const t=_(this,Ft,k(this,et,jw).call(this));d(this,Wr).append(t)},k1=function(e){var t;(t=d(this,Ft))!=null&&t.contains(e.target)||this.hideDropdown()},Ks=function(){return d(this,Ft)&&!d(this,Ft).classList.contains("hidden")},R(jn,Oh,null);let Cg=jn;var Gc,Fh,cs,Ya,qc,gr,jh,Bh,Ka,qr,gn,Hn,Xc,us,jt,Yc,mr,zh,Me,Hw,ig,T1,R1,P1,Uw,ia,Er,Kl,L1,sg,yd,M1,I1,N1,D1,O1;const Xe=class Xe extends Ze{constructor(t){super({...t,name:"highlightEditor"});R(this,Me);R(this,Gc,null);R(this,Fh,0);R(this,cs);R(this,Ya,null);R(this,qc,null);R(this,gr,null);R(this,jh,null);R(this,Bh,0);R(this,Ka,null);R(this,qr,null);R(this,gn,null);R(this,Hn,!1);R(this,Xc,null);R(this,us);R(this,jt,null);R(this,Yc,"");R(this,mr);R(this,zh,"");this.color=t.color||Xe._defaultColor,_(this,mr,t.thickness||Xe._defaultThickness),_(this,us,t.opacity||Xe._defaultOpacity),_(this,cs,t.boxes||null),_(this,zh,t.methodOfCreation||""),_(this,Yc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(_(this,Hn,!0),k(this,Me,ig).call(this,t),k(this,Me,ia).call(this)):d(this,cs)&&(_(this,Gc,t.anchorNode),_(this,Fh,t.anchorOffset),_(this,jh,t.focusNode),_(this,Bh,t.focusOffset),k(this,Me,Hw).call(this),k(this,Me,ia).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Xe.prototype;return Ve(this,"_keyboardManager",new Yh([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,Hn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,mr),methodOfCreation:d(this,zh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var s;Ze.initialize(t,n),Xe._defaultColor||(Xe._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Pe.HIGHLIGHT_DEFAULT_COLOR:Xe._defaultColor=n;break;case Pe.HIGHLIGHT_THICKNESS:Xe._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return d(this,Xc)}updateParams(t,n){switch(t){case Pe.HIGHLIGHT_COLOR:k(this,Me,T1).call(this,n);break;case Pe.HIGHLIGHT_THICKNESS:k(this,Me,R1).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Pe.HIGHLIGHT_DEFAULT_COLOR,Xe._defaultColor],[Pe.HIGHLIGHT_THICKNESS,Xe._defaultThickness]]}get propertiesToUpdate(){return[[Pe.HIGHLIGHT_COLOR,this.color||Xe._defaultColor],[Pe.HIGHLIGHT_THICKNESS,d(this,mr)||Xe._defaultThickness],[Pe.HIGHLIGHT_FREE,d(this,Hn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(_(this,qc,new Cg({editor:this})),t.addColorPicker(d(this,qc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,Me,yd).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,k(this,Me,yd).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){k(this,Me,Uw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Me,ia).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let n=!1;this.parent&&!t?k(this,Me,Uw).call(this):t&&(k(this,Me,ia).call(this,t),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var a,l,c;const{drawLayer:n}=this.parent;let s;d(this,Hn)?(t=(t-this.rotation+360)%360,s=k(a=Xe,Er,Kl).call(a,d(this,qr).box,t)):s=k(l=Xe,Er,Kl).call(l,this,t),n.rotate(d(this,gn),t),n.rotate(d(this,jt),t),n.updateBox(d(this,gn),s),n.updateBox(d(this,jt),k(c=Xe,Er,Kl).call(c,d(this,gr).box,t))}render(){if(this.div)return this.div;const t=super.render();d(this,Yc)&&(t.setAttribute("aria-label",d(this,Yc)),t.setAttribute("role","mark")),d(this,Hn)?t.classList.add("free"):this.div.addEventListener("keydown",k(this,Me,L1).bind(this),{signal:this._uiManager._signal});const n=_(this,Ka,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=d(this,Ya);const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),Sg(this,d(this,Ka),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(d(this,jt),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(d(this,jt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:k(this,Me,sg).call(this,!0);break;case 1:case 3:k(this,Me,sg).call(this,!1);break}}select(){var t,n;super.select(),d(this,jt)&&((t=this.parent)==null||t.drawLayer.removeClass(d(this,jt),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(d(this,jt),"selected"))}unselect(){var t;super.unselect(),d(this,jt)&&((t=this.parent)==null||t.drawLayer.removeClass(d(this,jt),"selected"),d(this,Hn)||k(this,Me,sg).call(this,!1))}get _mustFixPosition(){return!d(this,Hn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(d(this,gn),t),this.parent.drawLayer.show(d(this,jt),t))}static startHighlighting(t,n,{target:s,x:a,y:l}){const{x:c,y:h,width:f,height:g}=s.getBoundingClientRect(),m=new AbortController,y=t.combinedSignal(m),b=x=>{x.preventDefault(),x.stopPropagation()},E=x=>{m.abort(),k(this,Er,D1).call(this,t,x)};window.addEventListener("blur",E,{signal:y}),window.addEventListener("pointerup",E,{signal:y}),window.addEventListener("pointerdown",b,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Sr,{signal:y}),s.addEventListener("pointermove",k(this,Er,N1).bind(this,t),{signal:y}),this._freeHighlight=new Fw({x:a,y:l},[c,h,f,g],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,n,s){var x,T,A,P;let a=null;if(t instanceof a1){const{data:{quadPoints:L,rect:I,rotation:O,id:N,color:z,opacity:V,popupRef:q},parent:{page:{pageNumber:X}}}=t;a=t={annotationType:Ie.HIGHLIGHT,color:Array.from(z),opacity:V,quadPoints:L,boxes:null,pageIndex:X-1,rect:I.slice(0),rotation:O,id:N,deleted:!1,popupRef:q}}else if(t instanceof Xb){const{data:{inkLists:L,rect:I,rotation:O,id:N,color:z,borderStyle:{rawWidth:V},popupRef:q},parent:{page:{pageNumber:X}}}=t;a=t={annotationType:Ie.HIGHLIGHT,color:Array.from(z),thickness:V,inkLists:L,boxes:null,pageIndex:X-1,rect:I.slice(0),rotation:O,id:N,deleted:!1,popupRef:q}}const{color:l,quadPoints:c,inkLists:h,opacity:f}=t,g=await super.deserialize(t,n,s);g.color=be.makeHexColor(...l),_(g,us,f||1),h&&_(g,mr,t.thickness),g.annotationElementId=t.id||null,g._initialData=a;const[m,y]=g.pageDimensions,[b,E]=g.pageTranslation;if(c){const L=_(g,cs,[]);for(let I=0;I<c.length;I+=8)L.push({x:(c[I]-b)/m,y:1-(c[I+1]-E)/y,width:(c[I+2]-c[I])/m,height:(c[I+1]-c[I+5])/y});k(x=g,Me,Hw).call(x),k(T=g,Me,ia).call(T),g.rotate(g.rotation)}else if(h){_(g,Hn,!0);const L=h[0],I={x:L[0]-b,y:y-(L[1]-E)},O=new Fw(I,[0,0,m,y],1,d(g,mr)/2,!0,.001);for(let V=0,q=L.length;V<q;V+=2)I.x=L[V]-b,I.y=y-(L[V+1]-E),O.add(I);const{id:N,clipPathId:z}=n.drawLayer.draw(O,g.color,g._defaultOpacity,!0);k(A=g,Me,ig).call(A,{highlightOutlines:O.getOutlines(),highlightId:N,clipPathId:z}),k(P=g,Me,ia).call(P)}return g}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=Ze._colorManager.convert(this.color),a={annotationType:Ie.HIGHLIGHT,color:s,opacity:d(this,us),thickness:d(this,mr),quadPoints:k(this,Me,M1).call(this),outlines:k(this,Me,I1).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:k(this,Me,yd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!k(this,Me,O1).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Gc=new WeakMap,Fh=new WeakMap,cs=new WeakMap,Ya=new WeakMap,qc=new WeakMap,gr=new WeakMap,jh=new WeakMap,Bh=new WeakMap,Ka=new WeakMap,qr=new WeakMap,gn=new WeakMap,Hn=new WeakMap,Xc=new WeakMap,us=new WeakMap,jt=new WeakMap,Yc=new WeakMap,mr=new WeakMap,zh=new WeakMap,Me=new WeakSet,Hw=function(){const t=new WS(d(this,cs),.001);_(this,qr,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=d(this,qr).box;const n=new WS(d(this,cs),.0025,.001,this._uiManager.direction==="ltr");_(this,gr,n.getOutlines());const{lastPoint:s}=d(this,gr).box;_(this,Xc,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},ig=function({highlightOutlines:t,highlightId:n,clipPathId:s}){var m,y;if(_(this,qr,t),_(this,gr,t.getNewOutline(d(this,mr)/2+1.5,.0025)),n>=0)_(this,gn,n),_(this,Ya,s),this.parent.drawLayer.finalizeLine(n,t),_(this,jt,this.parent.drawLayer.drawOutline(d(this,gr)));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(d(this,gn),t),this.parent.drawLayer.updateBox(d(this,gn),k(m=Xe,Er,Kl).call(m,d(this,qr).box,(b-this.rotation+360)%360)),this.parent.drawLayer.updateLine(d(this,jt),d(this,gr)),this.parent.drawLayer.updateBox(d(this,jt),k(y=Xe,Er,Kl).call(y,d(this,gr).box,b))}const{x:l,y:c,width:h,height:f}=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=h,this.height=f;break;case 90:{const[b,E]=this.parentDimensions;this.x=c,this.y=1-l,this.width=h*E/b,this.height=f*b/E;break}case 180:this.x=1-l,this.y=1-c,this.width=h,this.height=f;break;case 270:{const[b,E]=this.parentDimensions;this.x=1-c,this.y=l,this.width=h*E/b,this.height=f*b/E;break}}const{lastPoint:g}=d(this,gr).box;_(this,Xc,[(g[0]-l)/h,(g[1]-c)/f])},T1=function(t){const n=(l,c)=>{var h,f,g;this.color=l,(h=this.parent)==null||h.drawLayer.changeColor(d(this,gn),l),(f=d(this,qc))==null||f.updateColor(l),_(this,us,c),(g=this.parent)==null||g.drawLayer.changeOpacity(d(this,gn),c)},s=this.color,a=d(this,us);this.addCommands({cmd:n.bind(this,t,Xe._defaultOpacity),undo:n.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},R1=function(t){const n=d(this,mr),s=a=>{_(this,mr,a),k(this,Me,P1).call(this,a)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},P1=function(t){if(!d(this,Hn))return;k(this,Me,ig).call(this,{highlightOutlines:d(this,qr).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},Uw=function(){d(this,gn)===null||!this.parent||(this.parent.drawLayer.remove(d(this,gn)),_(this,gn,null),this.parent.drawLayer.remove(d(this,jt)),_(this,jt,null))},ia=function(t=this.parent){d(this,gn)===null&&({id:xn(this,gn)._,clipPathId:xn(this,Ya)._}=t.drawLayer.draw(d(this,qr),this.color,d(this,us)),_(this,jt,t.drawLayer.drawOutline(d(this,gr))),d(this,Ka)&&(d(this,Ka).style.clipPath=d(this,Ya)))},Er=new WeakSet,Kl=function({x:t,y:n,width:s,height:a},l){switch(l){case 90:return{x:1-n-a,y:t,width:a,height:s};case 180:return{x:1-t-s,y:1-n-a,width:s,height:a};case 270:return{x:n,y:1-t-s,width:a,height:s}}return{x:t,y:n,width:s,height:a}},L1=function(t){Xe._keyboardManager.exec(this,t)},sg=function(t){if(!d(this,Gc))return;const n=window.getSelection();t?n.setPosition(d(this,Gc),d(this,Fh)):n.setPosition(d(this,jh),d(this,Bh))},yd=function(){return d(this,Hn)?this.rotation:0},M1=function(){if(d(this,Hn))return null;const[t,n]=this.pageDimensions,[s,a]=this.pageTranslation,l=d(this,cs),c=new Float32Array(l.length*8);let h=0;for(const{x:f,y:g,width:m,height:y}of l){const b=f*t+s,E=(1-g-y)*n+a;c[h]=c[h+4]=b,c[h+1]=c[h+3]=E,c[h+2]=c[h+6]=b+m*t,c[h+5]=c[h+7]=E+y*n,h+=8}return c},I1=function(t){return d(this,qr).serialize(t,k(this,Me,yd).call(this))},N1=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},D1=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},O1=function(t){const{color:n}=this._initialData;return t.color.some((s,a)=>s!==n[a])},R(Xe,Er),Re(Xe,"_defaultColor",null),Re(Xe,"_defaultOpacity",1),Re(Xe,"_defaultThickness",12),Re(Xe,"_type","highlight"),Re(Xe,"_editorType",Ie.HIGHLIGHT),Re(Xe,"_freeHighlightId",-1),Re(Xe,"_freeHighlight",null),Re(Xe,"_freeHighlightClipId","");let kg=Xe;var Qa,Ja,wi,ds,yr,Za,el,tl,hs,Kc,nl,rl,Eo,ie,F1,j1,B1,z1,Vw,H1,Ww,U1,$1,V1,W1,G1,sa,Gw,qw,Xw,og,ag,Ql,Yw,lg,As,q1,Kw,X1,Y1,Qw,cg,vd;const ft=class ft extends Ze{constructor(t){super({...t,name:"inkEditor"});R(this,ie);R(this,Qa,0);R(this,Ja,0);R(this,wi,null);R(this,ds,new Path2D);R(this,yr,!1);R(this,Za,null);R(this,el,!1);R(this,tl,!1);R(this,hs,null);R(this,Kc,null);R(this,nl,0);R(this,rl,0);R(this,Eo,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){Ze.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case Pe.INK_THICKNESS:ft._defaultThickness=n;break;case Pe.INK_COLOR:ft._defaultColor=n;break;case Pe.INK_OPACITY:ft._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case Pe.INK_THICKNESS:k(this,ie,F1).call(this,n);break;case Pe.INK_COLOR:k(this,ie,j1).call(this,n);break;case Pe.INK_OPACITY:k(this,ie,B1).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Pe.INK_THICKNESS,ft._defaultThickness],[Pe.INK_COLOR,ft._defaultColor||Ze._defaultLineColor],[Pe.INK_OPACITY,Math.round(ft._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Pe.INK_THICKNESS,this.thickness||ft._defaultThickness],[Pe.INK_COLOR,this.color||ft._defaultColor||Ze._defaultLineColor],[Pe.INK_OPACITY,Math.round(100*(this.opacity??ft._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(k(this,ie,og).call(this),k(this,ie,ag).call(this)),this.isAttachedToDOM||(this.parent.add(this),k(this,ie,Ql).call(this)),k(this,ie,vd).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,d(this,wi)&&(clearTimeout(d(this,wi)),_(this,wi,null)),(t=d(this,hs))==null||t.disconnect(),_(this,hs,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,s=this.width*t,a=this.height*n;this.setDimensions(s,a)}enableEditMode(){d(this,yr)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,k(this,ie,Gw).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),k(this,ie,qw).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){d(this,yr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_(this,yr,!0),this.div.classList.add("disabled"),k(this,ie,vd).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||d(this,yr)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),k(this,ie,H1).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),k(this,ie,Ww).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),k(this,ie,Xw).call(this,t)}canvasPointerleave(t){k(this,ie,Xw).call(this,t)}get isResizable(){return!this.isEmpty()&&d(this,yr)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,a,l,c]=k(this,ie,z1).call(this);if(this.setAt(s,a,0,0),this.setDims(l,c),k(this,ie,og).call(this),this.width){const[h,f]=this.parentDimensions;this.setAspectRatio(this.width*h,this.height*f),this.setAt(t*h,n*f,this.width*h,this.height*f),_(this,tl,!0),k(this,ie,Ql).call(this),this.setDims(this.width*h,this.height*f),k(this,ie,sa).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return k(this,ie,ag).call(this),this.div}setDimensions(t,n){const s=Math.round(t),a=Math.round(n);if(d(this,nl)===s&&d(this,rl)===a)return;_(this,nl,s),_(this,rl,a),this.canvas.style.visibility="hidden";const[l,c]=this.parentDimensions;this.width=t/l,this.height=n/c,this.fixAndSetPosition(),d(this,yr)&&k(this,ie,Yw).call(this,t,n),k(this,ie,Ql).call(this),k(this,ie,sa).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,n,s){var T,A,P;if(t instanceof Xb)return null;const a=await super.deserialize(t,n,s);a.thickness=t.thickness,a.color=be.makeHexColor(...t.color),a.opacity=t.opacity;const[l,c]=a.pageDimensions,h=a.width*l,f=a.height*c,g=a.parentScale,m=t.thickness/2;_(a,yr,!0),_(a,nl,Math.round(h)),_(a,rl,Math.round(f));const{paths:y,rect:b,rotation:E}=t;for(let{bezier:L}of y){L=k(T=ft,As,X1).call(T,L,b,E);const I=[];a.paths.push(I);let O=g*(L[0]-m),N=g*(L[1]-m);for(let V=2,q=L.length;V<q;V+=6){const X=g*(L[V]-m),Z=g*(L[V+1]-m),xe=g*(L[V+2]-m),ce=g*(L[V+3]-m),oe=g*(L[V+4]-m),ge=g*(L[V+5]-m);I.push([[O,N],[X,Z],[xe,ce],[oe,ge]]),O=oe,N=ge}const z=k(this,As,q1).call(this,I);a.bezierPath2D.push(z)}const x=k(A=a,ie,Qw).call(A);return _(a,Ja,Math.max(Ze.MIN_SIZE,x[2]-x[0])),_(a,Qa,Math.max(Ze.MIN_SIZE,x[3]-x[1])),k(P=a,ie,Yw).call(P,h,f),a}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=Ze._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ie.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:k(this,ie,Y1).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Qa=new WeakMap,Ja=new WeakMap,wi=new WeakMap,ds=new WeakMap,yr=new WeakMap,Za=new WeakMap,el=new WeakMap,tl=new WeakMap,hs=new WeakMap,Kc=new WeakMap,nl=new WeakMap,rl=new WeakMap,Eo=new WeakMap,ie=new WeakSet,F1=function(t){const n=a=>{this.thickness=a,k(this,ie,vd).call(this)},s=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},j1=function(t){const n=a=>{this.color=a,k(this,ie,sa).call(this)},s=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},B1=function(t){const n=a=>{this.opacity=a,k(this,ie,sa).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},z1=function(){const{parentRotation:t,parentDimensions:[n,s]}=this;switch(t){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}},Vw=function(){const{ctx:t,color:n,opacity:s,thickness:a,parentScale:l,scaleFactor:c}=this;t.lineWidth=a*l/c,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${ND(s)}`},H1=function(t,n){this.canvas.addEventListener("contextmenu",Sr,{signal:this._uiManager._signal}),k(this,ie,qw).call(this),_(this,Za,new AbortController);const s=this._uiManager.combinedSignal(d(this,Za));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,d(this,tl)||(_(this,tl,!0),k(this,ie,Ql).call(this),this.thickness||(this.thickness=ft._defaultThickness),this.color||(this.color=ft._defaultColor||Ze._defaultLineColor),this.opacity??(this.opacity=ft._defaultOpacity)),this.currentPath.push([t,n]),_(this,el,!1),k(this,ie,Vw).call(this),_(this,Eo,()=>{k(this,ie,V1).call(this),d(this,Eo)&&window.requestAnimationFrame(d(this,Eo))}),window.requestAnimationFrame(d(this,Eo))},Ww=function(t,n){const[s,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&n===a)return;const l=this.currentPath;let c=d(this,ds);if(l.push([t,n]),_(this,el,!0),l.length<=2){c.moveTo(...l[0]),c.lineTo(t,n);return}l.length===3&&(_(this,ds,c=new Path2D),c.moveTo(...l[0])),k(this,ie,W1).call(this,c,...l.at(-3),...l.at(-2),t,n)},U1=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);d(this,ds).lineTo(...t)},$1=function(t,n){_(this,Eo,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),k(this,ie,Ww).call(this,t,n),k(this,ie,U1).call(this);let s;if(this.currentPath.length!==1)s=k(this,ie,G1).call(this);else{const f=[t,n];s=[[f,f.slice(),f.slice(),f]]}const a=d(this,ds),l=this.currentPath;this.currentPath=[],_(this,ds,new Path2D);const c=()=>{this.allRawPaths.push(l),this.paths.push(s),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},h=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(k(this,ie,og).call(this),k(this,ie,ag).call(this)),k(this,ie,vd).call(this))};this.addCommands({cmd:c,undo:h,mustExec:!0})},V1=function(){if(!d(this,el))return;_(this,el,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(c=>c[0]),a=n.map(c=>c[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...a)-t,Math.max(...a)+t;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)l.stroke(c);l.stroke(d(this,ds)),l.restore()},W1=function(t,n,s,a,l,c,h){const f=(n+a)/2,g=(s+l)/2,m=(a+c)/2,y=(l+h)/2;t.bezierCurveTo(f+2*(a-f)/3,g+2*(l-g)/3,m+2*(a-m)/3,y+2*(l-y)/3,m,y)},G1=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let s,[a,l]=t[0];for(s=1;s<t.length-2;s++){const[b,E]=t[s],[x,T]=t[s+1],A=(b+x)/2,P=(E+T)/2,L=[a+2*(b-a)/3,l+2*(E-l)/3],I=[A+2*(b-A)/3,P+2*(E-P)/3];n.push([[a,l],L,I,[A,P]]),[a,l]=[A,P]}const[c,h]=t[s],[f,g]=t[s+1],m=[a+2*(c-a)/3,l+2*(h-l)/3],y=[f+2*(c-f)/3,g+2*(h-g)/3];return n.push([[a,l],m,y,[f,g]]),n},sa=function(){if(this.isEmpty()){k(this,ie,lg).call(this);return}k(this,ie,Vw).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),k(this,ie,lg).call(this);for(const s of this.bezierPath2D)n.stroke(s)},Gw=function(){if(d(this,Kc))return;_(this,Kc,new AbortController);const t=this._uiManager.combinedSignal(d(this,Kc));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},qw=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},Xw=function(t){var n;(n=d(this,Za))==null||n.abort(),_(this,Za,null),k(this,ie,Gw).call(this),d(this,wi)&&clearTimeout(d(this,wi)),_(this,wi,setTimeout(()=>{_(this,wi,null),this.canvas.removeEventListener("contextmenu",Sr)},10)),k(this,ie,$1).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},og=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ag=function(){_(this,hs,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),d(this,hs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=d(this,hs))==null||t.disconnect(),_(this,hs,null)},{once:!0})},Ql=function(){if(!d(this,tl))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),k(this,ie,lg).call(this)},Yw=function(t,n){const s=k(this,ie,cg).call(this),a=(t-s)/d(this,Ja),l=(n-s)/d(this,Qa);this.scaleFactor=Math.min(a,l)},lg=function(){const t=k(this,ie,cg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},As=new WeakSet,q1=function(t){const n=new Path2D;for(let s=0,a=t.length;s<a;s++){const[l,c,h,f]=t[s];s===0&&n.moveTo(...l),n.bezierCurveTo(c[0],c[1],h[0],h[1],f[0],f[1])}return n},Kw=function(t,n,s){const[a,l,c,h]=n;switch(s){case 0:for(let f=0,g=t.length;f<g;f+=2)t[f]+=a,t[f+1]=h-t[f+1];break;case 90:for(let f=0,g=t.length;f<g;f+=2){const m=t[f];t[f]=t[f+1]+a,t[f+1]=m+l}break;case 180:for(let f=0,g=t.length;f<g;f+=2)t[f]=c-t[f],t[f+1]+=l;break;case 270:for(let f=0,g=t.length;f<g;f+=2){const m=t[f];t[f]=c-t[f+1],t[f+1]=h-m}break;default:throw new Error("Invalid rotation")}return t},X1=function(t,n,s){const[a,l,c,h]=n;switch(s){case 0:for(let f=0,g=t.length;f<g;f+=2)t[f]-=a,t[f+1]=h-t[f+1];break;case 90:for(let f=0,g=t.length;f<g;f+=2){const m=t[f];t[f]=t[f+1]-l,t[f+1]=m-a}break;case 180:for(let f=0,g=t.length;f<g;f+=2)t[f]=c-t[f],t[f+1]-=l;break;case 270:for(let f=0,g=t.length;f<g;f+=2){const m=t[f];t[f]=h-t[f+1],t[f+1]=c-m}break;default:throw new Error("Invalid rotation")}return t},Y1=function(t,n,s,a){var g,m;const l=[],c=this.thickness/2,h=t*n+c,f=t*s+c;for(const y of this.paths){const b=[],E=[];for(let x=0,T=y.length;x<T;x++){const[A,P,L,I]=y[x];if(A[0]===I[0]&&A[1]===I[1]&&T===1){const ce=t*A[0]+h,oe=t*A[1]+f;b.push(ce,oe),E.push(ce,oe);break}const O=t*A[0]+h,N=t*A[1]+f,z=t*P[0]+h,V=t*P[1]+f,q=t*L[0]+h,X=t*L[1]+f,Z=t*I[0]+h,xe=t*I[1]+f;x===0&&(b.push(O,N),E.push(O,N)),b.push(z,V,q,X,Z,xe),E.push(z,V),x===T-1&&E.push(Z,xe)}l.push({bezier:k(g=ft,As,Kw).call(g,b,a,this.rotation),points:k(m=ft,As,Kw).call(m,E,a,this.rotation)})}return l},Qw=function(){let t=1/0,n=-1/0,s=1/0,a=-1/0;for(const l of this.paths)for(const[c,h,f,g]of l){const m=be.bezierBoundingBox(...c,...h,...f,...g);t=Math.min(t,m[0]),s=Math.min(s,m[1]),n=Math.max(n,m[2]),a=Math.max(a,m[3])}return[t,s,n,a]},cg=function(){return d(this,yr)?Math.ceil(this.thickness*this.parentScale):0},vd=function(t=!1){if(this.isEmpty())return;if(!d(this,yr)){k(this,ie,sa).call(this);return}const n=k(this,ie,Qw).call(this),s=k(this,ie,cg).call(this);_(this,Ja,Math.max(Ze.MIN_SIZE,n[2]-n[0])),_(this,Qa,Math.max(Ze.MIN_SIZE,n[3]-n[1]));const a=Math.ceil(s+d(this,Ja)*this.scaleFactor),l=Math.ceil(s+d(this,Qa)*this.scaleFactor),[c,h]=this.parentDimensions;this.width=a/c,this.height=l/h,this.setAspectRatio(a,l);const f=this.translationX,g=this.translationY;this.translationX=-n[0],this.translationY=-n[1],k(this,ie,Ql).call(this),k(this,ie,sa).call(this),_(this,nl,a),_(this,rl,l),this.setDims(a,l);const m=t?s/this.scaleFactor/2:0;this.translate(f-this.translationX-m,g-this.translationY-m)},R(ft,As),Re(ft,"_defaultColor",null),Re(ft,"_defaultOpacity",1),Re(ft,"_defaultThickness",1),Re(ft,"_type","ink"),Re(ft,"_editorType",Ie.INK);let $w=ft;var gt,sn,xo,fs,So,Qc,bi,ps,Ei,tr,Jc,Ue,wd,bd,ug,Zw,K1,dg,eb,hg,Q1,J1;const _d=class _d extends Ze{constructor(t){super({...t,name:"stampEditor"});R(this,Ue);R(this,gt,null);R(this,sn,null);R(this,xo,null);R(this,fs,null);R(this,So,null);R(this,Qc,"");R(this,bi,null);R(this,ps,null);R(this,Ei,null);R(this,tr,!1);R(this,Jc,!1);_(this,fs,t.bitmapUrl),_(this,So,t.bitmapFile)}static initialize(t,n){Ze.initialize(t,n)}static get supportedTypes(){return Ve(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Ve(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Ie.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:a,width:l,height:c,channels:a.length/(l*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const f=h.output;return await this.setGuessedAltText(f),n&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}remove(){var t,n;d(this,sn)&&(_(this,gt,null),this._uiManager.imageManager.deleteId(d(this,sn)),(t=d(this,bi))==null||t.remove(),_(this,bi,null),(n=d(this,ps))==null||n.disconnect(),_(this,ps,null),d(this,Ei)&&(clearTimeout(d(this,Ei)),_(this,Ei,null))),super.remove()}rebuild(){if(!this.parent){d(this,sn)&&k(this,Ue,ug).call(this);return}super.rebuild(),this.div!==null&&(d(this,sn)&&d(this,bi)===null&&k(this,Ue,ug).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(d(this,xo)||d(this,gt)||d(this,fs)||d(this,So)||d(this,sn))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),d(this,gt)?k(this,Ue,Zw).call(this):k(this,Ue,ug).call(this),this.width&&!this.annotationElementId){const[s,a]=this.parentDimensions;this.setAt(t*s,n*a,this.width*s,this.height*a)}return this.div}copyCanvas(t,n,s=!1){var b;t||(t=224);const{width:a,height:l}=d(this,gt),c=new Xv;let h=d(this,gt),f=a,g=l,m=null;if(n){if(a>n||l>n){const V=Math.min(n/a,n/l);f=Math.floor(a*V),g=Math.floor(l*V)}m=document.createElement("canvas");const E=m.width=Math.ceil(f*c.sx),x=m.height=Math.ceil(g*c.sy);d(this,tr)||(h=k(this,Ue,dg).call(this,E,x));const T=m.getContext("2d");T.filter=this._uiManager.hcmFilter;let A="white",P="#cfcfd8";this._uiManager.hcmFilter!=="none"?P="black":(b=window.matchMedia)!=null&&b.call(window,"(prefers-color-scheme: dark)").matches&&(A="#8f8f9d",P="#42414d");const L=15,I=L*c.sx,O=L*c.sy,N=new OffscreenCanvas(I*2,O*2),z=N.getContext("2d");z.fillStyle=A,z.fillRect(0,0,I*2,O*2),z.fillStyle=P,z.fillRect(0,0,I,O),z.fillRect(I,O,I,O),T.fillStyle=T.createPattern(N,"repeat"),T.fillRect(0,0,E,x),T.drawImage(h,0,0,h.width,h.height,0,0,E,x)}let y=null;if(s){let E,x;if(c.symmetric&&h.width<t&&h.height<t)E=h.width,x=h.height;else if(h=d(this,gt),a>t||l>t){const P=Math.min(t/a,t/l);E=Math.floor(a*P),x=Math.floor(l*P),d(this,tr)||(h=k(this,Ue,dg).call(this,E,x))}const A=new OffscreenCanvas(E,x).getContext("2d",{willReadFrequently:!0});A.drawImage(h,0,0,h.width,h.height,0,0,E,x),y={width:E,height:x,data:A.getImageData(0,0,E,x).data}}return{canvas:m,width:f,height:g,imageData:y}}getImageForAltText(){return d(this,bi)}static async deserialize(t,n,s){var x;let a=null;if(t instanceof l1){const{data:{rect:T,rotation:A,id:P,structParent:L,popupRef:I},container:O,parent:{page:{pageNumber:N}}}=t,z=O.querySelector("canvas"),V=s.imageManager.getFromCanvas(O.id,z);z.remove();const q=((x=await n._structTree.getAriaAttributes(`${Fb}${P}`))==null?void 0:x.get("aria-label"))||"";a=t={annotationType:Ie.STAMP,bitmapId:V.id,bitmap:V.bitmap,pageIndex:N-1,rect:T.slice(0),rotation:A,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:q},isSvg:!1,structParent:L,popupRef:I}}const l=await super.deserialize(t,n,s),{rect:c,bitmap:h,bitmapUrl:f,bitmapId:g,isSvg:m,accessibilityData:y}=t;g&&s.imageManager.isValidId(g)?(_(l,sn,g),h&&_(l,gt,h)):_(l,fs,f),_(l,tr,m);const[b,E]=l.pageDimensions;return l.width=(c[2]-c[0])/b,l.height=(c[3]-c[1])/E,l.annotationElementId=t.id||null,y&&(l.altTextData=y),l._initialData=a,_(l,Jc,!!a),l}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Ie.STAMP,bitmapId:d(this,sn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,tr),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=k(this,Ue,hg).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:a,altText:l}=this.serializeAltText(!1);if(!a&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=k(this,Ue,J1).call(this,s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||(n.stamps=new Map);const c=d(this,tr)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(d(this,sn)))n.stamps.set(d(this,sn),{area:c,serialized:s}),s.bitmap=k(this,Ue,hg).call(this,!1);else if(d(this,tr)){const h=n.stamps.get(d(this,sn));c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=k(this,Ue,hg).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};gt=new WeakMap,sn=new WeakMap,xo=new WeakMap,fs=new WeakMap,So=new WeakMap,Qc=new WeakMap,bi=new WeakMap,ps=new WeakMap,Ei=new WeakMap,tr=new WeakMap,Jc=new WeakMap,Ue=new WeakSet,wd=function(t,n=!1){if(!t){this.remove();return}_(this,gt,t.bitmap),n||(_(this,sn,t.id),_(this,tr,t.isSvg)),t.file&&_(this,Qc,t.file.name),k(this,Ue,Zw).call(this)},bd=function(){if(_(this,xo,null),this._uiManager.enableWaiting(!1),!!d(this,bi)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,gt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,gt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},ug=function(){if(d(this,sn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,sn)).then(s=>k(this,Ue,wd).call(this,s,!0)).finally(()=>k(this,Ue,bd).call(this));return}if(d(this,fs)){const s=d(this,fs);_(this,fs,null),this._uiManager.enableWaiting(!0),_(this,xo,this._uiManager.imageManager.getFromUrl(s).then(a=>k(this,Ue,wd).call(this,a)).finally(()=>k(this,Ue,bd).call(this)));return}if(d(this,So)){const s=d(this,So);_(this,So,null),this._uiManager.enableWaiting(!0),_(this,xo,this._uiManager.imageManager.getFromFile(s).then(a=>k(this,Ue,wd).call(this,a)).finally(()=>k(this,Ue,bd).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=_d.supportedTypesStr;const n=this._uiManager._signal;_(this,xo,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,Ue,wd).call(this,a)}s()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>k(this,Ue,bd).call(this))),t.click()},Zw=function(){const{div:t}=this;let{width:n,height:s}=d(this,gt);const[a,l]=this.pageDimensions,c=.75;if(this.width)n=this.width*a,s=this.height*l;else if(n>c*a||s>c*l){const m=Math.min(c*a/n,c*l/s);n*=m,s*=m}const[h,f]=this.parentDimensions;this.setDims(n*h/a,s*f/l),this._uiManager.enableWaiting(!1);const g=_(this,bi,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),k(this,Ue,eb).call(this,n,s),k(this,Ue,Q1).call(this),d(this,Jc)||(this.parent.addUndoableEditor(this),_(this,Jc,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,Qc)&&g.setAttribute("aria-label",d(this,Qc))},K1=function(t,n){var c;const[s,a]=this.parentDimensions;this.width=t/s,this.height=n/a,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,d(this,Ei)!==null&&clearTimeout(d(this,Ei)),_(this,Ei,setTimeout(()=>{_(this,Ei,null),k(this,Ue,eb).call(this,t,n)},200))},dg=function(t,n){const{width:s,height:a}=d(this,gt);let l=s,c=a,h=d(this,gt);for(;l>2*t||c>2*n;){const f=l,g=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const m=new OffscreenCanvas(l,c);m.getContext("2d").drawImage(h,0,0,f,g,0,0,l,c),h=m.transferToImageBitmap()}return h},eb=function(t,n){const s=new Xv,a=Math.ceil(t*s.sx),l=Math.ceil(n*s.sy),c=d(this,bi);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const h=d(this,tr)?d(this,gt):k(this,Ue,dg).call(this,a,l),f=c.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,a,l)},hg=function(t){if(t){if(d(this,tr)){const a=this._uiManager.imageManager.getSvgUrl(d(this,sn));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=d(this,gt),n.getContext("2d").drawImage(d(this,gt),0,0),n.toDataURL()}if(d(this,tr)){const[n,s]=this.pageDimensions,a=Math.round(this.width*n*Ro.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*Ro.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,l);return c.getContext("2d").drawImage(d(this,gt),0,0,d(this,gt).width,d(this,gt).height,0,0,a,l),c.transferToImageBitmap()}return structuredClone(d(this,gt))},Q1=function(){this._uiManager._signal&&(_(this,ps,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&k(this,Ue,K1).call(this,n.width,n.height)})),d(this,ps).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=d(this,ps))==null||t.disconnect(),_(this,ps,null)},{once:!0}))},J1=function(t){var f;const{rect:n,pageIndex:s,accessibilityData:{altText:a}}=this._initialData,l=t.rect.every((g,m)=>Math.abs(g-n[m])<1),c=t.pageIndex===s,h=(((f=t.accessibilityData)==null?void 0:f.alt)||"")===a;return{isSame:l&&c&&h,isSameAltText:h}},Re(_d,"_type","stamp"),Re(_d,"_editorType",Ie.STAMP);let Jw=_d;var il,Zc,xi,_o,gs,nr,Ao,eu,tu,mn,ms,Se,Co,on,Z1,nb,rb,ib,fg;const Ir=class Ir{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:s,accessibilityManager:a,annotationLayer:l,drawLayer:c,textLayer:h,viewport:f,l10n:g}){R(this,on);R(this,il);R(this,Zc,!1);R(this,xi,null);R(this,_o,null);R(this,gs,null);R(this,nr,new Map);R(this,Ao,!1);R(this,eu,!1);R(this,tu,!1);R(this,mn,null);R(this,ms,null);R(this,Se);const m=[...d(Ir,Co).values()];if(!Ir._initialized){Ir._initialized=!0;for(const y of m)y.initialize(g,e)}e.registerEditorTypes(m),_(this,Se,e),this.pageIndex=t,this.div=n,_(this,il,a),_(this,xi,l),this.viewport=f,_(this,mn,h),this.drawLayer=c,this._structTree=s,d(this,Se).addLayer(this)}get isEmpty(){return d(this,nr).size===0}get isInvisible(){return this.isEmpty&&d(this,Se).getMode()===Ie.NONE}updateToolbar(e){d(this,Se).updateToolbar(e)}updateMode(e=d(this,Se).getMode()){switch(k(this,on,fg).call(this),e){case Ie.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ie.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ie.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of d(Ir,Co).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=d(this,mn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(d(this,Se).getMode()!==Ie.INK)return;if(!e){for(const n of d(this,nr).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){d(this,Se).setEditingState(e)}addCommands(e){d(this,Se).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=d(this,xi))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of d(this,nr).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(d(this,Se).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!d(this,xi))return;const t=d(this,xi).getEditableAnnotations();for(const n of t){if(n.hide(),d(this,Se).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;_(this,tu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const a of d(this,nr).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else t.set(a.annotationElementId,a);(s=this.getEditableAnnotation(a.annotationElementId))==null||s.show(),a.remove()}if(d(this,xi)){const a=d(this,xi).getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(d(this,Se).isDeletedAnnotationElement(c))continue;let h=t.get(c);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=e.get(c),h&&(d(this,Se).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}k(this,on,fg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const a of d(Ir,Co).values())n.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),_(this,tu,!1)}getEditableAnnotation(e){var t;return((t=d(this,xi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){d(this,Se).getActive()!==e&&d(this,Se).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=d(this,mn))!=null&&e.div&&!d(this,ms)){_(this,ms,new AbortController);const t=d(this,Se).combinedSignal(d(this,ms));d(this,mn).div.addEventListener("pointerdown",k(this,on,Z1).bind(this),{signal:t}),d(this,mn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=d(this,mn))!=null&&e.div&&d(this,ms)&&(d(this,ms).abort(),_(this,ms,null),d(this,mn).div.classList.remove("highlighting"))}enableClick(){if(d(this,_o))return;_(this,_o,new AbortController);const e=d(this,Se).combinedSignal(d(this,_o));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=d(this,_o))==null||e.abort(),_(this,_o,null)}attach(e){d(this,nr).set(e.id,e);const{annotationElementId:t}=e;t&&d(this,Se).isDeletedAnnotationElement(t)&&d(this,Se).removeDeletedAnnotationElement(e)}detach(e){var t;d(this,nr).delete(e.id),(t=d(this,il))==null||t.removePointerInTextLayer(e.contentDiv),!d(this,tu)&&e.annotationElementId&&d(this,Se).addDeletedAnnotationElement(e)}remove(e){this.detach(e),d(this,Se).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,d(this,eu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(d(this,Se).addDeletedAnnotationElement(e.annotationElementId),Ze.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),d(this,Se).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),d(this,Se).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!d(this,gs)&&(e._focusEventsAllowed=!1,_(this,gs,setTimeout(()=>{_(this,gs,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:d(this,Se)._signal}),t.focus())},0))),e._structTreeParentId=(n=d(this,il))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return d(this,Se).getId()}combinedSignal(e){return d(this,Se).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=d(this,on,nb))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){d(this,Se).updateToolbar(e),d(this,Se).updateMode(e);const{offsetX:n,offsetY:s}=k(this,on,ib).call(this),a=this.getNextId(),l=k(this,on,rb).call(this,{parent:this,id:a,x:n,y:s,uiManager:d(this,Se),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=d(Ir,Co).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,d(this,Se)))||null}createAndAddNewEditor(e,t,n={}){const s=this.getNextId(),a=k(this,on,rb).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:d(this,Se),isCentered:t,...n});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(k(this,on,ib).call(this),!0)}setSelected(e){d(this,Se).setSelected(e)}toggleSelected(e){d(this,Se).toggleSelected(e)}unselect(e){d(this,Se).unselect(e)}pointerup(e){const{isMac:t}=Tn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&d(this,Ao)){if(_(this,Ao,!1),!d(this,Zc)){_(this,Zc,!0);return}if(d(this,Se).getMode()===Ie.STAMP){d(this,Se).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(d(this,Se).getMode()===Ie.HIGHLIGHT&&this.enableTextSelection(),d(this,Ao)){_(this,Ao,!1);return}const{isMac:t}=Tn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;_(this,Ao,!0);const n=d(this,Se).getActive();_(this,Zc,!n||n.isEmpty())}findNewParent(e,t,n){const s=d(this,Se).findParent(t,n);return s===null||s===this?!1:(s.changeParent(e),!0)}destroy(){var e,t;((e=d(this,Se).getActive())==null?void 0:e.parent)===this&&(d(this,Se).commitOrRemove(),d(this,Se).setActiveEditor(null)),d(this,gs)&&(clearTimeout(d(this,gs)),_(this,gs,null));for(const n of d(this,nr).values())(t=d(this,il))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,d(this,nr).clear(),d(this,Se).removeLayer(this)}render({viewport:e}){this.viewport=e,ol(this.div,e);for(const t of d(this,Se).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){d(this,Se).commitOrRemove(),k(this,on,fg).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,ol(this.div,{rotation:n}),t!==n)for(const s of d(this,nr).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return d(this,Se).viewParameters.realScale}};il=new WeakMap,Zc=new WeakMap,xi=new WeakMap,_o=new WeakMap,gs=new WeakMap,nr=new WeakMap,Ao=new WeakMap,eu=new WeakMap,tu=new WeakMap,mn=new WeakMap,ms=new WeakMap,Se=new WeakMap,Co=new WeakMap,on=new WeakSet,Z1=function(e){d(this,Se).unselectAll();const{target:t}=e;if(t===d(this,mn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&d(this,mn).div.contains(t)){const{isMac:n}=Tn.platform;if(e.button!==0||e.ctrlKey&&n)return;d(this,Se).showAllEditors("highlight",!0,!0),d(this,mn).div.classList.add("free"),this.toggleDrawing(),kg.startHighlighting(this,d(this,Se).direction==="ltr",{target:d(this,mn).div,x:e.x,y:e.y}),d(this,mn).div.addEventListener("pointerup",()=>{d(this,mn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,Se)._signal}),e.preventDefault()}},nb=function(){return d(Ir,Co).get(d(this,Se).getMode())},rb=function(e){const t=d(this,on,nb);return t?new t.prototype.constructor(e):null},ib=function(){const{x:e,y:t,width:n,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,e),l=Math.max(0,t),c=Math.min(window.innerWidth,e+n),h=Math.min(window.innerHeight,t+s),f=(a+c)/2-e,g=(l+h)/2-t,[m,y]=this.viewport.rotation%180===0?[f,g]:[g,f];return{offsetX:m,offsetY:y}},fg=function(){_(this,eu,!0);for(const e of d(this,nr).values())e.isEmpty()&&e.remove();_(this,eu,!1)},Re(Ir,"_initialized",!1),R(Ir,Co,new Map([Nw,$w,Jw,kg].map(e=>[e._editorType,e])));let tb=Ir;var Si,Hh,Rt,ys,Uh,ob,dl,ab,ek;const tn=class tn{constructor({pageIndex:e}){R(this,dl);R(this,Si,null);R(this,Hh,0);R(this,Rt,new Map);R(this,ys,new Map);this.pageIndex=e}setParent(e){if(!d(this,Si)){_(this,Si,e);return}if(d(this,Si)!==e){if(d(this,Rt).size>0)for(const t of d(this,Rt).values())t.remove(),e.append(t);_(this,Si,e)}}static get _svgFactory(){return Ve(this,"_svgFactory",new qb)}draw(e,t,n,s=!1){const a=xn(this,Hh)._++,l=k(this,dl,ab).call(this,e.box);l.classList.add(...e.classNamesForDrawing);const c=tn._svgFactory.createElement("defs");l.append(c);const h=tn._svgFactory.createElement("path");c.append(h);const f=`path_p${this.pageIndex}_${a}`;h.setAttribute("id",f),h.setAttribute("d",e.toSVGPath()),s&&d(this,ys).set(a,h);const g=k(this,dl,ek).call(this,c,f),m=tn._svgFactory.createElement("use");return l.append(m),l.setAttribute("fill",t),l.setAttribute("fill-opacity",n),m.setAttribute("href",`#${f}`),d(this,Rt).set(a,l),{id:a,clipPathId:`url(#${g})`}}drawOutline(e){const t=xn(this,Hh)._++,n=k(this,dl,ab).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const s=tn._svgFactory.createElement("defs");n.append(s);const a=tn._svgFactory.createElement("path");s.append(a);const l=`path_p${this.pageIndex}_${t}`;a.setAttribute("id",l),a.setAttribute("d",e.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(e.mustRemoveSelfIntersections){const g=tn._svgFactory.createElement("mask");s.append(g),c=`mask_p${this.pageIndex}_${t}`,g.setAttribute("id",c),g.setAttribute("maskUnits","objectBoundingBox");const m=tn._svgFactory.createElement("rect");g.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=tn._svgFactory.createElement("use");g.append(y),y.setAttribute("href",`#${l}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const h=tn._svgFactory.createElement("use");n.append(h),h.setAttribute("href",`#${l}`),c&&h.setAttribute("mask",`url(#${c})`);const f=h.cloneNode();return n.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),d(this,Rt).set(t,n),t}finalizeLine(e,t){const n=d(this,ys).get(e);d(this,ys).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){d(this,Rt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){d(this,ys).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;k(n=tn,Uh,ob).call(n,d(this,Rt).get(e),t)}show(e,t){d(this,Rt).get(e).classList.toggle("hidden",!t)}rotate(e,t){d(this,Rt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){d(this,Rt).get(e).setAttribute("fill",t)}changeOpacity(e,t){d(this,Rt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){d(this,Rt).get(e).classList.add(t)}removeClass(e,t){d(this,Rt).get(e).classList.remove(t)}getSVGRoot(e){return d(this,Rt).get(e)}remove(e){d(this,ys).delete(e),d(this,Si)!==null&&(d(this,Rt).get(e).remove(),d(this,Rt).delete(e))}destroy(){_(this,Si,null);for(const e of d(this,Rt).values())e.remove();d(this,Rt).clear(),d(this,ys).clear()}};Si=new WeakMap,Hh=new WeakMap,Rt=new WeakMap,ys=new WeakMap,Uh=new WeakSet,ob=function(e,{x:t=0,y:n=0,width:s=1,height:a=1}={}){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*s}%`,l.height=`${100*a}%`},dl=new WeakSet,ab=function(e){var n;const t=tn._svgFactory.create(1,1,!0);return d(this,Si).append(t),t.setAttribute("aria-hidden",!0),k(n=tn,Uh,ob).call(n,t,e),t},ek=function(e,t){const n=tn._svgFactory.createElement("clipPath");e.append(n);const s=`clip_${t}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const a=tn._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),s},R(tn,Uh);let sb=tn;var fF=Le.AbortException,pF=Le.AnnotationEditorLayer,gF=Le.AnnotationEditorParamsType,mF=Le.AnnotationEditorType,yF=Le.AnnotationEditorUIManager,tk=Le.AnnotationLayer,nk=Le.AnnotationMode,vF=Le.ColorPicker,wF=Le.DOMSVGFactory,bF=Le.DrawLayer,EF=Le.FeatureTest,Yb=Le.GlobalWorkerOptions,xF=Le.ImageKind,SF=Le.InvalidPDFException,_F=Le.MissingPDFException,AF=Le.OPS,CF=Le.OutputScale,kF=Le.PDFDataRangeTransport,TF=Le.PDFDateString,RF=Le.PDFWorker,PF=Le.PasswordResponses,LF=Le.PermissionFlag,MF=Le.PixelsPerInch,IF=Le.RenderingCancelledException,rk=Le.TextLayer,NF=Le.UnexpectedResponseException,DF=Le.Util,OF=Le.VerbosityLevel,FF=Le.XfaLayer,jF=Le.build,BF=Le.createValidAbsoluteUrl,zF=Le.fetchData,ik=Le.getDocument,HF=Le.getFilenameFromUrl,UF=Le.getPdfFilenameFromUrl,$F=Le.getXfaPageViewport,VF=Le.isDataScheme,WF=Le.isPdfFile,GF=Le.noContextMenu,qF=Le.normalizeUnicode,XF=Le.setLayerDimensions,YF=Le.shadow,KF=Le.version;const QF=Object.freeze(Object.defineProperty({__proto__:null,AbortException:fF,AnnotationEditorLayer:pF,AnnotationEditorParamsType:gF,AnnotationEditorType:mF,AnnotationEditorUIManager:yF,AnnotationLayer:tk,AnnotationMode:nk,ColorPicker:vF,DOMSVGFactory:wF,DrawLayer:bF,FeatureTest:EF,GlobalWorkerOptions:Yb,ImageKind:xF,InvalidPDFException:SF,MissingPDFException:_F,OPS:AF,OutputScale:CF,PDFDataRangeTransport:kF,PDFDateString:TF,PDFWorker:RF,PasswordResponses:PF,PermissionFlag:LF,PixelsPerInch:MF,RenderingCancelledException:IF,TextLayer:rk,UnexpectedResponseException:NF,Util:DF,VerbosityLevel:OF,XfaLayer:FF,build:jF,createValidAbsoluteUrl:BF,fetchData:zF,getDocument:ik,getFilenameFromUrl:HF,getPdfFilenameFromUrl:UF,getXfaPageViewport:$F,isDataScheme:VF,isPdfFile:WF,noContextMenu:GF,normalizeUnicode:qF,setLayerDimensions:XF,shadow:YF,version:KF},Symbol.toStringTag,{value:"Module"}));var Gt=function(i,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return i.concat(a||Array.prototype.slice.call(e))},JF=["onCopy","onCut","onPaste"],ZF=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],e2=["onFocus","onBlur"],t2=["onInput","onInvalid","onReset","onSubmit"],n2=["onLoad","onError"],r2=["onKeyDown","onKeyPress","onKeyUp"],i2=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],s2=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],o2=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],a2=["onSelect"],l2=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],c2=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],u2=["onScroll"],d2=["onWheel"],h2=["onAnimationStart","onAnimationEnd","onAnimationIteration"],f2=["onTransitionEnd"],p2=["onToggle"],g2=["onChange"],m2=Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt([],JF,!0),ZF,!0),e2,!0),t2,!0),n2,!0),r2,!0),i2,!0),s2,!0),o2,!0),a2,!0),l2,!0),c2,!0),u2,!0),d2,!0),h2,!0),f2,!0),g2,!0),p2,!0);function sk(i,e){var t={};return m2.forEach(function(n){var s=i[n];s&&(e?t[n]=function(a){return s(a,e(n))}:t[n]=s)}),t}function Qh(i){var e=!1,t=new Promise(function(n,s){i.then(function(a){return!e&&n(a)}).catch(function(a){return!e&&s(a)})});return{promise:t,cancel:function(){e=!0}}}var y2="Invariant failed";function nt(i,e){if(!i)throw new Error(y2)}var kv,GS;function v2(){if(GS)return kv;GS=1;var i=function(){};return kv=i,kv}var w2=v2();const yn=hb(w2);var qS=Object.prototype.hasOwnProperty;function XS(i,e,t){for(t of i.keys())if(nc(t,e))return t}function nc(i,e){var t,n,s;if(i===e)return!0;if(i&&e&&(t=i.constructor)===e.constructor){if(t===Date)return i.getTime()===e.getTime();if(t===RegExp)return i.toString()===e.toString();if(t===Array){if((n=i.length)===e.length)for(;n--&&nc(i[n],e[n]););return n===-1}if(t===Set){if(i.size!==e.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=XS(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(i.size!==e.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=XS(e,s),!s)||!nc(n[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)i=new Uint8Array(i),e=new Uint8Array(e);else if(t===DataView){if((n=i.byteLength)===e.byteLength)for(;n--&&i.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===e.byteLength)for(;n--&&i[n]===e[n];);return n===-1}if(!t||typeof i=="object"){n=0;for(t in i)if(qS.call(i,t)&&++n&&!qS.call(e,t)||!(t in e)||!nc(i[t],e[t]))return!1;return Object.keys(e).length===n}}return i!==i&&e!==e}const ok=S.createContext(null);function rc({children:i,type:e}){return D.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:i})}const b2="noopener noreferrer nofollow";class E2{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return nt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){nt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{nt(this.pdfDocument),nt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{nt(Array.isArray(t));const n=t[0];new Promise(s=>{nt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(a=>{s(a)}).catch(()=>{nt(!1)}):typeof n=="number"?s(n):nt(!1)}).then(s=>{const a=s+1;nt(this.pdfViewer),nt(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:a})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;nt(this.pdfViewer),nt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||b2,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const YS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},lm=typeof window<"u",ak=lm&&window.location.protocol==="file:";function x2(i){return typeof i<"u"}function ea(i){return x2(i)&&i!==null}function S2(i){return typeof i=="string"}function _2(i){return i instanceof ArrayBuffer}function A2(i){return nt(lm),i instanceof Blob}function lb(i){return S2(i)&&/^data:/.test(i)}function KS(i){nt(lb(i));const[e="",t=""]=i.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function C2(){return lm&&window.devicePixelRatio||1}const lk="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function QS(){yn(!ak,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${lk}`)}function k2(){yn(!ak,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${lk}`)}function cl(i){i!=null&&i.cancel&&i.cancel()}function cb(i,e){return Object.defineProperty(i,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function T2(i){return i.name==="RenderingCancelledException"}function R2(i){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:a}=s.target;if(!a)return t(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function P2(i,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function iu(){return S.useReducer(P2,{value:void 0,error:void 0})}var L2=function(i,e,t,n){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(n.next(g))}catch(m){l(m)}}function h(g){try{f(n.throw(g))}catch(m){l(m)}}function f(g){g.done?a(g.value):s(g.value).then(c,h)}f((n=n.apply(i,e||[])).next())})},JS=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(t[n[s]]=i[n[s]]);return t};const{PDFDataRangeTransport:M2}=QF,I2=(i,e)=>{switch(e){case YS.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");i(t);break}case YS.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");i(t);break}}};function ZS(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const N2=S.forwardRef(function(e,t){var{children:n,className:s,error:a="Failed to load PDF file.",externalLinkRel:l,externalLinkTarget:c,file:h,inputRef:f,imageResourcesPath:g,loading:m="Loading PDF",noData:y="No PDF file specified.",onItemClick:b,onLoadError:E,onLoadProgress:x,onLoadSuccess:T,onPassword:A=I2,onSourceError:P,onSourceSuccess:L,options:I,renderMode:O,rotate:N}=e,z=JS(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[V,q]=iu(),{value:X,error:Z}=V,[xe,ce]=iu(),{value:oe,error:ge}=xe,J=S.useRef(new E2),ee=S.useRef([]),W=S.useRef(void 0),re=S.useRef(void 0);h&&h!==W.current&&ZS(h)&&(yn(!nc(h,W.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),W.current=h),I&&I!==re.current&&(yn(!nc(I,re.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),re.current=I);const ne=S.useRef({scrollPageIntoView:qe=>{const{dest:lt,pageNumber:Mt,pageIndex:xt=Mt-1}=qe;if(b){b({dest:lt,pageIndex:xt,pageNumber:Mt});return}const Jr=ee.current[xt];if(Jr){Jr.scrollIntoView();return}yn(!1,`An internal link leading to page ${Mt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});S.useImperativeHandle(t,()=>({linkService:J,pages:ee,viewer:ne}),[]);function B(){L&&L()}function G(){Z&&(yn(!1,Z.toString()),P&&P(Z))}function ue(){q({type:"RESET"})}S.useEffect(ue,[h,q]);const Ee=S.useCallback(()=>L2(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return lb(h)?{data:KS(h)}:(QS(),{url:h});if(h instanceof M2)return{range:h};if(_2(h))return{data:h};if(lm&&A2(h))return{data:yield R2(h)};if(nt(typeof h=="object"),nt(ZS(h)),"url"in h&&typeof h.url=="string"){if(lb(h.url)){const{url:qe}=h,lt=JS(h,["url"]),Mt=KS(qe);return Object.assign({data:Mt},lt)}QS()}return h}),[h]);S.useEffect(()=>{const qe=Qh(Ee());return qe.promise.then(lt=>{q({type:"RESOLVE",value:lt})}).catch(lt=>{q({type:"REJECT",error:lt})}),()=>{cl(qe)}},[Ee,q]),S.useEffect(()=>{if(!(typeof X>"u")){if(X===!1){G();return}B()}},[X]);function ke(){oe&&(T&&T(oe),ee.current=new Array(oe.numPages),J.current.setDocument(oe))}function we(){ge&&(yn(!1,ge.toString()),E&&E(ge))}S.useEffect(function(){ce({type:"RESET"})},[ce,X]),S.useEffect(function(){if(!X)return;const lt=I?Object.assign(Object.assign({},X),I):X,Mt=ik(lt);x&&(Mt.onProgress=x),A&&(Mt.onPassword=A);const xt=Mt,Jr=xt.promise.then(ks=>{ce({type:"RESOLVE",value:ks})}).catch(ks=>{xt.destroyed||ce({type:"REJECT",error:ks})});return()=>{Jr.finally(()=>xt.destroy())}},[I,ce,X]),S.useEffect(()=>{if(!(typeof oe>"u")){if(oe===!1){we();return}ke()}},[oe]),S.useEffect(function(){J.current.setViewer(ne.current),J.current.setExternalLinkRel(l),J.current.setExternalLinkTarget(c)},[l,c]);const me=S.useCallback((qe,lt)=>{ee.current[qe]=lt},[]),Ne=S.useCallback(qe=>{delete ee.current[qe]},[]),ze=S.useMemo(()=>({imageResourcesPath:g,linkService:J.current,onItemClick:b,pdf:oe,registerPage:me,renderMode:O,rotate:N,unregisterPage:Ne}),[g,b,oe,me,O,N,Ne]),Fe=S.useMemo(()=>sk(z,()=>oe),[z,oe]);function Qr(){return D.jsx(ok.Provider,{value:ze,children:n})}function Cs(){return h?oe==null?D.jsx(rc,{type:"loading",children:typeof m=="function"?m():m}):oe===!1?D.jsx(rc,{type:"error",children:typeof a=="function"?a():a}):Qr():D.jsx(rc,{type:"no-data",children:typeof y=="function"?y():y})}return D.jsx("div",Object.assign({className:lu("react-pdf__Document",s),ref:f,style:{"--scale-factor":"1"}},Fe,{children:Cs()}))});function ck(){return S.useContext(ok)}function uk(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var t=i.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(a){t.forEach(function(l){typeof l=="function"?l(a):l&&(l.current=a)})}}const dk=S.createContext(null),hk={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},D2=/^H(\d+)$/;function O2(i){return i in hk}function cm(i){return"children"in i}function fk(i){return cm(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function F2(i){const e={};if(cm(i)){const{role:t}=i,n=t.match(D2);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(O2(t)){const s=hk[t];s&&(e.role=s)}}return e}function pk(i){const e={};if(cm(i)){if(i.alt!==void 0&&(e["aria-label"]=i.alt),i.lang!==void 0&&(e.lang=i.lang),fk(i)){const[t]=i.children;if(t){const n=pk(t);return Object.assign(Object.assign({},e),n)}}}else"id"in i&&(e["aria-owns"]=i.id);return e}function j2(i){return i?Object.assign(Object.assign({},F2(i)),pk(i)):null}function gk({className:i,node:e}){const t=S.useMemo(()=>j2(e),[e]),n=S.useMemo(()=>!cm(e)||fk(e)?null:e.children.map((s,a)=>D.jsx(gk,{node:s},a)),[e]);return D.jsx("span",Object.assign({className:i},t,{children:n}))}function um(){return S.useContext(dk)}function B2(){const i=um();nt(i);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=i,[n,s]=iu(),{value:a,error:l}=n,{customTextRenderer:c,page:h}=i;function f(){a&&t&&t(a)}function g(){l&&(yn(!1,l.toString()),e&&e(l))}return S.useEffect(function(){s({type:"RESET"})},[s,h]),S.useEffect(function(){if(c||!h)return;const y=Qh(h.getStructTree()),b=y;return y.promise.then(E=>{s({type:"RESOLVE",value:E})}).catch(E=>{s({type:"REJECT",error:E})}),()=>cl(b)},[c,h,s]),S.useEffect(()=>{if(a!==void 0){if(a===!1){g();return}f()}},[a]),a?D.jsx(gk,{className:"react-pdf__Page__structTree structTree",node:a}):null}const e_=nk;function z2(i){const e=um();nt(e);const t=Object.assign(Object.assign({},e),i),{_className:n,canvasBackground:s,devicePixelRatio:a=C2(),onRenderError:l,onRenderSuccess:c,page:h,renderForms:f,renderTextLayer:g,rotate:m,scale:y}=t,{canvasRef:b}=i;nt(h);const E=S.useRef(null);function x(){h&&c&&c(cb(h,y))}function T(I){T2(I)||(yn(!1,I.toString()),l&&l(I))}const A=S.useMemo(()=>h.getViewport({scale:y*a,rotation:m}),[a,h,m,y]),P=S.useMemo(()=>h.getViewport({scale:y,rotation:m}),[h,m,y]);S.useEffect(function(){if(!h)return;h.cleanup();const{current:O}=E;if(!O)return;O.width=A.width,O.height=A.height,O.style.width=`${Math.floor(P.width)}px`,O.style.height=`${Math.floor(P.height)}px`,O.style.visibility="hidden";const N={annotationMode:f?e_.ENABLE_FORMS:e_.ENABLE,canvasContext:O.getContext("2d",{alpha:!1}),viewport:A};s&&(N.background=s);const z=h.render(N),V=z;return z.promise.then(()=>{O.style.visibility="",x()}).catch(T),()=>cl(V)},[s,h,f,A,P]);const L=S.useCallback(()=>{const{current:I}=E;I&&(I.width=0,I.height=0)},[]);return S.useEffect(()=>L,[L]),D.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:uk(b,E),style:{display:"block",userSelect:"none"},children:g?D.jsx(B2,{}):null})}function H2(i){return"str"in i}function U2(){const i=um();nt(i);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:l,pageIndex:c,pageNumber:h,rotate:f,scale:g}=i;nt(l);const[m,y]=iu(),{value:b,error:E}=m,x=S.useRef(null);yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function T(){b&&n&&n(b)}function A(){E&&(yn(!1,E.toString()),t&&t(E))}S.useEffect(function(){y({type:"RESET"})},[l,y]),S.useEffect(function(){if(!l)return;const V=Qh(l.getTextContent()),q=V;return V.promise.then(X=>{y({type:"RESOLVE",value:X})}).catch(X=>{y({type:"REJECT",error:X})}),()=>cl(q)},[l,y]),S.useEffect(()=>{if(b!==void 0){if(b===!1){A();return}T()}},[b]);const P=S.useCallback(()=>{a&&a()},[a]),L=S.useCallback(z=>{yn(!1,z.toString()),s&&s(z)},[s]);function I(){const z=x.current;z&&z.classList.add("selecting")}function O(){const z=x.current;z&&z.classList.remove("selecting")}const N=S.useMemo(()=>l.getViewport({scale:g,rotation:f}),[l,f,g]);return S.useLayoutEffect(function(){if(!l||!b)return;const{current:V}=x;if(!V)return;V.innerHTML="";const q=l.streamTextContent({includeMarkedContent:!0}),X={container:V,textContentSource:q,viewport:N},Z=new rk(X),xe=Z;return Z.render().then(()=>{const ce=document.createElement("div");ce.className="endOfContent",V.append(ce);const oe=V.querySelectorAll('[role="presentation"]');if(e){let ge=0;b.items.forEach((J,ee)=>{if(!H2(J))return;const W=oe[ge];if(!W)return;const re=e(Object.assign({pageIndex:c,pageNumber:h,itemIndex:ee},J));W.innerHTML=re,ge+=J.str&&J.hasEOL?2:1})}P()}).catch(L),()=>cl(xe)},[e,L,P,l,c,h,b,N]),D.jsx("div",{className:lu("react-pdf__Page__textContent","textLayer"),onMouseUp:O,onMouseDown:I,ref:x})}function $2(){const i=ck(),e=um();nt(e);const t=Object.assign(Object.assign({},i),e),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:h,page:f,pdf:g,renderForms:m,rotate:y,scale:b=1}=t;nt(g),nt(f),nt(s);const[E,x]=iu(),{value:T,error:A}=E,P=S.useRef(null);yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){T&&l&&l(T)}function I(){A&&(yn(!1,A.toString()),a&&a(A))}S.useEffect(function(){x({type:"RESET"})},[x,f]),S.useEffect(function(){if(!f)return;const q=Qh(f.getAnnotations()),X=q;return q.promise.then(Z=>{x({type:"RESOLVE",value:Z})}).catch(Z=>{x({type:"REJECT",error:Z})}),()=>{cl(X)}},[x,f]),S.useEffect(()=>{if(T!==void 0){if(T===!1){I();return}L()}},[T]);function O(){h&&h()}function N(V){yn(!1,`${V}`),c&&c(V)}const z=S.useMemo(()=>f.getViewport({scale:b,rotation:y}),[f,y,b]);return S.useEffect(function(){if(!g||!f||!s||!T)return;const{current:q}=P;if(!q)return;const X=z.clone({dontFlip:!0}),Z={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:q,l10n:null,page:f,structTreeLayer:null,viewport:X},xe={annotations:T,annotationStorage:g.annotationStorage,div:q,imageResourcesPath:n,linkService:s,page:f,renderForms:m,viewport:X};q.innerHTML="";try{new tk(Z).render(xe),O()}catch(ce){N(ce)}return()=>{}},[T,n,s,f,g,m,z]),D.jsx("div",{className:lu("react-pdf__Page__annotations","annotationLayer"),ref:P})}var V2=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(t[n[s]]=i[n[s]]);return t};const t_=1;function W2(i){const e=ck(),t=Object.assign(Object.assign({},e),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:l,children:c,className:h,customRenderer:f,customTextRenderer:g,devicePixelRatio:m,error:y="Failed to load the page.",height:b,inputRef:E,loading:x="Loading page",noData:T="No page specified.",onGetAnnotationsError:A,onGetAnnotationsSuccess:P,onGetStructTreeError:L,onGetStructTreeSuccess:I,onGetTextError:O,onGetTextSuccess:N,onLoadError:z,onLoadSuccess:V,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:X,onRenderError:Z,onRenderSuccess:xe,onRenderTextLayerError:ce,onRenderTextLayerSuccess:oe,pageIndex:ge,pageNumber:J,pdf:ee,registerPage:W,renderAnnotationLayer:re=!0,renderForms:ne=!1,renderMode:B="canvas",renderTextLayer:G=!0,rotate:ue,scale:Ee=t_,unregisterPage:ke,width:we}=t,me=V2(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ne,ze]=iu(),{value:Fe,error:Qr}=Ne,Cs=S.useRef(null);nt(ee);const qe=ea(J)?J-1:ge??null,lt=J??(ea(ge)?ge+1:null),Mt=ue??(Fe?Fe.rotate:null),xt=S.useMemo(()=>{if(!Fe)return null;let Zr=1;const Mi=Ee??t_;if(we||b){const jo=Fe.getViewport({scale:1,rotation:Mt});we?Zr=we/jo.width:b&&(Zr=b/jo.height)}return Mi*Zr},[b,Fe,Mt,Ee,we]);S.useEffect(function(){return()=>{ea(qe)&&s&&ke&&ke(qe)}},[s,ee,qe,ke]);function Jr(){if(V){if(!Fe||!xt)return;V(cb(Fe,xt))}if(s&&W){if(!ea(qe)||!Cs.current)return;W(qe,Cs.current)}}function ks(){Qr&&(yn(!1,Qr.toString()),z&&z(Qr))}S.useEffect(function(){ze({type:"RESET"})},[ze,ee,qe]),S.useEffect(function(){if(!ee||!lt)return;const Mi=Qh(ee.getPage(lt)),jo=Mi;return Mi.promise.then(Ii=>{ze({type:"RESOLVE",value:Ii})}).catch(Ii=>{ze({type:"REJECT",error:Ii})}),()=>cl(jo)},[ze,ee,lt]),S.useEffect(()=>{if(Fe!==void 0){if(Fe===!1){ks();return}Jr()}},[Fe,xt]);const hu=S.useMemo(()=>Fe&&ea(qe)&&lt&&ea(Mt)&&ea(xt)?{_className:n,canvasBackground:a,customTextRenderer:g,devicePixelRatio:m,onGetAnnotationsError:A,onGetAnnotationsSuccess:P,onGetStructTreeError:L,onGetStructTreeSuccess:I,onGetTextError:O,onGetTextSuccess:N,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:X,onRenderError:Z,onRenderSuccess:xe,onRenderTextLayerError:ce,onRenderTextLayerSuccess:oe,page:Fe,pageIndex:qe,pageNumber:lt,renderForms:ne,renderTextLayer:G,rotate:Mt,scale:xt}:null,[n,a,g,m,A,P,L,I,O,N,q,X,Z,xe,ce,oe,Fe,qe,lt,ne,G,Mt,xt]),Fo=S.useMemo(()=>sk(me,()=>Fe&&(xt?cb(Fe,xt):void 0)),[me,Fe,xt]),Ar=`${qe}@${xt}/${Mt}`;function fu(){switch(B){case"custom":return nt(f),D.jsx(f,{},`${Ar}_custom`);case"none":return null;case"canvas":default:return D.jsx(z2,{canvasRef:l},`${Ar}_canvas`)}}function Zh(){return G?D.jsx(U2,{},`${Ar}_text`):null}function ef(){return re?D.jsx($2,{},`${Ar}_annotations`):null}function tf(){return D.jsxs(dk.Provider,{value:hu,children:[fu(),Zh(),ef(),c]})}function nf(){return lt?ee===null||Fe===void 0||Fe===null?D.jsx(rc,{type:"loading",children:typeof x=="function"?x():x}):ee===!1||Fe===!1?D.jsx(rc,{type:"error",children:typeof y=="function"?y():y}):tf():D.jsx(rc,{type:"no-data",children:typeof T=="function"?T():T})}return D.jsx("div",Object.assign({className:lu(n,h),"data-page-number":lt,ref:uk(E,Cs),style:{"--scale-factor":`${xt}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Fo,{children:nf()}))}k2();Yb.workerSrc="pdf.worker.mjs";let G2={data:""},q2=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||G2,X2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Y2=/\/\*[^]*?\*\/|  +/g,n_=/\n+/g,Js=(i,e)=>{let t="",n="",s="";for(let a in i){let l=i[a];a[0]=="@"?a[1]=="i"?t=a+" "+l+";":n+=a[1]=="f"?Js(l,a):a+"{"+Js(l,a[1]=="k"?"":e)+"}":typeof l=="object"?n+=Js(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,c):c?c+" "+h:h)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Js.p?Js.p(a,l):a+":"+l+";")}return t+(e&&s?e+"{"+s+"}":s)+n},Vi={},mk=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+mk(i[t]);return e}return i},K2=(i,e,t,n,s)=>{let a=mk(i),l=Vi[a]||(Vi[a]=(h=>{let f=0,g=11;for(;f<h.length;)g=101*g+h.charCodeAt(f++)>>>0;return"go"+g})(a));if(!Vi[l]){let h=a!==i?i:(f=>{let g,m,y=[{}];for(;g=X2.exec(f.replace(Y2,""));)g[4]?y.shift():g[3]?(m=g[3].replace(n_," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][g[1]]=g[2].replace(n_," ").trim();return y[0]})(i);Vi[l]=Js(s?{["@keyframes "+l]:h}:h,t?"":"."+l)}let c=t&&Vi.g?Vi.g:null;return t&&(Vi.g=Vi[l]),((h,f,g,m)=>{m?f.data=f.data.replace(m,h):f.data.indexOf(h)===-1&&(f.data=g?h+f.data:f.data+h)})(Vi[l],e,n,c),l},Q2=(i,e,t)=>i.reduce((n,s,a)=>{let l=e[a];if(l&&l.call){let c=l(t),h=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=h?"."+h:c&&typeof c=="object"?c.props?"":Js(c,""):c===!1?"":c}return n+s+(l??"")},"");function dm(i){let e=this||{},t=i.call?i(e.p):i;return K2(t.unshift?t.raw?Q2(t,[].slice.call(arguments,1),e.p):t.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):t,q2(e.target),e.g,e.o,e.k)}let yk,ub,db;dm.bind({g:1});let Ss=dm.bind({k:1});function J2(i,e,t,n){Js.p=e,yk=i,ub=t,db=n}function Oo(i,e){let t=this||{};return function(){let n=arguments;function s(a,l){let c=Object.assign({},a),h=c.className||s.className;t.p=Object.assign({theme:ub&&ub()},c),t.o=/ *go\d+/.test(h),c.className=dm.apply(t,n)+(h?" "+h:"");let f=i;return i[0]&&(f=c.as||i,delete c.as),db&&f[0]&&db(c),yk(f,c)}return s}}var Z2=i=>typeof i=="function",Tg=(i,e)=>Z2(i)?i(e):i,ej=(()=>{let i=0;return()=>(++i).toString()})(),vk=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),tj=20,wk=(i,e)=>{switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,tj)};case 1:return{...i,toasts:i.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:t}=e;return wk(i,{type:i.toasts.find(a=>a.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=e;return{...i,toasts:i.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let s=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},pg=[],la={toasts:[],pausedAt:void 0},gl=i=>{la=wk(la,i),pg.forEach(e=>{e(la)})},nj={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rj=(i={})=>{let[e,t]=S.useState(la),n=S.useRef(la);S.useEffect(()=>(n.current!==la&&t(la),pg.push(t),()=>{let a=pg.indexOf(t);a>-1&&pg.splice(a,1)}),[]);let s=e.toasts.map(a=>{var l,c,h;return{...i,...i[a.type],...a,removeDelay:a.removeDelay||((l=i[a.type])==null?void 0:l.removeDelay)||(i==null?void 0:i.removeDelay),duration:a.duration||((c=i[a.type])==null?void 0:c.duration)||(i==null?void 0:i.duration)||nj[a.type],style:{...i.style,...(h=i[a.type])==null?void 0:h.style,...a.style}}});return{...e,toasts:s}},ij=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:(t==null?void 0:t.id)||ej()}),Jh=i=>(e,t)=>{let n=ij(e,i,t);return gl({type:2,toast:n}),n.id},Cn=(i,e)=>Jh("blank")(i,e);Cn.error=Jh("error");Cn.success=Jh("success");Cn.loading=Jh("loading");Cn.custom=Jh("custom");Cn.dismiss=i=>{gl({type:3,toastId:i})};Cn.remove=i=>gl({type:4,toastId:i});Cn.promise=(i,e,t)=>{let n=Cn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof i=="function"&&(i=i()),i.then(s=>{let a=e.success?Tg(e.success,s):void 0;return a?Cn.success(a,{id:n,...t,...t==null?void 0:t.success}):Cn.dismiss(n),s}).catch(s=>{let a=e.error?Tg(e.error,s):void 0;a?Cn.error(a,{id:n,...t,...t==null?void 0:t.error}):Cn.dismiss(n)}),i};var sj=(i,e)=>{gl({type:1,toast:{id:i,height:e}})},oj=()=>{gl({type:5,time:Date.now()})},Sd=new Map,aj=1e3,lj=(i,e=aj)=>{if(Sd.has(i))return;let t=setTimeout(()=>{Sd.delete(i),gl({type:4,toastId:i})},e);Sd.set(i,t)},cj=i=>{let{toasts:e,pausedAt:t}=rj(i);S.useEffect(()=>{if(t)return;let a=Date.now(),l=e.map(c=>{if(c.duration===1/0)return;let h=(c.duration||0)+c.pauseDuration-(a-c.createdAt);if(h<0){c.visible&&Cn.dismiss(c.id);return}return setTimeout(()=>Cn.dismiss(c.id),h)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[e,t]);let n=S.useCallback(()=>{t&&gl({type:6,time:Date.now()})},[t]),s=S.useCallback((a,l)=>{let{reverseOrder:c=!1,gutter:h=8,defaultPosition:f}=l||{},g=e.filter(b=>(b.position||f)===(a.position||f)&&b.height),m=g.findIndex(b=>b.id===a.id),y=g.filter((b,E)=>E<m&&b.visible).length;return g.filter(b=>b.visible).slice(...c?[y+1]:[0,y]).reduce((b,E)=>b+(E.height||0)+h,0)},[e]);return S.useEffect(()=>{e.forEach(a=>{if(a.dismissed)lj(a.id,a.removeDelay);else{let l=Sd.get(a.id);l&&(clearTimeout(l),Sd.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:sj,startPause:oj,endPause:n,calculateOffset:s}}},uj=Ss`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dj=Ss`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hj=Ss`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fj=Oo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dj} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hj} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,pj=Ss`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,gj=Oo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${pj} 1s linear infinite;
`,mj=Ss`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,yj=Ss`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vj=Oo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${yj} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wj=Oo("div")`
  position: absolute;
`,bj=Oo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ej=Ss`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xj=Oo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ej} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Sj=({toast:i})=>{let{icon:e,type:t,iconTheme:n}=i;return e!==void 0?typeof e=="string"?S.createElement(xj,null,e):e:t==="blank"?null:S.createElement(bj,null,S.createElement(gj,{...n}),t!=="loading"&&S.createElement(wj,null,t==="error"?S.createElement(fj,{...n}):S.createElement(vj,{...n})))},_j=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Aj=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,Cj="0%{opacity:0;} 100%{opacity:1;}",kj="0%{opacity:1;} 100%{opacity:0;}",Tj=Oo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Rj=Oo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Pj=(i,e)=>{let t=i.includes("top")?1:-1,[n,s]=vk()?[Cj,kj]:[_j(t),Aj(t)];return{animation:e?`${Ss(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ss(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Lj=S.memo(({toast:i,position:e,style:t,children:n})=>{let s=i.height?Pj(i.position||e||"top-center",i.visible):{opacity:0},a=S.createElement(Sj,{toast:i}),l=S.createElement(Rj,{...i.ariaProps},Tg(i.message,i));return S.createElement(Tj,{className:i.className,style:{...s,...t,...i.style}},typeof n=="function"?n({icon:a,message:l}):S.createElement(S.Fragment,null,a,l))});J2(S.createElement);var Mj=({id:i,className:e,style:t,onHeightUpdate:n,children:s})=>{let a=S.useCallback(l=>{if(l){let c=()=>{let h=l.getBoundingClientRect().height;n(i,h)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[i,n]);return S.createElement("div",{ref:a,className:e,style:t},s)},Ij=(i,e)=>{let t=i.includes("top"),n=t?{top:0}:{bottom:0},s=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vk()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...s}},Nj=dm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,kp=16,Dj=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:n,children:s,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:h}=cj(t);return S.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:kp,left:kp,right:kp,bottom:kp,pointerEvents:"none",...a},className:l,onMouseEnter:h.startPause,onMouseLeave:h.endPause},c.map(f=>{let g=f.position||e,m=h.calculateOffset(f,{reverseOrder:i,gutter:n,defaultPosition:e}),y=Ij(g,m);return S.createElement(Mj,{id:f.id,key:f.id,onHeightUpdate:h.updateHeight,className:f.visible?Nj:"",style:y},f.type==="custom"?Tg(f.message,f):s?s(f):S.createElement(Lj,{toast:f,position:g}))}))},ta=Cn;Yb.workerSrc="http://localhost:4000/pdf.worker.mjs";function Oj({roomCode:i}){var I;const e=Io(),{data:t}=e.state||{},[n,s]=S.useState(1),[a,l]=S.useState(null),[c,h]=S.useState((t==null?void 0:t.files)||[]),[f,g]=S.useState(((I=t==null?void 0:t.activePdf)==null?void 0:I.filename)||null),[m,y]=S.useState(!1),[b,E]=S.useState(!1);S.useEffect(()=>{if(i)return _e.emit("fetch-room-data",{roomCode:i}),_e.on("room-data",O=>{var N,z;h((O==null?void 0:O.files)||[]),g(((N=O==null?void 0:O.activePdf)==null?void 0:N.filename)||null),s(((z=O==null?void 0:O.activePdf)==null?void 0:z.page)||1)}),()=>_e.off("room-data")},[i]),S.useEffect(()=>(_e.on("file-uploaded",O=>{h(N=>[...N,O])}),()=>_e.off("file-uploaded")),[]);const x=O=>{l(O.target.files[0])},T=async()=>{if(!a||!i){ta.error("Please select a file to upload.");return}ta.loading("Uploading file...");const O=new FormData;O.append("file",a),O.append("roomCode",i);try{(await fetch("http://localhost:4000/upload",{method:"POST",body:O})).ok?(ta.dismiss(),ta.success("File uploaded successfully!"),y(!1)):alert("Upload failed!")}catch(N){ta.dismiss(),console.error("Upload error:",N),ta.error("Upload failed!")}},A=O=>{E(!1),_e.emit("pdf-file-change",{roomCode:i,filename:O.path}),_e.on("pdf-file-updated",N=>{g(N.filename)})},P=O=>{_e.emit("pdf-page-change",{roomCode:i,page:O,filename:f}),_e.on("pdf-page-updated",N=>{s(N.page)})},L=()=>{navigator.clipboard.writeText(i),ta.success("Room code copied!")};return D.jsxs("div",{className:"p-4 flex flex-col items-center mt-16",children:[D.jsx(wr,{variant:"outline",onClick:L,className:"mb-4 bg-gray-800 text-white",children:"Copy Room Code"}),D.jsxs("div",{className:"flex gap-4",children:[D.jsxs(yg,{open:m,onOpenChange:y,children:[D.jsx(vg,{asChild:!0,children:D.jsx(wr,{variant:"outline",className:"bg-gray-800 text-white",children:"Upload File"})}),D.jsxs(wg,{children:[D.jsx("h2",{className:"text-lg font-semibold",children:"Upload a File"}),D.jsx("input",{type:"file",accept:"image/*,.pdf,.doc,.docx,.txt",onChange:x,className:"border p-2 rounded w-full"}),D.jsx(wr,{onClick:T,className:"mt-2 bg-gray-700 text-white",children:"Upload"})]})]}),D.jsxs(yg,{open:b,onOpenChange:E,children:[D.jsx(vg,{asChild:!0,children:D.jsx(wr,{variant:"outline",className:"bg-gray-800 text-white",children:"Show Uploaded Files"})}),D.jsxs(wg,{children:[D.jsx("h2",{className:"text-lg font-semibold",children:"Uploaded Files"}),D.jsx("ul",{className:"mt-2",children:c.map((O,N)=>D.jsx("li",{className:"text-blue-600 cursor-pointer underline",onClick:()=>A(O),children:O.originalName},N))})]})]})]}),f&&D.jsx("div",{className:"mt-4 border p-4 rounded w-full max-w-3xl",children:D.jsx("div",{className:"border p-2 overflow-auto max-h-[80vh]",children:f.endsWith(".pdf")?D.jsxs(D.Fragment,{children:[D.jsx(N2,{file:`${f}`,className:"overflow-auto",children:D.jsx(W2,{pageNumber:n,className:"max-w-full h-auto"})}),D.jsxs("div",{className:"flex justify-between mt-2",children:[D.jsx(wr,{variant:"outline",onClick:()=>P(n-1),className:"px-4 py-2 bg-gray-700 text-white",children:""}),D.jsx(wr,{variant:"outline",onClick:()=>P(n+1),className:"px-4 py-2 bg-gray-700 text-white",children:""})]})]}):f.match(/\.(jpeg|jpg|png|gif)$/)?D.jsx("img",{src:`${f}`,alt:"Uploaded",className:"max-w-full h-auto"}):D.jsx("p",{children:"File format not supported for preview."})})})]})}const Fj=({roomCode:i})=>{const[e,t]=S.useState([]),n=S.useRef(null),s=S.useRef(null),[a,l]=S.useState(!1);S.useEffect(()=>{if(i)return _e.emit("fetch-room-data",{roomCode:i}),_e.on("room-data",m=>{t((m==null?void 0:m.stroke)||[]),g(m==null?void 0:m.stroke)}),()=>_e.off("room-data")},[i]),S.useEffect(()=>{const m=n.current;m.width=300,m.height=380;const y=m.getContext("2d");return y.lineCap="round",y.lineJoin="round",y.strokeStyle="black",y.lineWidth=2,s.current=y,g(e),_e.on("receive-stroke",b=>g(b)),()=>_e.off("receive-stroke")},[]);const c=m=>{l(!0),t([]),s.current.beginPath()},h=()=>{l(!1),s.current.beginPath(),e.length>1&&_e.emit("send-stroke",{stroke:e,roomCode:i})},f=m=>{if(!a)return;const y=m.nativeEvent.offsetX,b=m.nativeEvent.offsetY;s.current.lineTo(y,b),s.current.stroke(),t(E=>[...E,{x:y,y:b}])},g=m=>{if(!m||m.length<2){s.current.clearRect(0,0,n.current.width,n.current.height);return}s.current.beginPath(),m.forEach(({x:y,y:b,type:E},x)=>{E==="break"?s.current.beginPath():x===0||m[x-1].type==="break"?s.current.moveTo(y,b):(s.current.lineTo(y,b),s.current.stroke())}),s.current.beginPath()};return D.jsxs("div",{className:"flex flex-col items-center p-4 bg-gray-800 min-h-screen",children:[D.jsx("canvas",{ref:n,className:"border border-gray-300 shadow-md bg-white rounded-lg cursor-crosshair",onMouseDown:c,onMouseUp:h,onMouseMove:f}),D.jsx("button",{className:"mt-4 px-6 py-2 bg-red-600 text-white font-medium rounded-md shadow hover:bg-red-700 transition-all",onClick:()=>{s.current.clearRect(0,0,n.current.width,n.current.height),_e.emit("send-stroke",{stroke:[],roomCode:i})},children:"Clear Canvas"})]})};function jj({roomCode:i}){console.log("VideoRoom initialized with roomCode:",i),S.useEffect(()=>{_e.on("user-left",s=>{console.log("User left:",s);const a=document.getElementById(`video-${s}`);a&&a.remove()});const t=document.querySelector(".videoroom");if(!t){console.error("Error: .videoroom container not found in DOM!");return}const n=document.createElement("video");return n.muted=!0,navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(s=>{n.srcObject=s,n.addEventListener("loadedmetadata",()=>{n.play().then(()=>{console.log("Local video playback started.");const a=document.createElement("button");a.innerHTML="Mute",a.onclick=()=>{s.getAudioTracks().forEach(f=>{f.enabled=!f.enabled}),a.innerHTML=s.getAudioTracks()[0].enabled?"Mute":"Unmute"};const l=document.createElement("button");l.innerHTML="Stop",l.onclick=()=>{s.getVideoTracks().forEach(f=>{f.enabled=!f.enabled}),l.innerHTML=s.getVideoTracks()[0].enabled?"Stop ":"Start "};const c=document.createElement("div");c.appendChild(n);const h=document.createElement("div");h.appendChild(l),h.appendChild(a),c.appendChild(h),h.classList.add("flex"),h.classList.add("flex-row"),h.classList.add("justify-center"),h.classList.add("space-x-2"),t.appendChild(c)}).catch(a=>console.error("Local video playback error:",a))}),console.log("Local stream obtained:",s),e(s)}).catch(s=>{console.error("Error accessing media devices:",s)}),()=>{_e.off("users"),_e.off("offer"),_e.off("answer"),_e.off("ice-candidate")}},[]);async function e(t){_e.off("offer"),_e.on("offer",async n=>{if(console.log("Offer received from:",n.from,"to:",n.to,"Socket ID:",_e.id),n.to===_e.id){console.log("Offer received for this socket.",n.offer,"me",_e.id);try{const s=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});t.getTracks().forEach(l=>s.addTrack(l,t)),console.log("PeerConnection initialized for offer handling."),s.onicecandidate||(s.onicecandidate=l=>{l.candidate&&(console.log("ICE Candidate generated:",l.candidate),_e.emit("ice-candidate",{to:n.from,candidate:l.candidate,from:_e.id}))}),s.ontrack=l=>{if(console.log("Track received from peer:",l.streams[0]),l.streams[0])if(document.getElementById(`video-${n.from}`))console.log("Video element already exists for user:",n.from);else{const h=document.createElement("video");h.id=`video-${n.from}`,h.srcObject=l.streams[0],h.autoplay=!0;const f=document.createElement("button");f.innerHTML="Mute",f.onclick=()=>{h.muted?(h.muted=!1,f.innerHTML="Unmute"):(h.muted=!0,f.innerHTML="Mute")};const g=document.createElement("button");g.innerHTML="Stop Video",g.onclick=()=>{h.paused?(h.play(),g.innerHTML="Stop "):(h.pause(),g.innerHTML="Start ")};const m=document.createElement("h1");m.innerHTML=n.user;const y=document.createElement("div"),b=document.createElement("div");b.appendChild(g),b.appendChild(f),y.appendChild(h),y.appendChild(b),y.appendChild(m),y.id="video-"+n.from,document.querySelector(".videoroom").appendChild(y),console.log("Remote video added for user:",n.from)}},await s.setRemoteDescription(n.offer);const a=await s.createAnswer();await s.setLocalDescription(a),console.log("Answer created and sent to:",n.from),_e.emit("answer",{to:n.from,answer:a,from:_e.id})}catch(s){console.error("Error handling offer:",s)}}}),_e.emit("fetch-users",i),_e.on("users",n=>{n.forEach(s=>{console.log("Connecting to user:",s);const a=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});t.getTracks().forEach(l=>a.addTrack(l,t)),a.onnegotiationneeded=async()=>{try{const l=await a.createOffer();await a.setLocalDescription(l),console.log("Offer created and sent to:",s),_e.emit("offer",{to:s,offer:l,from:_e.id})}catch(l){console.error("Error making offer:",l)}},_e.on("answer",async l=>{if(console.log("Answer received from:",l.from,"to:",l.to,l.answer),l.from===s){l.answer;try{await a.setRemoteDescription(l.answer),console.log("Remote description set.")}catch(c){console.error("Error setting remote description:",c)}}}),_e.on("ice-candidate",l=>{if(console.log("ICE Candidate received from:",l.from,"to:",l.to),l.to===_e.id)try{a.addIceCandidate(l.candidate)}catch(c){console.error("Error adding ICE candidate:",c)}}),a.ontrack=l=>{if(console.log("Track received:",l.streams[0]),!document.getElementById(`video-${s}`)){const h=document.createElement("video");h.id=`video-${s}`,h.srcObject=l.streams[0],h.autoplay=!0;const f=document.createElement("button");f.innerHTML="Mute",f.onclick=()=>{h.muted?(h.muted=!1,f.innerHTML="Unmute"):(h.muted=!0,f.innerHTML="Mute")};const g=document.createElement("button");g.innerHTML="Stop ",g.onclick=()=>{h.paused?(h.play(),g.innerHTML="Stop "):(h.pause(),g.innerHTML="Start ")};const m=document.createElement("h1");m.innerHTML=(uv==null?void 0:uv.user)||"User";const y=document.createElement("div"),b=document.createElement("div");b.appendChild(g),b.appendChild(f),y.appendChild(h),y.appendChild(b),y.appendChild(m),y.id="video-"+s,document.querySelector(".videoroom").appendChild(y)}}})})}return D.jsx("div",{className:"videoroom  bg-gray-900"})}function Bj(){const{roomCode:i}=QP(),[e,t]=S.useState("chat");return D.jsxs(D.Fragment,{children:[D.jsx(Dj,{position:"top-right",reverseOrder:!1}),D.jsxs("div",{className:"flex h-screen w-full bg-gray-900 text-white overflow-hidden sm:flex-col",children:[D.jsxs("div",{className:"w-1/3 min-h-screen flex flex-col border-r  fixed left-0 bg-gray-800",children:[D.jsx(Cb,{className:"border-none rounded-none shadow-none bg-transparent",children:D.jsx(BM,{className:"p-2 flex justify-around",children:D.jsxs(GN,{type:"single",value:e,onValueChange:n=>t(n||"chat"),className:"w-full flex justify-center",children:[D.jsx(_S,{variant:"outline",className:"px-4 py-2 bg-gray-700 text-white",value:"chat",children:"Chat"}),D.jsx(_S,{variant:"outline",className:"px-4 py-2 bg-gray-700 text-white",value:"whiteboard",children:"Whiteboard"})]})})}),D.jsx("div",{className:"flex-1 overflow-y-auto",children:e==="chat"?D.jsx(uD,{roomCode:i}):D.jsx(Fj,{roomCode:i})})]}),D.jsx("div",{className:"w-1/2 h-full flex items-center justify-center mx-auto fixed left-1/3  border-gray-700 overflow-y-auto",children:D.jsx(Oj,{roomCode:i})}),D.jsx("div",{className:"w-1/5 h-full p-4 fixed right-0 overflow-y-auto",children:D.jsx(jj,{roomCode:i})})]})]})}function zj(){return D.jsx(OL,{children:D.jsxs(hL,{children:[D.jsx(Dv,{path:"/",element:D.jsx(SN,{})}),D.jsx(Dv,{path:"/room/:roomCode",element:D.jsx(Bj,{})})]})})}CR.createRoot(document.getElementById("root")).render(D.jsx(zj,{}));
